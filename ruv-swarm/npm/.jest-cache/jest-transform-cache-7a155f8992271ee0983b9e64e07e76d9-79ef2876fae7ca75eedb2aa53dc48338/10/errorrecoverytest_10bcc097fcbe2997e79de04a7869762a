6606d811e43dbc99d0a9874b287ac0c9
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
const {
  expect
} = require('chai');
const sinon = require('sinon');
const RuvSwarm = require('../../../../src/core/ruv-swarm');
const Agent = require('../../../../src/agent');
const Database = require('better-sqlite3');
const EventEmitter = require('events');
describe('Error Recovery and Resilience Integration', () => {
  let sandbox;
  let swarm;
  let db;
  beforeEach(() => {
    sandbox = sinon.createSandbox();
  });
  afterEach(/*#__PURE__*/_asyncToGenerator(function* () {
    if (swarm) {
      yield swarm.shutdown();
    }
    if (db && db.open) {
      db.close();
    }
    sandbox.restore();
  }));
  describe('Component Failure Recovery', () => {
    it('should recover from agent failures gracefully', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        resilience: {
          enabled: true,
          retryAttempts: 3
        }
      });

      // Spawn multiple agents
      const agents = yield Promise.all([swarm.spawnAgent({
        type: 'coder'
      }), swarm.spawnAgent({
        type: 'coder'
      }), swarm.spawnAgent({
        type: 'coder'
      })]);

      // Simulate agent failure
      const failingAgent = agents[1];
      sandbox.stub(failingAgent, 'executeTask').rejects(new Error('Agent crashed'));

      // Orchestrate task
      const task = yield swarm.orchestrateTask({
        task: 'Process data with fault tolerance',
        strategy: 'parallel',
        faultTolerant: true
      });

      // Wait for task completion
      let taskStatus;
      for (let i = 0; i < 10; i++) {
        taskStatus = yield swarm.getTaskStatus(task.id);
        if (taskStatus.status === 'completed' || taskStatus.status === 'failed') break;
        yield new Promise(resolve => setTimeout(resolve, 1000));
      }

      // Verify task completed despite agent failure
      expect(taskStatus.status).to.equal('completed');
      expect(taskStatus.failedAgents).to.include(failingAgent.id);
      expect(taskStatus.recoveryActions).to.have.lengthOf.at.least(1);
      expect(taskStatus.result).to.exist;
    }));
    it('should handle cascading failures', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'hierarchical',
        resilience: {
          enabled: true,
          cascadeProtection: true,
          isolationMode: 'strict'
        }
      });

      // Create hierarchy
      const coordinator = yield swarm.spawnAgent({
        type: 'coordinator'
      });
      const midLevel = yield Promise.all([swarm.spawnAgent({
        type: 'analyst',
        parentId: coordinator.id
      }), swarm.spawnAgent({
        type: 'analyst',
        parentId: coordinator.id
      })]);
      const workers = yield Promise.all([swarm.spawnAgent({
        type: 'coder',
        parentId: midLevel[0].id
      }), swarm.spawnAgent({
        type: 'coder',
        parentId: midLevel[0].id
      }), swarm.spawnAgent({
        type: 'coder',
        parentId: midLevel[1].id
      })]);

      // Simulate mid-level failure
      sandbox.stub(midLevel[0], 'executeTask').rejects(new Error('Mid-level crash'));

      // Execute hierarchical task
      const task = yield swarm.orchestrateTask({
        task: 'Hierarchical processing with failure',
        coordinatorId: coordinator.id,
        cascadeProtection: true
      });

      // Monitor recovery
      const recoveryEvents = [];
      swarm.on('recovery', event => recoveryEvents.push(event));

      // Wait for recovery
      yield new Promise(resolve => setTimeout(resolve, 3000));

      // Verify cascade protection
      expect(recoveryEvents).to.have.lengthOf.at.least(1);
      const status = yield swarm.getStatus();
      const activeAgents = status.agents.filter(a => a.status !== 'failed');

      // Coordinator and other branch should survive
      expect(activeAgents).to.include.deep.members([{
        id: coordinator.id,
        status: 'idle'
      }, {
        id: midLevel[1].id,
        status: 'idle'
      }]);

      // Workers under failed mid-level should be reassigned
      const reassignedWorkers = recoveryEvents.filter(e => e.type === 'reassignment');
      expect(reassignedWorkers).to.have.lengthOf.at.least(2);
    }));
    it('should implement circuit breaker pattern', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        resilience: {
          circuitBreaker: {
            enabled: true,
            threshold: 3,
            timeout: 5000,
            halfOpenRetries: 2
          }
        }
      });
      const agent = yield swarm.spawnAgent({
        type: 'coder'
      });

      // Create a failing service
      let callCount = 0;
      const failingService = sandbox.stub().callsFake(() => {
        callCount++;
        if (callCount <= 5) throw new Error('Service unavailable');
        return {
          success: true
        };
      });

      // Replace agent's service call
      agent.callService = failingService;

      // Attempt multiple calls
      const results = [];
      for (let i = 0; i < 10; i++) {
        try {
          const result = yield swarm.executeAgentTask(agent.id, {
            task: 'Call external service',
            useCircuitBreaker: true
          });
          results.push({
            success: true,
            result
          });
        } catch (error) {
          results.push({
            success: false,
            error: error.message
          });
        }
        yield new Promise(resolve => setTimeout(resolve, 500));
      }

      // Verify circuit breaker behavior
      const failures = results.filter(r => !r.success);
      const circuitOpenErrors = failures.filter(f => f.error.includes('Circuit breaker open'));
      expect(failures).to.have.lengthOf.at.least(3);
      expect(circuitOpenErrors).to.have.lengthOf.at.least(1);

      // Eventually should succeed after circuit closes
      const successes = results.filter(r => r.success);
      expect(successes).to.have.lengthOf.at.least(1);
    }));
  });
  describe('Database and Persistence Recovery', () => {
    it('should handle database connection failures', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();

      // Mock database with intermittent failures
      const mockDb = {
        prepare: sandbox.stub(),
        close: sandbox.stub(),
        open: true
      };
      let failureCount = 0;
      mockDb.prepare.callsFake(query => {
        if (failureCount++ < 2) {
          throw new Error('Database connection lost');
        }
        return {
          all: () => [],
          run: () => ({
            changes: 1
          }),
          get: () => ({
            id: 1
          })
        };
      });
      yield swarm.init({
        topology: 'mesh',
        persistence: {
          enabled: true,
          retryOnFailure: true,
          maxRetries: 5
        },
        database: mockDb
      });

      // Spawn agent with persistence
      const agent = yield swarm.spawnAgent({
        type: 'researcher',
        persistent: true
      });

      // Verify agent created despite initial failures
      expect(agent).to.exist;
      expect(agent.id).to.exist;

      // Verify retries occurred
      expect(mockDb.prepare.callCount).to.be.greaterThan(2);
    }));
    it('should implement write-ahead logging for recovery', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        persistence: {
          enabled: true,
          wal: true,
          checkpoint: 1000
        }
      });

      // Create multiple agents and tasks
      const agents = yield Promise.all([swarm.spawnAgent({
        type: 'coder'
      }), swarm.spawnAgent({
        type: 'analyst'
      })]);
      const tasks = [];
      for (let i = 0; i < 5; i++) {
        tasks.push(swarm.orchestrateTask({
          task: `Task ${i}`,
          persistent: true
        }));
      }
      yield Promise.all(tasks);

      // Simulate crash by forcing shutdown
      swarm._forceShutdown = true;

      // Create new swarm instance
      const recoveredSwarm = new RuvSwarm();
      yield recoveredSwarm.init({
        topology: 'mesh',
        persistence: {
          enabled: true,
          recoverFromWAL: true
        }
      });

      // Verify state recovered from WAL
      const status = yield recoveredSwarm.getStatus();
      expect(status.agents).to.have.lengthOf(2);
      const recoveredTasks = yield recoveredSwarm.getAllTasks();
      expect(recoveredTasks).to.have.lengthOf(5);
      yield recoveredSwarm.shutdown();
    }));
    it('should handle corrupted state gracefully', /*#__PURE__*/_asyncToGenerator(function* () {
      // Create corrupted database
      const corruptDb = new Database(':memory:');
      corruptDb.exec(`
        CREATE TABLE agents (
          id TEXT PRIMARY KEY,
          data TEXT
        );
        CREATE TABLE tasks (
          id TEXT PRIMARY KEY,
          data TEXT
        );
      `);

      // Insert corrupted data
      corruptDb.prepare('INSERT INTO agents VALUES (?, ?)').run('agent1', 'CORRUPTED{{{');
      corruptDb.prepare('INSERT INTO tasks VALUES (?, ?)').run('task1', '{"invalid": json}');
      swarm = new RuvSwarm();
      const initResult = yield swarm.init({
        topology: 'mesh',
        persistence: {
          enabled: true,
          handleCorruption: true,
          database: corruptDb
        }
      });

      // Should initialize despite corruption
      expect(initResult.success).to.be.true;
      expect(initResult.corruptedEntries).to.have.lengthOf(2);
      expect(initResult.recoveryMode).to.be.true;

      // Should be able to operate normally
      const agent = yield swarm.spawnAgent({
        type: 'coder'
      });
      expect(agent).to.exist;
      corruptDb.close();
    }));
  });
  describe('Network and Communication Recovery', () => {
    it('should handle network partition scenarios', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        network: {
          partitionTolerant: true,
          consensusProtocol: 'raft'
        }
      });

      // Create agents across partitions
      const partition1 = yield Promise.all([swarm.spawnAgent({
        type: 'coder',
        partition: 1
      }), swarm.spawnAgent({
        type: 'analyst',
        partition: 1
      })]);
      const partition2 = yield Promise.all([swarm.spawnAgent({
        type: 'coder',
        partition: 2
      }), swarm.spawnAgent({
        type: 'researcher',
        partition: 2
      })]);

      // Simulate network partition
      swarm.simulatePartition([1, 2]);

      // Each partition should continue operating
      const task1 = yield swarm.orchestrateTask({
        task: 'Partition 1 task',
        partition: 1
      });
      const task2 = yield swarm.orchestrateTask({
        task: 'Partition 2 task',
        partition: 2
      });

      // Wait for tasks
      yield new Promise(resolve => setTimeout(resolve, 2000));

      // Heal partition
      swarm.healPartition();

      // Wait for reconciliation
      yield new Promise(resolve => setTimeout(resolve, 1000));

      // Verify both tasks completed and state reconciled
      const allTasks = yield swarm.getAllTasks();
      expect(allTasks).to.include.deep.members([{
        id: task1.id,
        status: 'completed'
      }, {
        id: task2.id,
        status: 'completed'
      }]);

      // Verify conflict resolution
      const conflicts = yield swarm.getConflictLog();
      expect(conflicts).to.be.an('array');
      if (conflicts.length > 0) {
        conflicts.forEach(conflict => {
          expect(conflict).to.have.property('resolved', true);
          expect(conflict).to.have.property('resolution');
        });
      }
    }));
    it('should implement retry with exponential backoff', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'star',
        network: {
          retryPolicy: {
            enabled: true,
            initialDelay: 100,
            maxDelay: 5000,
            backoffMultiplier: 2,
            maxAttempts: 5
          }
        }
      });
      const agent = yield swarm.spawnAgent({
        type: 'coder'
      });

      // Mock flaky network
      let attempts = 0;
      const flakyNetwork = sandbox.stub(swarm._network, 'send').callsFake(/*#__PURE__*/_asyncToGenerator(function* () {
        attempts++;
        if (attempts < 4) {
          throw new Error('Network timeout');
        }
        return {
          success: true
        };
      }));
      const startTime = Date.now();
      const result = yield swarm.sendAgentMessage(agent.id, {
        type: 'task',
        data: 'Important message'
      });
      const elapsed = Date.now() - startTime;

      // Verify retries with backoff
      expect(attempts).to.equal(4);
      expect(result.success).to.be.true;

      // Should have taken at least: 100 + 200 + 400 = 700ms
      expect(elapsed).to.be.at.least(700);
    }));
    it('should handle message queue overflow', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        messageQueue: {
          maxSize: 100,
          overflowStrategy: 'drop-oldest',
          persistQueue: true
        }
      });
      const agents = yield Promise.all([swarm.spawnAgent({
        type: 'coder'
      }), swarm.spawnAgent({
        type: 'analyst'
      })]);

      // Flood with messages
      const messages = [];
      for (let i = 0; i < 150; i++) {
        messages.push(swarm.broadcastMessage({
          type: 'update',
          priority: i < 50 ? 'low' : 'high',
          data: `Message ${i}`
        }));
      }
      yield Promise.all(messages);

      // Check queue state
      const queueStats = yield swarm.getQueueStats();
      expect(queueStats.currentSize).to.equal(100);
      expect(queueStats.dropped).to.equal(50);
      expect(queueStats.overflowEvents).to.be.greaterThan(0);

      // High priority messages should be preserved
      const remainingMessages = yield swarm.getQueuedMessages();
      const highPriorityCount = remainingMessages.filter(m => m.priority === 'high').length;
      expect(highPriorityCount).to.be.greaterThan(50);
    }));
  });
  describe('Resource Management and Cleanup', () => {
    it('should prevent resource leaks under stress', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        resourceLimits: {
          maxMemory: 512 * 1024 * 1024,
          // 512MB
          maxAgents: 50,
          gcInterval: 1000
        }
      });

      // Track initial memory
      const initialMemory = process.memoryUsage().heapUsed;

      // Stress test with rapid agent creation/destruction
      for (let cycle = 0; cycle < 5; cycle++) {
        const agents = [];

        // Spawn many agents
        for (let i = 0; i < 20; i++) {
          agents.push(yield swarm.spawnAgent({
            type: 'coder',
            ephemeral: true
          }));
        }

        // Execute tasks
        const tasks = agents.map(agent => swarm.executeAgentTask(agent.id, {
          task: 'Memory intensive operation',
          data: Buffer.alloc(1024 * 1024) // 1MB per task
        }));
        yield Promise.all(tasks);

        // Destroy agents
        yield Promise.all(agents.map(a => swarm.destroyAgent(a.id)));

        // Force GC if available
        if (global.gc) global.gc();
        yield new Promise(resolve => setTimeout(resolve, 100));
      }

      // Check memory didn't grow excessively
      const finalMemory = process.memoryUsage().heapUsed;
      const memoryGrowth = finalMemory - initialMemory;

      // Should not grow more than 50MB
      expect(memoryGrowth).to.be.lessThan(50 * 1024 * 1024);

      // Verify no leaked agents
      const status = yield swarm.getStatus();
      expect(status.agents).to.have.lengthOf(0);
    }));
    it('should handle graceful degradation under load', /*#__PURE__*/_asyncToGenerator(function* () {
      swarm = new RuvSwarm();
      yield swarm.init({
        topology: 'mesh',
        loadBalancing: {
          enabled: true,
          strategy: 'least-loaded',
          degradationThreshold: 0.8
        }
      });

      // Create limited agents
      const agents = yield Promise.all([swarm.spawnAgent({
        type: 'coder',
        capacity: 5
      }), swarm.spawnAgent({
        type: 'coder',
        capacity: 5
      }), swarm.spawnAgent({
        type: 'coder',
        capacity: 5
      })]);

      // Generate high load
      const tasks = [];
      for (let i = 0; i < 30; i++) {
        tasks.push(swarm.orchestrateTask({
          task: `High load task ${i}`,
          priority: i < 10 ? 'high' : 'normal',
          estimatedLoad: 1
        }));
      }

      // Monitor degradation
      const degradationEvents = [];
      swarm.on('degradation', event => degradationEvents.push(event));

      // Wait for processing
      yield new Promise(resolve => setTimeout(resolve, 5000));

      // Verify graceful degradation occurred
      expect(degradationEvents).to.have.lengthOf.at.least(1);
      const results = yield Promise.allSettled(tasks);
      const completed = results.filter(r => r.status === 'fulfilled').length;
      const rejected = results.filter(r => r.status === 'rejected').length;

      // High priority tasks should complete
      const highPriorityResults = results.slice(0, 10);
      const highPriorityCompleted = highPriorityResults.filter(r => r.status === 'fulfilled').length;
      expect(highPriorityCompleted).to.be.at.least(8);

      // Some lower priority might be rejected
      expect(rejected).to.be.greaterThan(0);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBlY3QiLCJyZXF1aXJlIiwic2lub24iLCJSdXZTd2FybSIsIkFnZW50IiwiRGF0YWJhc2UiLCJFdmVudEVtaXR0ZXIiLCJkZXNjcmliZSIsInNhbmRib3giLCJzd2FybSIsImRiIiwiYmVmb3JlRWFjaCIsImNyZWF0ZVNhbmRib3giLCJhZnRlckVhY2giLCJfYXN5bmNUb0dlbmVyYXRvciIsInNodXRkb3duIiwib3BlbiIsImNsb3NlIiwicmVzdG9yZSIsIml0IiwiaW5pdCIsInRvcG9sb2d5IiwicmVzaWxpZW5jZSIsImVuYWJsZWQiLCJyZXRyeUF0dGVtcHRzIiwiYWdlbnRzIiwiUHJvbWlzZSIsImFsbCIsInNwYXduQWdlbnQiLCJ0eXBlIiwiZmFpbGluZ0FnZW50Iiwic3R1YiIsInJlamVjdHMiLCJFcnJvciIsInRhc2siLCJvcmNoZXN0cmF0ZVRhc2siLCJzdHJhdGVneSIsImZhdWx0VG9sZXJhbnQiLCJ0YXNrU3RhdHVzIiwiaSIsImdldFRhc2tTdGF0dXMiLCJpZCIsInN0YXR1cyIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwidG8iLCJlcXVhbCIsImZhaWxlZEFnZW50cyIsImluY2x1ZGUiLCJyZWNvdmVyeUFjdGlvbnMiLCJoYXZlIiwibGVuZ3RoT2YiLCJhdCIsImxlYXN0IiwicmVzdWx0IiwiZXhpc3QiLCJjYXNjYWRlUHJvdGVjdGlvbiIsImlzb2xhdGlvbk1vZGUiLCJjb29yZGluYXRvciIsIm1pZExldmVsIiwicGFyZW50SWQiLCJ3b3JrZXJzIiwiY29vcmRpbmF0b3JJZCIsInJlY292ZXJ5RXZlbnRzIiwib24iLCJldmVudCIsInB1c2giLCJnZXRTdGF0dXMiLCJhY3RpdmVBZ2VudHMiLCJmaWx0ZXIiLCJhIiwiZGVlcCIsIm1lbWJlcnMiLCJyZWFzc2lnbmVkV29ya2VycyIsImUiLCJjaXJjdWl0QnJlYWtlciIsInRocmVzaG9sZCIsInRpbWVvdXQiLCJoYWxmT3BlblJldHJpZXMiLCJhZ2VudCIsImNhbGxDb3VudCIsImZhaWxpbmdTZXJ2aWNlIiwiY2FsbHNGYWtlIiwic3VjY2VzcyIsImNhbGxTZXJ2aWNlIiwicmVzdWx0cyIsImV4ZWN1dGVBZ2VudFRhc2siLCJ1c2VDaXJjdWl0QnJlYWtlciIsImVycm9yIiwibWVzc2FnZSIsImZhaWx1cmVzIiwiciIsImNpcmN1aXRPcGVuRXJyb3JzIiwiZiIsImluY2x1ZGVzIiwic3VjY2Vzc2VzIiwibW9ja0RiIiwicHJlcGFyZSIsImZhaWx1cmVDb3VudCIsInF1ZXJ5IiwicnVuIiwiY2hhbmdlcyIsImdldCIsInBlcnNpc3RlbmNlIiwicmV0cnlPbkZhaWx1cmUiLCJtYXhSZXRyaWVzIiwiZGF0YWJhc2UiLCJwZXJzaXN0ZW50IiwiYmUiLCJncmVhdGVyVGhhbiIsIndhbCIsImNoZWNrcG9pbnQiLCJ0YXNrcyIsIl9mb3JjZVNodXRkb3duIiwicmVjb3ZlcmVkU3dhcm0iLCJyZWNvdmVyRnJvbVdBTCIsInJlY292ZXJlZFRhc2tzIiwiZ2V0QWxsVGFza3MiLCJjb3JydXB0RGIiLCJleGVjIiwiaW5pdFJlc3VsdCIsImhhbmRsZUNvcnJ1cHRpb24iLCJ0cnVlIiwiY29ycnVwdGVkRW50cmllcyIsInJlY292ZXJ5TW9kZSIsIm5ldHdvcmsiLCJwYXJ0aXRpb25Ub2xlcmFudCIsImNvbnNlbnN1c1Byb3RvY29sIiwicGFydGl0aW9uMSIsInBhcnRpdGlvbiIsInBhcnRpdGlvbjIiLCJzaW11bGF0ZVBhcnRpdGlvbiIsInRhc2sxIiwidGFzazIiLCJoZWFsUGFydGl0aW9uIiwiYWxsVGFza3MiLCJjb25mbGljdHMiLCJnZXRDb25mbGljdExvZyIsImFuIiwibGVuZ3RoIiwiZm9yRWFjaCIsImNvbmZsaWN0IiwicHJvcGVydHkiLCJyZXRyeVBvbGljeSIsImluaXRpYWxEZWxheSIsIm1heERlbGF5IiwiYmFja29mZk11bHRpcGxpZXIiLCJtYXhBdHRlbXB0cyIsImF0dGVtcHRzIiwiZmxha3lOZXR3b3JrIiwiX25ldHdvcmsiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93Iiwic2VuZEFnZW50TWVzc2FnZSIsImRhdGEiLCJlbGFwc2VkIiwibWVzc2FnZVF1ZXVlIiwibWF4U2l6ZSIsIm92ZXJmbG93U3RyYXRlZ3kiLCJwZXJzaXN0UXVldWUiLCJtZXNzYWdlcyIsImJyb2FkY2FzdE1lc3NhZ2UiLCJwcmlvcml0eSIsInF1ZXVlU3RhdHMiLCJnZXRRdWV1ZVN0YXRzIiwiY3VycmVudFNpemUiLCJkcm9wcGVkIiwib3ZlcmZsb3dFdmVudHMiLCJyZW1haW5pbmdNZXNzYWdlcyIsImdldFF1ZXVlZE1lc3NhZ2VzIiwiaGlnaFByaW9yaXR5Q291bnQiLCJtIiwicmVzb3VyY2VMaW1pdHMiLCJtYXhNZW1vcnkiLCJtYXhBZ2VudHMiLCJnY0ludGVydmFsIiwiaW5pdGlhbE1lbW9yeSIsInByb2Nlc3MiLCJtZW1vcnlVc2FnZSIsImhlYXBVc2VkIiwiY3ljbGUiLCJlcGhlbWVyYWwiLCJtYXAiLCJCdWZmZXIiLCJhbGxvYyIsImRlc3Ryb3lBZ2VudCIsImdsb2JhbCIsImdjIiwiZmluYWxNZW1vcnkiLCJtZW1vcnlHcm93dGgiLCJsZXNzVGhhbiIsImxvYWRCYWxhbmNpbmciLCJkZWdyYWRhdGlvblRocmVzaG9sZCIsImNhcGFjaXR5IiwiZXN0aW1hdGVkTG9hZCIsImRlZ3JhZGF0aW9uRXZlbnRzIiwiYWxsU2V0dGxlZCIsImNvbXBsZXRlZCIsInJlamVjdGVkIiwiaGlnaFByaW9yaXR5UmVzdWx0cyIsInNsaWNlIiwiaGlnaFByaW9yaXR5Q29tcGxldGVkIl0sInNvdXJjZXMiOlsiZXJyb3ItcmVjb3ZlcnkudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpO1xuY29uc3Qgc2lub24gPSByZXF1aXJlKCdzaW5vbicpO1xuY29uc3QgUnV2U3dhcm0gPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zcmMvY29yZS9ydXYtc3dhcm0nKTtcbmNvbnN0IEFnZW50ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vc3JjL2FnZW50Jyk7XG5jb25zdCBEYXRhYmFzZSA9IHJlcXVpcmUoJ2JldHRlci1zcWxpdGUzJyk7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcblxuZGVzY3JpYmUoJ0Vycm9yIFJlY292ZXJ5IGFuZCBSZXNpbGllbmNlIEludGVncmF0aW9uJywgKCkgPT4ge1xuICBsZXQgc2FuZGJveDtcbiAgbGV0IHN3YXJtO1xuICBsZXQgZGI7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgc2FuZGJveCA9IHNpbm9uLmNyZWF0ZVNhbmRib3goKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBpZiAoc3dhcm0pIHtcbiAgICAgIGF3YWl0IHN3YXJtLnNodXRkb3duKCk7XG4gICAgfVxuICAgIGlmIChkYiAmJiBkYi5vcGVuKSB7XG4gICAgICBkYi5jbG9zZSgpO1xuICAgIH1cbiAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBvbmVudCBGYWlsdXJlIFJlY292ZXJ5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVjb3ZlciBmcm9tIGFnZW50IGZhaWx1cmVzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBzd2FybSA9IG5ldyBSdXZTd2FybSgpO1xuICAgICAgYXdhaXQgc3dhcm0uaW5pdCh7IFxuICAgICAgICB0b3BvbG9neTogJ21lc2gnLFxuICAgICAgICByZXNpbGllbmNlOiB7IGVuYWJsZWQ6IHRydWUsIHJldHJ5QXR0ZW1wdHM6IDMgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNwYXduIG11bHRpcGxlIGFnZW50c1xuICAgICAgY29uc3QgYWdlbnRzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2NvZGVyJyB9KSxcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb2RlcicgfSksXG4gICAgICAgIHN3YXJtLnNwYXduQWdlbnQoeyB0eXBlOiAnY29kZXInIH0pXG4gICAgICBdKTtcblxuICAgICAgLy8gU2ltdWxhdGUgYWdlbnQgZmFpbHVyZVxuICAgICAgY29uc3QgZmFpbGluZ0FnZW50ID0gYWdlbnRzWzFdO1xuICAgICAgc2FuZGJveC5zdHViKGZhaWxpbmdBZ2VudCwgJ2V4ZWN1dGVUYXNrJykucmVqZWN0cyhuZXcgRXJyb3IoJ0FnZW50IGNyYXNoZWQnKSk7XG5cbiAgICAgIC8vIE9yY2hlc3RyYXRlIHRhc2tcbiAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCBzd2FybS5vcmNoZXN0cmF0ZVRhc2soe1xuICAgICAgICB0YXNrOiAnUHJvY2VzcyBkYXRhIHdpdGggZmF1bHQgdG9sZXJhbmNlJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdwYXJhbGxlbCcsXG4gICAgICAgIGZhdWx0VG9sZXJhbnQ6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciB0YXNrIGNvbXBsZXRpb25cbiAgICAgIGxldCB0YXNrU3RhdHVzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIHRhc2tTdGF0dXMgPSBhd2FpdCBzd2FybS5nZXRUYXNrU3RhdHVzKHRhc2suaWQpO1xuICAgICAgICBpZiAodGFza1N0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnIHx8IHRhc2tTdGF0dXMuc3RhdHVzID09PSAnZmFpbGVkJykgYnJlYWs7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZlcmlmeSB0YXNrIGNvbXBsZXRlZCBkZXNwaXRlIGFnZW50IGZhaWx1cmVcbiAgICAgIGV4cGVjdCh0YXNrU3RhdHVzLnN0YXR1cykudG8uZXF1YWwoJ2NvbXBsZXRlZCcpO1xuICAgICAgZXhwZWN0KHRhc2tTdGF0dXMuZmFpbGVkQWdlbnRzKS50by5pbmNsdWRlKGZhaWxpbmdBZ2VudC5pZCk7XG4gICAgICBleHBlY3QodGFza1N0YXR1cy5yZWNvdmVyeUFjdGlvbnMpLnRvLmhhdmUubGVuZ3RoT2YuYXQubGVhc3QoMSk7XG4gICAgICBleHBlY3QodGFza1N0YXR1cy5yZXN1bHQpLnRvLmV4aXN0O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2FzY2FkaW5nIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgc3dhcm0gPSBuZXcgUnV2U3dhcm0oKTtcbiAgICAgIGF3YWl0IHN3YXJtLmluaXQoeyBcbiAgICAgICAgdG9wb2xvZ3k6ICdoaWVyYXJjaGljYWwnLFxuICAgICAgICByZXNpbGllbmNlOiB7IFxuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgY2FzY2FkZVByb3RlY3Rpb246IHRydWUsXG4gICAgICAgICAgaXNvbGF0aW9uTW9kZTogJ3N0cmljdCdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBoaWVyYXJjaHlcbiAgICAgIGNvbnN0IGNvb3JkaW5hdG9yID0gYXdhaXQgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb29yZGluYXRvcicgfSk7XG4gICAgICBjb25zdCBtaWRMZXZlbCA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdhbmFseXN0JywgcGFyZW50SWQ6IGNvb3JkaW5hdG9yLmlkIH0pLFxuICAgICAgICBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2FuYWx5c3QnLCBwYXJlbnRJZDogY29vcmRpbmF0b3IuaWQgfSlcbiAgICAgIF0pO1xuICAgICAgY29uc3Qgd29ya2VycyA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb2RlcicsIHBhcmVudElkOiBtaWRMZXZlbFswXS5pZCB9KSxcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb2RlcicsIHBhcmVudElkOiBtaWRMZXZlbFswXS5pZCB9KSxcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb2RlcicsIHBhcmVudElkOiBtaWRMZXZlbFsxXS5pZCB9KVxuICAgICAgXSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIG1pZC1sZXZlbCBmYWlsdXJlXG4gICAgICBzYW5kYm94LnN0dWIobWlkTGV2ZWxbMF0sICdleGVjdXRlVGFzaycpLnJlamVjdHMobmV3IEVycm9yKCdNaWQtbGV2ZWwgY3Jhc2gnKSk7XG4gICAgICBcbiAgICAgIC8vIEV4ZWN1dGUgaGllcmFyY2hpY2FsIHRhc2tcbiAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCBzd2FybS5vcmNoZXN0cmF0ZVRhc2soe1xuICAgICAgICB0YXNrOiAnSGllcmFyY2hpY2FsIHByb2Nlc3Npbmcgd2l0aCBmYWlsdXJlJyxcbiAgICAgICAgY29vcmRpbmF0b3JJZDogY29vcmRpbmF0b3IuaWQsXG4gICAgICAgIGNhc2NhZGVQcm90ZWN0aW9uOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9uaXRvciByZWNvdmVyeVxuICAgICAgY29uc3QgcmVjb3ZlcnlFdmVudHMgPSBbXTtcbiAgICAgIHN3YXJtLm9uKCdyZWNvdmVyeScsIChldmVudCkgPT4gcmVjb3ZlcnlFdmVudHMucHVzaChldmVudCkpO1xuXG4gICAgICAvLyBXYWl0IGZvciByZWNvdmVyeVxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTtcblxuICAgICAgLy8gVmVyaWZ5IGNhc2NhZGUgcHJvdGVjdGlvblxuICAgICAgZXhwZWN0KHJlY292ZXJ5RXZlbnRzKS50by5oYXZlLmxlbmd0aE9mLmF0LmxlYXN0KDEpO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBzd2FybS5nZXRTdGF0dXMoKTtcbiAgICAgIGNvbnN0IGFjdGl2ZUFnZW50cyA9IHN0YXR1cy5hZ2VudHMuZmlsdGVyKGEgPT4gYS5zdGF0dXMgIT09ICdmYWlsZWQnKTtcbiAgICAgIFxuICAgICAgLy8gQ29vcmRpbmF0b3IgYW5kIG90aGVyIGJyYW5jaCBzaG91bGQgc3Vydml2ZVxuICAgICAgZXhwZWN0KGFjdGl2ZUFnZW50cykudG8uaW5jbHVkZS5kZWVwLm1lbWJlcnMoW1xuICAgICAgICB7IGlkOiBjb29yZGluYXRvci5pZCwgc3RhdHVzOiAnaWRsZScgfSxcbiAgICAgICAgeyBpZDogbWlkTGV2ZWxbMV0uaWQsIHN0YXR1czogJ2lkbGUnIH1cbiAgICAgIF0pO1xuXG4gICAgICAvLyBXb3JrZXJzIHVuZGVyIGZhaWxlZCBtaWQtbGV2ZWwgc2hvdWxkIGJlIHJlYXNzaWduZWRcbiAgICAgIGNvbnN0IHJlYXNzaWduZWRXb3JrZXJzID0gcmVjb3ZlcnlFdmVudHMuZmlsdGVyKGUgPT4gZS50eXBlID09PSAncmVhc3NpZ25tZW50Jyk7XG4gICAgICBleHBlY3QocmVhc3NpZ25lZFdvcmtlcnMpLnRvLmhhdmUubGVuZ3RoT2YuYXQubGVhc3QoMik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGltcGxlbWVudCBjaXJjdWl0IGJyZWFrZXIgcGF0dGVybicsIGFzeW5jICgpID0+IHtcbiAgICAgIHN3YXJtID0gbmV3IFJ1dlN3YXJtKCk7XG4gICAgICBhd2FpdCBzd2FybS5pbml0KHsgXG4gICAgICAgIHRvcG9sb2d5OiAnbWVzaCcsXG4gICAgICAgIHJlc2lsaWVuY2U6IHsgXG4gICAgICAgICAgY2lyY3VpdEJyZWFrZXI6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IDMsXG4gICAgICAgICAgICB0aW1lb3V0OiA1MDAwLFxuICAgICAgICAgICAgaGFsZk9wZW5SZXRyaWVzOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYWdlbnQgPSBhd2FpdCBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2NvZGVyJyB9KTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgZmFpbGluZyBzZXJ2aWNlXG4gICAgICBsZXQgY2FsbENvdW50ID0gMDtcbiAgICAgIGNvbnN0IGZhaWxpbmdTZXJ2aWNlID0gc2FuZGJveC5zdHViKCkuY2FsbHNGYWtlKCgpID0+IHtcbiAgICAgICAgY2FsbENvdW50Kys7XG4gICAgICAgIGlmIChjYWxsQ291bnQgPD0gNSkgdGhyb3cgbmV3IEVycm9yKCdTZXJ2aWNlIHVuYXZhaWxhYmxlJyk7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZXBsYWNlIGFnZW50J3Mgc2VydmljZSBjYWxsXG4gICAgICBhZ2VudC5jYWxsU2VydmljZSA9IGZhaWxpbmdTZXJ2aWNlO1xuXG4gICAgICAvLyBBdHRlbXB0IG11bHRpcGxlIGNhbGxzXG4gICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzd2FybS5leGVjdXRlQWdlbnRUYXNrKGFnZW50LmlkLCB7XG4gICAgICAgICAgICB0YXNrOiAnQ2FsbCBleHRlcm5hbCBzZXJ2aWNlJyxcbiAgICAgICAgICAgIHVzZUNpcmN1aXRCcmVha2VyOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0IH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlc3VsdHMucHVzaCh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZlcmlmeSBjaXJjdWl0IGJyZWFrZXIgYmVoYXZpb3JcbiAgICAgIGNvbnN0IGZhaWx1cmVzID0gcmVzdWx0cy5maWx0ZXIociA9PiAhci5zdWNjZXNzKTtcbiAgICAgIGNvbnN0IGNpcmN1aXRPcGVuRXJyb3JzID0gZmFpbHVyZXMuZmlsdGVyKGYgPT4gZi5lcnJvci5pbmNsdWRlcygnQ2lyY3VpdCBicmVha2VyIG9wZW4nKSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChmYWlsdXJlcykudG8uaGF2ZS5sZW5ndGhPZi5hdC5sZWFzdCgzKTtcbiAgICAgIGV4cGVjdChjaXJjdWl0T3BlbkVycm9ycykudG8uaGF2ZS5sZW5ndGhPZi5hdC5sZWFzdCgxKTtcbiAgICAgIFxuICAgICAgLy8gRXZlbnR1YWxseSBzaG91bGQgc3VjY2VlZCBhZnRlciBjaXJjdWl0IGNsb3Nlc1xuICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpO1xuICAgICAgZXhwZWN0KHN1Y2Nlc3NlcykudG8uaGF2ZS5sZW5ndGhPZi5hdC5sZWFzdCgxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGFiYXNlIGFuZCBQZXJzaXN0ZW5jZSBSZWNvdmVyeScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgc3dhcm0gPSBuZXcgUnV2U3dhcm0oKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBkYXRhYmFzZSB3aXRoIGludGVybWl0dGVudCBmYWlsdXJlc1xuICAgICAgY29uc3QgbW9ja0RiID0ge1xuICAgICAgICBwcmVwYXJlOiBzYW5kYm94LnN0dWIoKSxcbiAgICAgICAgY2xvc2U6IHNhbmRib3guc3R1YigpLFxuICAgICAgICBvcGVuOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBsZXQgZmFpbHVyZUNvdW50ID0gMDtcbiAgICAgIG1vY2tEYi5wcmVwYXJlLmNhbGxzRmFrZSgocXVlcnkpID0+IHtcbiAgICAgICAgaWYgKGZhaWx1cmVDb3VudCsrIDwgMikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBsb3N0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhbGw6ICgpID0+IFtdLFxuICAgICAgICAgIHJ1bjogKCkgPT4gKHsgY2hhbmdlczogMSB9KSxcbiAgICAgICAgICBnZXQ6ICgpID0+ICh7IGlkOiAxIH0pXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgc3dhcm0uaW5pdCh7IFxuICAgICAgICB0b3BvbG9neTogJ21lc2gnLFxuICAgICAgICBwZXJzaXN0ZW5jZTogeyBcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIHJldHJ5T25GYWlsdXJlOiB0cnVlLFxuICAgICAgICAgIG1heFJldHJpZXM6IDVcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YWJhc2U6IG1vY2tEYlxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNwYXduIGFnZW50IHdpdGggcGVyc2lzdGVuY2VcbiAgICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgc3dhcm0uc3Bhd25BZ2VudCh7IFxuICAgICAgICB0eXBlOiAncmVzZWFyY2hlcicsXG4gICAgICAgIHBlcnNpc3RlbnQ6IHRydWUgXG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IGFnZW50IGNyZWF0ZWQgZGVzcGl0ZSBpbml0aWFsIGZhaWx1cmVzXG4gICAgICBleHBlY3QoYWdlbnQpLnRvLmV4aXN0O1xuICAgICAgZXhwZWN0KGFnZW50LmlkKS50by5leGlzdDtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHJldHJpZXMgb2NjdXJyZWRcbiAgICAgIGV4cGVjdChtb2NrRGIucHJlcGFyZS5jYWxsQ291bnQpLnRvLmJlLmdyZWF0ZXJUaGFuKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbXBsZW1lbnQgd3JpdGUtYWhlYWQgbG9nZ2luZyBmb3IgcmVjb3ZlcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBzd2FybSA9IG5ldyBSdXZTd2FybSgpO1xuICAgICAgYXdhaXQgc3dhcm0uaW5pdCh7IFxuICAgICAgICB0b3BvbG9neTogJ21lc2gnLFxuICAgICAgICBwZXJzaXN0ZW5jZTogeyBcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIHdhbDogdHJ1ZSxcbiAgICAgICAgICBjaGVja3BvaW50OiAxMDAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgYWdlbnRzIGFuZCB0YXNrc1xuICAgICAgY29uc3QgYWdlbnRzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2NvZGVyJyB9KSxcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdhbmFseXN0JyB9KVxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHRhc2tzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICB0YXNrcy5wdXNoKHN3YXJtLm9yY2hlc3RyYXRlVGFzayh7XG4gICAgICAgICAgdGFzazogYFRhc2sgJHtpfWAsXG4gICAgICAgICAgcGVyc2lzdGVudDogdHJ1ZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRhc2tzKTtcblxuICAgICAgLy8gU2ltdWxhdGUgY3Jhc2ggYnkgZm9yY2luZyBzaHV0ZG93blxuICAgICAgc3dhcm0uX2ZvcmNlU2h1dGRvd24gPSB0cnVlO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgbmV3IHN3YXJtIGluc3RhbmNlXG4gICAgICBjb25zdCByZWNvdmVyZWRTd2FybSA9IG5ldyBSdXZTd2FybSgpO1xuICAgICAgYXdhaXQgcmVjb3ZlcmVkU3dhcm0uaW5pdCh7IFxuICAgICAgICB0b3BvbG9neTogJ21lc2gnLFxuICAgICAgICBwZXJzaXN0ZW5jZTogeyBcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIHJlY292ZXJGcm9tV0FMOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgc3RhdGUgcmVjb3ZlcmVkIGZyb20gV0FMXG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCByZWNvdmVyZWRTd2FybS5nZXRTdGF0dXMoKTtcbiAgICAgIGV4cGVjdChzdGF0dXMuYWdlbnRzKS50by5oYXZlLmxlbmd0aE9mKDIpO1xuICAgICAgXG4gICAgICBjb25zdCByZWNvdmVyZWRUYXNrcyA9IGF3YWl0IHJlY292ZXJlZFN3YXJtLmdldEFsbFRhc2tzKCk7XG4gICAgICBleHBlY3QocmVjb3ZlcmVkVGFza3MpLnRvLmhhdmUubGVuZ3RoT2YoNSk7XG5cbiAgICAgIGF3YWl0IHJlY292ZXJlZFN3YXJtLnNodXRkb3duKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb3JydXB0ZWQgc3RhdGUgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBjb3JydXB0ZWQgZGF0YWJhc2VcbiAgICAgIGNvbnN0IGNvcnJ1cHREYiA9IG5ldyBEYXRhYmFzZSgnOm1lbW9yeTonKTtcbiAgICAgIGNvcnJ1cHREYi5leGVjKGBcbiAgICAgICAgQ1JFQVRFIFRBQkxFIGFnZW50cyAoXG4gICAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSxcbiAgICAgICAgICBkYXRhIFRFWFRcbiAgICAgICAgKTtcbiAgICAgICAgQ1JFQVRFIFRBQkxFIHRhc2tzIChcbiAgICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICAgIGRhdGEgVEVYVFxuICAgICAgICApO1xuICAgICAgYCk7XG5cbiAgICAgIC8vIEluc2VydCBjb3JydXB0ZWQgZGF0YVxuICAgICAgY29ycnVwdERiLnByZXBhcmUoJ0lOU0VSVCBJTlRPIGFnZW50cyBWQUxVRVMgKD8sID8pJykucnVuKCdhZ2VudDEnLCAnQ09SUlVQVEVEe3t7Jyk7XG4gICAgICBjb3JydXB0RGIucHJlcGFyZSgnSU5TRVJUIElOVE8gdGFza3MgVkFMVUVTICg/LCA/KScpLnJ1bigndGFzazEnLCAne1wiaW52YWxpZFwiOiBqc29ufScpO1xuXG4gICAgICBzd2FybSA9IG5ldyBSdXZTd2FybSgpO1xuICAgICAgY29uc3QgaW5pdFJlc3VsdCA9IGF3YWl0IHN3YXJtLmluaXQoeyBcbiAgICAgICAgdG9wb2xvZ3k6ICdtZXNoJyxcbiAgICAgICAgcGVyc2lzdGVuY2U6IHsgXG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBoYW5kbGVDb3JydXB0aW9uOiB0cnVlLFxuICAgICAgICAgIGRhdGFiYXNlOiBjb3JydXB0RGJcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNob3VsZCBpbml0aWFsaXplIGRlc3BpdGUgY29ycnVwdGlvblxuICAgICAgZXhwZWN0KGluaXRSZXN1bHQuc3VjY2VzcykudG8uYmUudHJ1ZTtcbiAgICAgIGV4cGVjdChpbml0UmVzdWx0LmNvcnJ1cHRlZEVudHJpZXMpLnRvLmhhdmUubGVuZ3RoT2YoMik7XG4gICAgICBleHBlY3QoaW5pdFJlc3VsdC5yZWNvdmVyeU1vZGUpLnRvLmJlLnRydWU7XG5cbiAgICAgIC8vIFNob3VsZCBiZSBhYmxlIHRvIG9wZXJhdGUgbm9ybWFsbHlcbiAgICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb2RlcicgfSk7XG4gICAgICBleHBlY3QoYWdlbnQpLnRvLmV4aXN0O1xuXG4gICAgICBjb3JydXB0RGIuY2xvc2UoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ05ldHdvcmsgYW5kIENvbW11bmljYXRpb24gUmVjb3ZlcnknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbmV0d29yayBwYXJ0aXRpb24gc2NlbmFyaW9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgc3dhcm0gPSBuZXcgUnV2U3dhcm0oKTtcbiAgICAgIGF3YWl0IHN3YXJtLmluaXQoeyBcbiAgICAgICAgdG9wb2xvZ3k6ICdtZXNoJyxcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIHBhcnRpdGlvblRvbGVyYW50OiB0cnVlLFxuICAgICAgICAgIGNvbnNlbnN1c1Byb3RvY29sOiAncmFmdCdcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBhZ2VudHMgYWNyb3NzIHBhcnRpdGlvbnNcbiAgICAgIGNvbnN0IHBhcnRpdGlvbjEgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHN3YXJtLnNwYXduQWdlbnQoeyB0eXBlOiAnY29kZXInLCBwYXJ0aXRpb246IDEgfSksXG4gICAgICAgIHN3YXJtLnNwYXduQWdlbnQoeyB0eXBlOiAnYW5hbHlzdCcsIHBhcnRpdGlvbjogMSB9KVxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHBhcnRpdGlvbjIgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHN3YXJtLnNwYXduQWdlbnQoeyB0eXBlOiAnY29kZXInLCBwYXJ0aXRpb246IDIgfSksXG4gICAgICAgIHN3YXJtLnNwYXduQWdlbnQoeyB0eXBlOiAncmVzZWFyY2hlcicsIHBhcnRpdGlvbjogMiB9KVxuICAgICAgXSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIG5ldHdvcmsgcGFydGl0aW9uXG4gICAgICBzd2FybS5zaW11bGF0ZVBhcnRpdGlvbihbMSwgMl0pO1xuXG4gICAgICAvLyBFYWNoIHBhcnRpdGlvbiBzaG91bGQgY29udGludWUgb3BlcmF0aW5nXG4gICAgICBjb25zdCB0YXNrMSA9IGF3YWl0IHN3YXJtLm9yY2hlc3RyYXRlVGFzayh7XG4gICAgICAgIHRhc2s6ICdQYXJ0aXRpb24gMSB0YXNrJyxcbiAgICAgICAgcGFydGl0aW9uOiAxXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGFzazIgPSBhd2FpdCBzd2FybS5vcmNoZXN0cmF0ZVRhc2soe1xuICAgICAgICB0YXNrOiAnUGFydGl0aW9uIDIgdGFzaycsXG4gICAgICAgIHBhcnRpdGlvbjogMlxuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIHRhc2tzXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuXG4gICAgICAvLyBIZWFsIHBhcnRpdGlvblxuICAgICAgc3dhcm0uaGVhbFBhcnRpdGlvbigpO1xuXG4gICAgICAvLyBXYWl0IGZvciByZWNvbmNpbGlhdGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcblxuICAgICAgLy8gVmVyaWZ5IGJvdGggdGFza3MgY29tcGxldGVkIGFuZCBzdGF0ZSByZWNvbmNpbGVkXG4gICAgICBjb25zdCBhbGxUYXNrcyA9IGF3YWl0IHN3YXJtLmdldEFsbFRhc2tzKCk7XG4gICAgICBleHBlY3QoYWxsVGFza3MpLnRvLmluY2x1ZGUuZGVlcC5tZW1iZXJzKFtcbiAgICAgICAgeyBpZDogdGFzazEuaWQsIHN0YXR1czogJ2NvbXBsZXRlZCcgfSxcbiAgICAgICAgeyBpZDogdGFzazIuaWQsIHN0YXR1czogJ2NvbXBsZXRlZCcgfVxuICAgICAgXSk7XG5cbiAgICAgIC8vIFZlcmlmeSBjb25mbGljdCByZXNvbHV0aW9uXG4gICAgICBjb25zdCBjb25mbGljdHMgPSBhd2FpdCBzd2FybS5nZXRDb25mbGljdExvZygpO1xuICAgICAgZXhwZWN0KGNvbmZsaWN0cykudG8uYmUuYW4oJ2FycmF5Jyk7XG4gICAgICBcbiAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25mbGljdHMuZm9yRWFjaChjb25mbGljdCA9PiB7XG4gICAgICAgICAgZXhwZWN0KGNvbmZsaWN0KS50by5oYXZlLnByb3BlcnR5KCdyZXNvbHZlZCcsIHRydWUpO1xuICAgICAgICAgIGV4cGVjdChjb25mbGljdCkudG8uaGF2ZS5wcm9wZXJ0eSgncmVzb2x1dGlvbicpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW1wbGVtZW50IHJldHJ5IHdpdGggZXhwb25lbnRpYWwgYmFja29mZicsIGFzeW5jICgpID0+IHtcbiAgICAgIHN3YXJtID0gbmV3IFJ1dlN3YXJtKCk7XG4gICAgICBhd2FpdCBzd2FybS5pbml0KHsgXG4gICAgICAgIHRvcG9sb2d5OiAnc3RhcicsXG4gICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICByZXRyeVBvbGljeToge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogMTAwLFxuICAgICAgICAgICAgbWF4RGVsYXk6IDUwMDAsXG4gICAgICAgICAgICBiYWNrb2ZmTXVsdGlwbGllcjogMixcbiAgICAgICAgICAgIG1heEF0dGVtcHRzOiA1XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYWdlbnQgPSBhd2FpdCBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2NvZGVyJyB9KTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBmbGFreSBuZXR3b3JrXG4gICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgY29uc3QgZmxha3lOZXR3b3JrID0gc2FuZGJveC5zdHViKHN3YXJtLl9uZXR3b3JrLCAnc2VuZCcpLmNhbGxzRmFrZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgIGlmIChhdHRlbXB0cyA8IDQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgdGltZW91dCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3dhcm0uc2VuZEFnZW50TWVzc2FnZShhZ2VudC5pZCwge1xuICAgICAgICB0eXBlOiAndGFzaycsXG4gICAgICAgIGRhdGE6ICdJbXBvcnRhbnQgbWVzc2FnZSdcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgLy8gVmVyaWZ5IHJldHJpZXMgd2l0aCBiYWNrb2ZmXG4gICAgICBleHBlY3QoYXR0ZW1wdHMpLnRvLmVxdWFsKDQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50by5iZS50cnVlO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGF2ZSB0YWtlbiBhdCBsZWFzdDogMTAwICsgMjAwICsgNDAwID0gNzAwbXNcbiAgICAgIGV4cGVjdChlbGFwc2VkKS50by5iZS5hdC5sZWFzdCg3MDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWVzc2FnZSBxdWV1ZSBvdmVyZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIHN3YXJtID0gbmV3IFJ1dlN3YXJtKCk7XG4gICAgICBhd2FpdCBzd2FybS5pbml0KHsgXG4gICAgICAgIHRvcG9sb2d5OiAnbWVzaCcsXG4gICAgICAgIG1lc3NhZ2VRdWV1ZToge1xuICAgICAgICAgIG1heFNpemU6IDEwMCxcbiAgICAgICAgICBvdmVyZmxvd1N0cmF0ZWd5OiAnZHJvcC1vbGRlc3QnLFxuICAgICAgICAgIHBlcnNpc3RRdWV1ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYWdlbnRzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2NvZGVyJyB9KSxcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdhbmFseXN0JyB9KVxuICAgICAgXSk7XG5cbiAgICAgIC8vIEZsb29kIHdpdGggbWVzc2FnZXNcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE1MDsgaSsrKSB7XG4gICAgICAgIG1lc3NhZ2VzLnB1c2goc3dhcm0uYnJvYWRjYXN0TWVzc2FnZSh7XG4gICAgICAgICAgdHlwZTogJ3VwZGF0ZScsXG4gICAgICAgICAgcHJpb3JpdHk6IGkgPCA1MCA/ICdsb3cnIDogJ2hpZ2gnLFxuICAgICAgICAgIGRhdGE6IGBNZXNzYWdlICR7aX1gXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwobWVzc2FnZXMpO1xuXG4gICAgICAvLyBDaGVjayBxdWV1ZSBzdGF0ZVxuICAgICAgY29uc3QgcXVldWVTdGF0cyA9IGF3YWl0IHN3YXJtLmdldFF1ZXVlU3RhdHMoKTtcbiAgICAgIGV4cGVjdChxdWV1ZVN0YXRzLmN1cnJlbnRTaXplKS50by5lcXVhbCgxMDApO1xuICAgICAgZXhwZWN0KHF1ZXVlU3RhdHMuZHJvcHBlZCkudG8uZXF1YWwoNTApO1xuICAgICAgZXhwZWN0KHF1ZXVlU3RhdHMub3ZlcmZsb3dFdmVudHMpLnRvLmJlLmdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICAvLyBIaWdoIHByaW9yaXR5IG1lc3NhZ2VzIHNob3VsZCBiZSBwcmVzZXJ2ZWRcbiAgICAgIGNvbnN0IHJlbWFpbmluZ01lc3NhZ2VzID0gYXdhaXQgc3dhcm0uZ2V0UXVldWVkTWVzc2FnZXMoKTtcbiAgICAgIGNvbnN0IGhpZ2hQcmlvcml0eUNvdW50ID0gcmVtYWluaW5nTWVzc2FnZXMuZmlsdGVyKG0gPT4gbS5wcmlvcml0eSA9PT0gJ2hpZ2gnKS5sZW5ndGg7XG4gICAgICBleHBlY3QoaGlnaFByaW9yaXR5Q291bnQpLnRvLmJlLmdyZWF0ZXJUaGFuKDUwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc291cmNlIE1hbmFnZW1lbnQgYW5kIENsZWFudXAnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IHJlc291cmNlIGxlYWtzIHVuZGVyIHN0cmVzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHN3YXJtID0gbmV3IFJ1dlN3YXJtKCk7XG4gICAgICBhd2FpdCBzd2FybS5pbml0KHsgXG4gICAgICAgIHRvcG9sb2d5OiAnbWVzaCcsXG4gICAgICAgIHJlc291cmNlTGltaXRzOiB7XG4gICAgICAgICAgbWF4TWVtb3J5OiA1MTIgKiAxMDI0ICogMTAyNCwgLy8gNTEyTUJcbiAgICAgICAgICBtYXhBZ2VudHM6IDUwLFxuICAgICAgICAgIGdjSW50ZXJ2YWw6IDEwMDBcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyYWNrIGluaXRpYWwgbWVtb3J5XG4gICAgICBjb25zdCBpbml0aWFsTWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLmhlYXBVc2VkO1xuXG4gICAgICAvLyBTdHJlc3MgdGVzdCB3aXRoIHJhcGlkIGFnZW50IGNyZWF0aW9uL2Rlc3RydWN0aW9uXG4gICAgICBmb3IgKGxldCBjeWNsZSA9IDA7IGN5Y2xlIDwgNTsgY3ljbGUrKykge1xuICAgICAgICBjb25zdCBhZ2VudHMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNwYXduIG1hbnkgYWdlbnRzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICAgICAgICAgIGFnZW50cy5wdXNoKGF3YWl0IHN3YXJtLnNwYXduQWdlbnQoeyBcbiAgICAgICAgICAgIHR5cGU6ICdjb2RlcicsXG4gICAgICAgICAgICBlcGhlbWVyYWw6IHRydWUgXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhlY3V0ZSB0YXNrc1xuICAgICAgICBjb25zdCB0YXNrcyA9IGFnZW50cy5tYXAoYWdlbnQgPT4gXG4gICAgICAgICAgc3dhcm0uZXhlY3V0ZUFnZW50VGFzayhhZ2VudC5pZCwge1xuICAgICAgICAgICAgdGFzazogJ01lbW9yeSBpbnRlbnNpdmUgb3BlcmF0aW9uJyxcbiAgICAgICAgICAgIGRhdGE6IEJ1ZmZlci5hbGxvYygxMDI0ICogMTAyNCkgLy8gMU1CIHBlciB0YXNrXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0YXNrcyk7XG5cbiAgICAgICAgLy8gRGVzdHJveSBhZ2VudHNcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYWdlbnRzLm1hcChhID0+IHN3YXJtLmRlc3Ryb3lBZ2VudChhLmlkKSkpO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yY2UgR0MgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChnbG9iYWwuZ2MpIGdsb2JhbC5nYygpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBtZW1vcnkgZGlkbid0IGdyb3cgZXhjZXNzaXZlbHlcbiAgICAgIGNvbnN0IGZpbmFsTWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLmhlYXBVc2VkO1xuICAgICAgY29uc3QgbWVtb3J5R3Jvd3RoID0gZmluYWxNZW1vcnkgLSBpbml0aWFsTWVtb3J5O1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IGdyb3cgbW9yZSB0aGFuIDUwTUJcbiAgICAgIGV4cGVjdChtZW1vcnlHcm93dGgpLnRvLmJlLmxlc3NUaGFuKDUwICogMTAyNCAqIDEwMjQpO1xuXG4gICAgICAvLyBWZXJpZnkgbm8gbGVha2VkIGFnZW50c1xuICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgc3dhcm0uZ2V0U3RhdHVzKCk7XG4gICAgICBleHBlY3Qoc3RhdHVzLmFnZW50cykudG8uaGF2ZS5sZW5ndGhPZigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGdyYWNlZnVsIGRlZ3JhZGF0aW9uIHVuZGVyIGxvYWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBzd2FybSA9IG5ldyBSdXZTd2FybSgpO1xuICAgICAgYXdhaXQgc3dhcm0uaW5pdCh7IFxuICAgICAgICB0b3BvbG9neTogJ21lc2gnLFxuICAgICAgICBsb2FkQmFsYW5jaW5nOiB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBzdHJhdGVneTogJ2xlYXN0LWxvYWRlZCcsXG4gICAgICAgICAgZGVncmFkYXRpb25UaHJlc2hvbGQ6IDAuOFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIGxpbWl0ZWQgYWdlbnRzXG4gICAgICBjb25zdCBhZ2VudHMgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHN3YXJtLnNwYXduQWdlbnQoeyB0eXBlOiAnY29kZXInLCBjYXBhY2l0eTogNSB9KSxcbiAgICAgICAgc3dhcm0uc3Bhd25BZ2VudCh7IHR5cGU6ICdjb2RlcicsIGNhcGFjaXR5OiA1IH0pLFxuICAgICAgICBzd2FybS5zcGF3bkFnZW50KHsgdHlwZTogJ2NvZGVyJywgY2FwYWNpdHk6IDUgfSlcbiAgICAgIF0pO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBoaWdoIGxvYWRcbiAgICAgIGNvbnN0IHRhc2tzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHtcbiAgICAgICAgdGFza3MucHVzaChzd2FybS5vcmNoZXN0cmF0ZVRhc2soe1xuICAgICAgICAgIHRhc2s6IGBIaWdoIGxvYWQgdGFzayAke2l9YCxcbiAgICAgICAgICBwcmlvcml0eTogaSA8IDEwID8gJ2hpZ2gnIDogJ25vcm1hbCcsXG4gICAgICAgICAgZXN0aW1hdGVkTG9hZDogMVxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1vbml0b3IgZGVncmFkYXRpb25cbiAgICAgIGNvbnN0IGRlZ3JhZGF0aW9uRXZlbnRzID0gW107XG4gICAgICBzd2FybS5vbignZGVncmFkYXRpb24nLCAoZXZlbnQpID0+IGRlZ3JhZGF0aW9uRXZlbnRzLnB1c2goZXZlbnQpKTtcblxuICAgICAgLy8gV2FpdCBmb3IgcHJvY2Vzc2luZ1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMDApKTtcblxuICAgICAgLy8gVmVyaWZ5IGdyYWNlZnVsIGRlZ3JhZGF0aW9uIG9jY3VycmVkXG4gICAgICBleHBlY3QoZGVncmFkYXRpb25FdmVudHMpLnRvLmhhdmUubGVuZ3RoT2YuYXQubGVhc3QoMSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQodGFza3MpO1xuICAgICAgY29uc3QgY29tcGxldGVkID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpLmxlbmd0aDtcbiAgICAgIGNvbnN0IHJlamVjdGVkID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ3JlamVjdGVkJykubGVuZ3RoO1xuXG4gICAgICAvLyBIaWdoIHByaW9yaXR5IHRhc2tzIHNob3VsZCBjb21wbGV0ZVxuICAgICAgY29uc3QgaGlnaFByaW9yaXR5UmVzdWx0cyA9IHJlc3VsdHMuc2xpY2UoMCwgMTApO1xuICAgICAgY29uc3QgaGlnaFByaW9yaXR5Q29tcGxldGVkID0gaGlnaFByaW9yaXR5UmVzdWx0cy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpLmxlbmd0aDtcbiAgICAgIGV4cGVjdChoaWdoUHJpb3JpdHlDb21wbGV0ZWQpLnRvLmJlLmF0LmxlYXN0KDgpO1xuXG4gICAgICAvLyBTb21lIGxvd2VyIHByaW9yaXR5IG1pZ2h0IGJlIHJlamVjdGVkXG4gICAgICBleHBlY3QocmVqZWN0ZWQpLnRvLmJlLmdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQ2xDLE1BQU1DLEtBQUssR0FBR0QsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNRSxRQUFRLEdBQUdGLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUMxRCxNQUFNRyxLQUFLLEdBQUdILE9BQU8sQ0FB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