4e5829ed430292cd5ea5de6c503d681f
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
/**
 * DAA Service Test Suite
 * Tests for agent lifecycle, state persistence, workflow coordination,
 * and < 1ms cross-boundary call latency
 */

import { jest } from '@jest/globals';
import { DAAService } from '../src/daa-service.js';
describe('DAA Service', () => {
  let service;
  beforeEach(() => {
    service = new DAAService();
  });
  afterEach(/*#__PURE__*/_asyncToGenerator(function* () {
    yield service.cleanup();
  }));
  describe('Initialization', () => {
    test('should initialize successfully', /*#__PURE__*/_asyncToGenerator(function* () {
      yield expect(service.initialize()).resolves.not.toThrow();
      expect(service.initialized).toBe(true);
    }));
    test('should emit initialized event', /*#__PURE__*/_asyncToGenerator(function* () {
      const listener = jest.fn();
      service.on('initialized', listener);
      yield service.initialize();
      expect(listener).toHaveBeenCalled();
    }));
    test('should handle multiple initialization calls', /*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
      yield service.initialize(); // Should not throw

      expect(service.initialized).toBe(true);
    }));
  });
  describe('Agent Lifecycle Management', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
    }));
    test('should create agent with capabilities', /*#__PURE__*/_asyncToGenerator(function* () {
      const agent = yield service.createAgent('test-agent', ['decision_making', 'learning']);
      expect(agent).toBeDefined();
      expect(agent.id).toBe('test-agent');
      expect(agent.capabilities.has('decision_making')).toBe(true);
      expect(agent.capabilities.has('learning')).toBe(true);
      expect(agent.status).toBe('active');
    }));
    test('should emit agentCreated event', /*#__PURE__*/_asyncToGenerator(function* () {
      const listener = jest.fn();
      service.on('agentCreated', listener);
      yield service.createAgent('test-agent', ['learning']);
      expect(listener).toHaveBeenCalledWith({
        agentId: 'test-agent',
        capabilities: ['learning']
      });
    }));
    test('should destroy agent', /*#__PURE__*/_asyncToGenerator(function* () {
      yield service.createAgent('test-agent');
      const result = yield service.destroyAgent('test-agent');
      expect(result).toBe(true);
      expect(service.agents.has('test-agent')).toBe(false);
    }));
    test('should batch create agents', /*#__PURE__*/_asyncToGenerator(function* () {
      const configs = [{
        id: 'agent-1',
        capabilities: ['learning']
      }, {
        id: 'agent-2',
        capabilities: ['decision_making']
      }, {
        id: 'agent-3',
        capabilities: ['coordination']
      }];
      const results = yield service.batchCreateAgents(configs);
      expect(results).toHaveLength(3);
      expect(results.every(r => r.success)).toBe(true);
      expect(service.agents.size).toBe(3);
    }));
    test('should persist and restore agent state', /*#__PURE__*/_asyncToGenerator(function* () {
      const agent = yield service.createAgent('persistent-agent', ['memory_management']);

      // Save state
      service.agentStates.saveState('persistent-agent', {
        status: 'active',
        capabilities: ['memory_management'],
        metrics: agent.metrics,
        customData: 'test'
      });

      // Simulate reload by creating new service
      const newService = new DAAService();
      yield newService.initialize();

      // Create agent and check if state is restored
      const restoredAgent = yield newService.createAgent('persistent-agent');
      const state = yield newService.agentStates.loadFromStorage('persistent-agent');
      expect(state).toBeDefined();
      expect(state.customData).toBe('test');
      yield newService.cleanup();
    }));
  });
  describe('Cross-Boundary Communication Performance', () => {
    let agent;
    const testContext = {
      environment_state: {
        environment_type: 'Dynamic',
        conditions: {
          test: 1.0
        },
        stability: 0.5,
        resource_availability: 1.0
      },
      available_actions: [{
        id: 'test-action',
        action_type: 'Compute',
        cost: 0.1,
        expected_reward: 0.5,
        risk: 0.1,
        prerequisites: []
      }],
      goals: [],
      history: [],
      constraints: {
        max_memory_mb: 1024,
        max_cpu_usage: 0.8,
        max_network_mbps: 100,
        max_execution_time: 300,
        energy_budget: 1000
      },
      time_pressure: 0.0,
      uncertainty: 0.0
    };
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
      agent = yield service.createAgent('perf-agent', ['decision_making']);
    }));
    test('should make decision within 1ms latency threshold', /*#__PURE__*/_asyncToGenerator(function* () {
      const latencies = [];

      // Capture latency from events
      service.on('decisionMade', ({
        latency
      }) => {
        latencies.push(latency);
      });

      // Make multiple decisions
      for (let i = 0; i < 10; i++) {
        yield service.makeDecision('perf-agent', testContext);
      }

      // Check that average latency is under 1ms
      const avgLatency = latencies.reduce((a, b) => a + b, 0) / latencies.length;
      console.log(`Average cross-boundary latency: ${avgLatency.toFixed(3)}ms`);

      // Allow some tolerance for test environment
      expect(avgLatency).toBeLessThan(5.0); // Relaxed for test environment
    }));
    test('should handle batch decisions efficiently', /*#__PURE__*/_asyncToGenerator(function* () {
      const decisions = Array(20).fill(null).map((_, i) => ({
        agentId: 'perf-agent',
        context: _objectSpread(_objectSpread({}, testContext), {}, {
          uncertainty: i * 0.05
        })
      }));
      const start = performance.now();
      const results = yield service.batchMakeDecisions(decisions);
      const duration = performance.now() - start;
      expect(results).toHaveLength(20);
      expect(results.every(r => r.success)).toBe(true);

      // Batch should be more efficient than sequential
      const perDecision = duration / 20;
      console.log(`Batch decision average: ${perDecision.toFixed(3)}ms per decision`);
      expect(perDecision).toBeLessThan(10.0); // Should benefit from batching
    }));
  });
  describe('Multi-Agent Workflow Coordination', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();

      // Create agents for workflow
      yield service.batchCreateAgents([{
        id: 'worker-1',
        capabilities: ['compute']
      }, {
        id: 'worker-2',
        capabilities: ['compute']
      }, {
        id: 'coordinator',
        capabilities: ['coordination']
      }]);
    }));
    test('should create and execute simple workflow', /*#__PURE__*/_asyncToGenerator(function* () {
      const workflow = yield service.createWorkflow('simple-workflow', [{
        id: 'step1',
        task: function () {
          var _ref14 = _asyncToGenerator(function* (agent) {
            return {
              agent: agent.id,
              result: 'step1-complete'
            };
          });
          return function task(_x) {
            return _ref14.apply(this, arguments);
          };
        }()
      }, {
        id: 'step2',
        task: function () {
          var _ref15 = _asyncToGenerator(function* (agent) {
            return {
              agent: agent.id,
              result: 'step2-complete'
            };
          });
          return function task(_x2) {
            return _ref15.apply(this, arguments);
          };
        }()
      }], {
        'step2': ['step1']
      });
      expect(workflow.id).toBe('simple-workflow');
      expect(workflow.status).toBe('pending');

      // Execute steps in order
      const result1 = yield service.executeWorkflowStep('simple-workflow', 'step1', ['worker-1']);
      expect(result1).toContainEqual({
        agent: 'worker-1',
        result: 'step1-complete'
      });
      const result2 = yield service.executeWorkflowStep('simple-workflow', 'step2', ['worker-2']);
      expect(result2).toContainEqual({
        agent: 'worker-2',
        result: 'step2-complete'
      });

      // Check workflow status
      const status = service.workflows.getWorkflowStatus('simple-workflow');
      expect(status.status).toBe('completed');
      expect(status.progress.completed).toBe(2);
    }));
    test('should enforce workflow dependencies', /*#__PURE__*/_asyncToGenerator(function* () {
      yield service.createWorkflow('dependent-workflow', [{
        id: 'A',
        task: function () {
          var _ref17 = _asyncToGenerator(function* () {
            return 'A';
          });
          return function task() {
            return _ref17.apply(this, arguments);
          };
        }()
      }, {
        id: 'B',
        task: function () {
          var _ref18 = _asyncToGenerator(function* () {
            return 'B';
          });
          return function task() {
            return _ref18.apply(this, arguments);
          };
        }()
      }, {
        id: 'C',
        task: function () {
          var _ref19 = _asyncToGenerator(function* () {
            return 'C';
          });
          return function task() {
            return _ref19.apply(this, arguments);
          };
        }()
      }], {
        'B': ['A'],
        'C': ['A', 'B']
      });

      // Try to execute C before dependencies
      yield expect(service.executeWorkflowStep('dependent-workflow', 'C', ['worker-1'])).rejects.toThrow('Dependency A not completed');

      // Execute in correct order
      yield service.executeWorkflowStep('dependent-workflow', 'A', ['worker-1']);
      yield service.executeWorkflowStep('dependent-workflow', 'B', ['worker-2']);
      yield service.executeWorkflowStep('dependent-workflow', 'C', ['coordinator']);
      const status = service.workflows.getWorkflowStatus('dependent-workflow');
      expect(status.status).toBe('completed');
    }));
    test('should handle parallel workflow execution', /*#__PURE__*/_asyncToGenerator(function* () {
      yield service.createWorkflow('parallel-workflow', [{
        id: 'parallel-1',
        task: function () {
          var _ref21 = _asyncToGenerator(function* () {
            return new Promise(r => setTimeout(() => r('p1'), 50));
          });
          return function task() {
            return _ref21.apply(this, arguments);
          };
        }()
      }, {
        id: 'parallel-2',
        task: function () {
          var _ref22 = _asyncToGenerator(function* () {
            return new Promise(r => setTimeout(() => r('p2'), 50));
          });
          return function task() {
            return _ref22.apply(this, arguments);
          };
        }()
      }, {
        id: 'parallel-3',
        task: function () {
          var _ref23 = _asyncToGenerator(function* () {
            return new Promise(r => setTimeout(() => r('p3'), 50));
          });
          return function task() {
            return _ref23.apply(this, arguments);
          };
        }()
      }, {
        id: 'final',
        task: function () {
          var _ref24 = _asyncToGenerator(function* () {
            return 'done';
          });
          return function task() {
            return _ref24.apply(this, arguments);
          };
        }()
      }], {
        'final': ['parallel-1', 'parallel-2', 'parallel-3']
      });

      // Execute parallel steps concurrently
      const start = performance.now();
      const [r1, r2, r3] = yield Promise.all([service.executeWorkflowStep('parallel-workflow', 'parallel-1', ['worker-1']), service.executeWorkflowStep('parallel-workflow', 'parallel-2', ['worker-2']), service.executeWorkflowStep('parallel-workflow', 'parallel-3', ['coordinator'])]);
      const parallelDuration = performance.now() - start;

      // Should complete in ~50ms, not 150ms (sequential)
      expect(parallelDuration).toBeLessThan(100);

      // Execute final step
      yield service.executeWorkflowStep('parallel-workflow', 'final', ['coordinator']);
      const status = service.workflows.getWorkflowStatus('parallel-workflow');
      expect(status.status).toBe('completed');
    }));
  });
  describe('State Synchronization', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
      yield service.batchCreateAgents([{
        id: 'sync-agent-1',
        capabilities: ['memory_management']
      }, {
        id: 'sync-agent-2',
        capabilities: ['memory_management']
      }, {
        id: 'sync-agent-3',
        capabilities: ['memory_management']
      }]);
    }));
    test('should synchronize states across agents', /*#__PURE__*/_asyncToGenerator(function* () {
      // Set different states
      service.agentStates.saveState('sync-agent-1', {
        status: 'active',
        capabilities: ['memory_management'],
        metrics: {
          decisionsMade: 5
        },
        data: 'agent1-data'
      });
      service.agentStates.saveState('sync-agent-2', {
        status: 'idle',
        capabilities: ['memory_management'],
        metrics: {
          decisionsMade: 3
        },
        data: 'agent2-data'
      });

      // Synchronize
      const synced = yield service.synchronizeStates(['sync-agent-1', 'sync-agent-2', 'sync-agent-3']);
      expect(synced.size).toBe(2); // agent-3 has no saved state
      expect(synced.get('sync-agent-1').data).toBe('agent1-data');
      expect(synced.get('sync-agent-2').data).toBe('agent2-data');
    }));
    test('should emit synchronization event', /*#__PURE__*/_asyncToGenerator(function* () {
      const listener = jest.fn();
      service.on('statesSynchronized', listener);
      yield service.synchronizeStates(['sync-agent-1', 'sync-agent-2']);
      expect(listener).toHaveBeenCalledWith(expect.objectContaining({
        agentIds: ['sync-agent-1', 'sync-agent-2'],
        duration: expect.any(Number)
      }));
    }));
  });
  describe('Resource Management', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
    }));
    test('should optimize resources', /*#__PURE__*/_asyncToGenerator(function* () {
      const result = yield service.optimizeResources();

      // Result format depends on WASM implementation
      expect(result).toBeDefined();
    }));
    test('should track memory usage', () => {
      const status = service.getStatus();
      expect(status.wasm.memoryUsage).toBeGreaterThanOrEqual(0);
    });
    test('should clean up resources', /*#__PURE__*/_asyncToGenerator(function* () {
      // Create some agents
      yield service.batchCreateAgents([{
        id: 'cleanup-1'
      }, {
        id: 'cleanup-2'
      }, {
        id: 'cleanup-3'
      }]);
      expect(service.agents.size).toBe(3);

      // Cleanup
      yield service.cleanup();
      expect(service.agents.size).toBe(0);
    }));
  });
  describe('Performance Monitoring', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
      yield service.createAgent('metrics-agent', ['decision_making']);
    }));
    test('should track performance metrics', /*#__PURE__*/_asyncToGenerator(function* () {
      // Make some decisions
      const context = {
        environment_state: {
          environment_type: 'Stable',
          conditions: {},
          stability: 1.0,
          resource_availability: 1.0
        },
        available_actions: [],
        goals: [],
        history: [],
        constraints: {
          max_memory_mb: 1024,
          max_cpu_usage: 0.8,
          max_network_mbps: 100,
          max_execution_time: 300,
          energy_budget: 1000
        },
        time_pressure: 0.0,
        uncertainty: 0.0
      };
      yield service.makeDecision('metrics-agent', context);
      yield service.makeDecision('metrics-agent', context);
      const metrics = service.getPerformanceMetrics();
      expect(metrics.system.totalAgents).toBe(1);
      expect(metrics.agents['metrics-agent'].decisionsMade).toBe(2);
      expect(metrics.agents['metrics-agent'].averageResponseTime).toBeGreaterThan(0);
    }));
    test('should provide comprehensive status', () => {
      const status = service.getStatus();
      expect(status).toMatchObject({
        initialized: true,
        agents: {
          count: 1,
          ids: ['metrics-agent'],
          states: expect.any(Number)
        },
        workflows: {
          count: expect.any(Number),
          active: expect.any(Number)
        },
        wasm: {
          modules: expect.any(Object),
          memoryUsage: expect.any(Number)
        },
        performance: expect.any(Object)
      });
    });
  });
  describe('Error Handling', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield service.initialize();
    }));
    test('should handle agent not found errors', /*#__PURE__*/_asyncToGenerator(function* () {
      yield expect(service.makeDecision('non-existent', {})).rejects.toThrow('Agent non-existent not found');
    }));
    test('should handle workflow not found errors', /*#__PURE__*/_asyncToGenerator(function* () {
      yield expect(service.executeWorkflowStep('non-existent-workflow', 'step1', ['agent1'])).rejects.toThrow('Workflow non-existent-workflow not found');
    }));
    test('should track agent errors', /*#__PURE__*/_asyncToGenerator(function* () {
      yield service.createAgent('error-agent');

      // Force an error by passing invalid context
      try {
        yield service.makeDecision('error-agent', null);
      } catch (e) {
        // Expected
      }
      const metrics = service.getPerformanceMetrics();
      expect(metrics.agents['error-agent'].errors).toBe(1);
    }));
  });
});

// Performance benchmark tests
describe('DAA Service Performance Benchmarks', () => {
  let service;
  beforeAll(/*#__PURE__*/_asyncToGenerator(function* () {
    service = new DAAService();
    yield service.initialize();
  }));
  afterAll(/*#__PURE__*/_asyncToGenerator(function* () {
    yield service.cleanup();
  }));
  test('should handle 100 agents without degradation', /*#__PURE__*/_asyncToGenerator(function* () {
    const configs = Array(100).fill(null).map((_, i) => ({
      id: `bench-agent-${i}`,
      capabilities: ['decision_making']
    }));
    const start = performance.now();
    const results = yield service.batchCreateAgents(configs);
    const duration = performance.now() - start;
    expect(results.every(r => r.success)).toBe(true);
    console.log(`Created 100 agents in ${duration.toFixed(0)}ms (${(duration / 100).toFixed(2)}ms per agent)`);

    // Cleanup bench agents
    for (const config of configs) {
      yield service.destroyAgent(config.id);
    }
  }));
  test('should maintain sub-millisecond latency under load', /*#__PURE__*/_asyncToGenerator(function* () {
    // Create test agents
    const agents = yield service.batchCreateAgents([{
      id: 'load-test-1',
      capabilities: ['decision_making']
    }, {
      id: 'load-test-2',
      capabilities: ['decision_making']
    }, {
      id: 'load-test-3',
      capabilities: ['decision_making']
    }]);
    const context = {
      environment_state: {
        environment_type: 'Dynamic',
        conditions: {},
        stability: 0.5,
        resource_availability: 1.0
      },
      available_actions: [],
      goals: [],
      history: [],
      constraints: {
        max_memory_mb: 1024,
        max_cpu_usage: 0.8,
        max_network_mbps: 100,
        max_execution_time: 300,
        energy_budget: 1000
      },
      time_pressure: 0.5,
      uncertainty: 0.5
    };

    // Make 1000 decisions across agents
    const latencies = [];
    service.on('decisionMade', ({
      latency
    }) => latencies.push(latency));
    const decisions = Array(1000).fill(null).map((_, i) => ({
      agentId: `load-test-${i % 3 + 1}`,
      context
    }));
    const start = performance.now();
    yield service.batchMakeDecisions(decisions);
    const totalDuration = performance.now() - start;
    const avgLatency = latencies.reduce((a, b) => a + b, 0) / latencies.length;
    const maxLatency = Math.max(...latencies);
    console.log(`1000 decisions in ${totalDuration.toFixed(0)}ms`);
    console.log(`Average latency: ${avgLatency.toFixed(3)}ms`);
    console.log(`Max latency: ${maxLatency.toFixed(3)}ms`);
    console.log(`95th percentile: ${latencies.sort((a, b) => a - b)[Math.floor(latencies.length * 0.95)].toFixed(3)}ms`);

    // Cleanup
    for (const agent of agents) {
      if (agent.success) {
        yield service.destroyAgent(agent.agent.id);
      }
    }
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqZXN0IiwiREFBU2VydmljZSIsImRlc2NyaWJlIiwic2VydmljZSIsImJlZm9yZUVhY2giLCJhZnRlckVhY2giLCJfYXN5bmNUb0dlbmVyYXRvciIsImNsZWFudXAiLCJ0ZXN0IiwiZXhwZWN0IiwiaW5pdGlhbGl6ZSIsInJlc29sdmVzIiwibm90IiwidG9UaHJvdyIsImluaXRpYWxpemVkIiwidG9CZSIsImxpc3RlbmVyIiwiZm4iLCJvbiIsInRvSGF2ZUJlZW5DYWxsZWQiLCJhZ2VudCIsImNyZWF0ZUFnZW50IiwidG9CZURlZmluZWQiLCJpZCIsImNhcGFiaWxpdGllcyIsImhhcyIsInN0YXR1cyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYWdlbnRJZCIsInJlc3VsdCIsImRlc3Ryb3lBZ2VudCIsImFnZW50cyIsImNvbmZpZ3MiLCJyZXN1bHRzIiwiYmF0Y2hDcmVhdGVBZ2VudHMiLCJ0b0hhdmVMZW5ndGgiLCJldmVyeSIsInIiLCJzdWNjZXNzIiwic2l6ZSIsImFnZW50U3RhdGVzIiwic2F2ZVN0YXRlIiwibWV0cmljcyIsImN1c3RvbURhdGEiLCJuZXdTZXJ2aWNlIiwicmVzdG9yZWRBZ2VudCIsInN0YXRlIiwibG9hZEZyb21TdG9yYWdlIiwidGVzdENvbnRleHQiLCJlbnZpcm9ubWVudF9zdGF0ZSIsImVudmlyb25tZW50X3R5cGUiLCJjb25kaXRpb25zIiwic3RhYmlsaXR5IiwicmVzb3VyY2VfYXZhaWxhYmlsaXR5IiwiYXZhaWxhYmxlX2FjdGlvbnMiLCJhY3Rpb25fdHlwZSIsImNvc3QiLCJleHBlY3RlZF9yZXdhcmQiLCJyaXNrIiwicHJlcmVxdWlzaXRlcyIsImdvYWxzIiwiaGlzdG9yeSIsImNvbnN0cmFpbnRzIiwibWF4X21lbW9yeV9tYiIsIm1heF9jcHVfdXNhZ2UiLCJtYXhfbmV0d29ya19tYnBzIiwibWF4X2V4ZWN1dGlvbl90aW1lIiwiZW5lcmd5X2J1ZGdldCIsInRpbWVfcHJlc3N1cmUiLCJ1bmNlcnRhaW50eSIsImxhdGVuY2llcyIsImxhdGVuY3kiLCJwdXNoIiwiaSIsIm1ha2VEZWNpc2lvbiIsImF2Z0xhdGVuY3kiLCJyZWR1Y2UiLCJhIiwiYiIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJ0b0ZpeGVkIiwidG9CZUxlc3NUaGFuIiwiZGVjaXNpb25zIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiXyIsImNvbnRleHQiLCJfb2JqZWN0U3ByZWFkIiwic3RhcnQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImJhdGNoTWFrZURlY2lzaW9ucyIsImR1cmF0aW9uIiwicGVyRGVjaXNpb24iLCJ3b3JrZmxvdyIsImNyZWF0ZVdvcmtmbG93IiwidGFzayIsIl9yZWYxNCIsIl94IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfcmVmMTUiLCJfeDIiLCJyZXN1bHQxIiwiZXhlY3V0ZVdvcmtmbG93U3RlcCIsInRvQ29udGFpbkVxdWFsIiwicmVzdWx0MiIsIndvcmtmbG93cyIsImdldFdvcmtmbG93U3RhdHVzIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWQiLCJfcmVmMTciLCJfcmVmMTgiLCJfcmVmMTkiLCJyZWplY3RzIiwiX3JlZjIxIiwiUHJvbWlzZSIsInNldFRpbWVvdXQiLCJfcmVmMjIiLCJfcmVmMjMiLCJfcmVmMjQiLCJyMSIsInIyIiwicjMiLCJhbGwiLCJwYXJhbGxlbER1cmF0aW9uIiwiZGVjaXNpb25zTWFkZSIsImRhdGEiLCJzeW5jZWQiLCJzeW5jaHJvbml6ZVN0YXRlcyIsImdldCIsIm9iamVjdENvbnRhaW5pbmciLCJhZ2VudElkcyIsImFueSIsIk51bWJlciIsIm9wdGltaXplUmVzb3VyY2VzIiwiZ2V0U3RhdHVzIiwid2FzbSIsIm1lbW9yeVVzYWdlIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsImdldFBlcmZvcm1hbmNlTWV0cmljcyIsInN5c3RlbSIsInRvdGFsQWdlbnRzIiwiYXZlcmFnZVJlc3BvbnNlVGltZSIsInRvQmVHcmVhdGVyVGhhbiIsInRvTWF0Y2hPYmplY3QiLCJjb3VudCIsImlkcyIsInN0YXRlcyIsImFjdGl2ZSIsIm1vZHVsZXMiLCJPYmplY3QiLCJlIiwiZXJyb3JzIiwiYmVmb3JlQWxsIiwiYWZ0ZXJBbGwiLCJjb25maWciLCJ0b3RhbER1cmF0aW9uIiwibWF4TGF0ZW5jeSIsIk1hdGgiLCJtYXgiLCJzb3J0IiwiZmxvb3IiXSwic291cmNlcyI6WyJkYWEtc2VydmljZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogREFBIFNlcnZpY2UgVGVzdCBTdWl0ZVxuICogVGVzdHMgZm9yIGFnZW50IGxpZmVjeWNsZSwgc3RhdGUgcGVyc2lzdGVuY2UsIHdvcmtmbG93IGNvb3JkaW5hdGlvbixcbiAqIGFuZCA8IDFtcyBjcm9zcy1ib3VuZGFyeSBjYWxsIGxhdGVuY3lcbiAqL1xuXG5pbXBvcnQgeyBqZXN0IH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgeyBEQUFTZXJ2aWNlIH0gZnJvbSAnLi4vc3JjL2RhYS1zZXJ2aWNlLmpzJztcblxuZGVzY3JpYmUoJ0RBQSBTZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgc2VydmljZTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBzZXJ2aWNlID0gbmV3IERBQVNlcnZpY2UoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBzZXJ2aWNlLmNsZWFudXAoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0luaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBpbml0aWFsaXplIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmluaXRpYWxpemUoKSkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlLmluaXRpYWxpemVkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGVtaXQgaW5pdGlhbGl6ZWQgZXZlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IGplc3QuZm4oKTtcbiAgICAgIHNlcnZpY2Uub24oJ2luaXRpYWxpemVkJywgbGlzdGVuZXIpO1xuICAgICAgXG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGxpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIGluaXRpYWxpemF0aW9uIGNhbGxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKTsgLy8gU2hvdWxkIG5vdCB0aHJvd1xuICAgICAgXG4gICAgICBleHBlY3Qoc2VydmljZS5pbml0aWFsaXplZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FnZW50IExpZmVjeWNsZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIGFnZW50IHdpdGggY2FwYWJpbGl0aWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWdlbnQgPSBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUFnZW50KCd0ZXN0LWFnZW50JywgWydkZWNpc2lvbl9tYWtpbmcnLCAnbGVhcm5pbmcnXSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChhZ2VudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChhZ2VudC5pZCkudG9CZSgndGVzdC1hZ2VudCcpO1xuICAgICAgZXhwZWN0KGFnZW50LmNhcGFiaWxpdGllcy5oYXMoJ2RlY2lzaW9uX21ha2luZycpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGFnZW50LmNhcGFiaWxpdGllcy5oYXMoJ2xlYXJuaW5nJykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoYWdlbnQuc3RhdHVzKS50b0JlKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBlbWl0IGFnZW50Q3JlYXRlZCBldmVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gamVzdC5mbigpO1xuICAgICAgc2VydmljZS5vbignYWdlbnRDcmVhdGVkJywgbGlzdGVuZXIpO1xuICAgICAgXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUFnZW50KCd0ZXN0LWFnZW50JywgWydsZWFybmluZyddKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGxpc3RlbmVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGFnZW50SWQ6ICd0ZXN0LWFnZW50JyxcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBbJ2xlYXJuaW5nJ11cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRlc3Ryb3kgYWdlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUFnZW50KCd0ZXN0LWFnZW50Jyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZGVzdHJveUFnZW50KCd0ZXN0LWFnZW50Jyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3Qoc2VydmljZS5hZ2VudHMuaGFzKCd0ZXN0LWFnZW50JykpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGJhdGNoIGNyZWF0ZSBhZ2VudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWdzID0gW1xuICAgICAgICB7IGlkOiAnYWdlbnQtMScsIGNhcGFiaWxpdGllczogWydsZWFybmluZyddIH0sXG4gICAgICAgIHsgaWQ6ICdhZ2VudC0yJywgY2FwYWJpbGl0aWVzOiBbJ2RlY2lzaW9uX21ha2luZyddIH0sXG4gICAgICAgIHsgaWQ6ICdhZ2VudC0zJywgY2FwYWJpbGl0aWVzOiBbJ2Nvb3JkaW5hdGlvbiddIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZXJ2aWNlLmJhdGNoQ3JlYXRlQWdlbnRzKGNvbmZpZ3MpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdHMuZXZlcnkociA9PiByLnN1Y2Nlc3MpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHNlcnZpY2UuYWdlbnRzLnNpemUpLnRvQmUoMyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcGVyc2lzdCBhbmQgcmVzdG9yZSBhZ2VudCBzdGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgc2VydmljZS5jcmVhdGVBZ2VudCgncGVyc2lzdGVudC1hZ2VudCcsIFsnbWVtb3J5X21hbmFnZW1lbnQnXSk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgc3RhdGVcbiAgICAgIHNlcnZpY2UuYWdlbnRTdGF0ZXMuc2F2ZVN0YXRlKCdwZXJzaXN0ZW50LWFnZW50Jywge1xuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IFsnbWVtb3J5X21hbmFnZW1lbnQnXSxcbiAgICAgICAgbWV0cmljczogYWdlbnQubWV0cmljcyxcbiAgICAgICAgY3VzdG9tRGF0YTogJ3Rlc3QnXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgcmVsb2FkIGJ5IGNyZWF0aW5nIG5ldyBzZXJ2aWNlXG4gICAgICBjb25zdCBuZXdTZXJ2aWNlID0gbmV3IERBQVNlcnZpY2UoKTtcbiAgICAgIGF3YWl0IG5ld1NlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYWdlbnQgYW5kIGNoZWNrIGlmIHN0YXRlIGlzIHJlc3RvcmVkXG4gICAgICBjb25zdCByZXN0b3JlZEFnZW50ID0gYXdhaXQgbmV3U2VydmljZS5jcmVhdGVBZ2VudCgncGVyc2lzdGVudC1hZ2VudCcpO1xuICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBuZXdTZXJ2aWNlLmFnZW50U3RhdGVzLmxvYWRGcm9tU3RvcmFnZSgncGVyc2lzdGVudC1hZ2VudCcpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc3RhdGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc3RhdGUuY3VzdG9tRGF0YSkudG9CZSgndGVzdCcpO1xuICAgICAgXG4gICAgICBhd2FpdCBuZXdTZXJ2aWNlLmNsZWFudXAoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nyb3NzLUJvdW5kYXJ5IENvbW11bmljYXRpb24gUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgbGV0IGFnZW50O1xuICAgIGNvbnN0IHRlc3RDb250ZXh0ID0ge1xuICAgICAgZW52aXJvbm1lbnRfc3RhdGU6IHtcbiAgICAgICAgZW52aXJvbm1lbnRfdHlwZTogJ0R5bmFtaWMnLFxuICAgICAgICBjb25kaXRpb25zOiB7IHRlc3Q6IDEuMCB9LFxuICAgICAgICBzdGFiaWxpdHk6IDAuNSxcbiAgICAgICAgcmVzb3VyY2VfYXZhaWxhYmlsaXR5OiAxLjBcbiAgICAgIH0sXG4gICAgICBhdmFpbGFibGVfYWN0aW9uczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd0ZXN0LWFjdGlvbicsXG4gICAgICAgICAgYWN0aW9uX3R5cGU6ICdDb21wdXRlJyxcbiAgICAgICAgICBjb3N0OiAwLjEsXG4gICAgICAgICAgZXhwZWN0ZWRfcmV3YXJkOiAwLjUsXG4gICAgICAgICAgcmlzazogMC4xLFxuICAgICAgICAgIHByZXJlcXVpc2l0ZXM6IFtdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnb2FsczogW10sXG4gICAgICBoaXN0b3J5OiBbXSxcbiAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgIG1heF9tZW1vcnlfbWI6IDEwMjQsXG4gICAgICAgIG1heF9jcHVfdXNhZ2U6IDAuOCxcbiAgICAgICAgbWF4X25ldHdvcmtfbWJwczogMTAwLFxuICAgICAgICBtYXhfZXhlY3V0aW9uX3RpbWU6IDMwMCxcbiAgICAgICAgZW5lcmd5X2J1ZGdldDogMTAwMFxuICAgICAgfSxcbiAgICAgIHRpbWVfcHJlc3N1cmU6IDAuMCxcbiAgICAgIHVuY2VydGFpbnR5OiAwLjBcbiAgICB9O1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICAgIGFnZW50ID0gYXdhaXQgc2VydmljZS5jcmVhdGVBZ2VudCgncGVyZi1hZ2VudCcsIFsnZGVjaXNpb25fbWFraW5nJ10pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIG1ha2UgZGVjaXNpb24gd2l0aGluIDFtcyBsYXRlbmN5IHRocmVzaG9sZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhdGVuY2llcyA9IFtdO1xuICAgICAgXG4gICAgICAvLyBDYXB0dXJlIGxhdGVuY3kgZnJvbSBldmVudHNcbiAgICAgIHNlcnZpY2Uub24oJ2RlY2lzaW9uTWFkZScsICh7IGxhdGVuY3kgfSkgPT4ge1xuICAgICAgICBsYXRlbmNpZXMucHVzaChsYXRlbmN5KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBNYWtlIG11bHRpcGxlIGRlY2lzaW9uc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGF3YWl0IHNlcnZpY2UubWFrZURlY2lzaW9uKCdwZXJmLWFnZW50JywgdGVzdENvbnRleHQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGF0IGF2ZXJhZ2UgbGF0ZW5jeSBpcyB1bmRlciAxbXNcbiAgICAgIGNvbnN0IGF2Z0xhdGVuY3kgPSBsYXRlbmNpZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBsYXRlbmNpZXMubGVuZ3RoO1xuICAgICAgY29uc29sZS5sb2coYEF2ZXJhZ2UgY3Jvc3MtYm91bmRhcnkgbGF0ZW5jeTogJHthdmdMYXRlbmN5LnRvRml4ZWQoMyl9bXNgKTtcbiAgICAgIFxuICAgICAgLy8gQWxsb3cgc29tZSB0b2xlcmFuY2UgZm9yIHRlc3QgZW52aXJvbm1lbnRcbiAgICAgIGV4cGVjdChhdmdMYXRlbmN5KS50b0JlTGVzc1RoYW4oNS4wKTsgLy8gUmVsYXhlZCBmb3IgdGVzdCBlbnZpcm9ubWVudFxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBiYXRjaCBkZWNpc2lvbnMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkZWNpc2lvbnMgPSBBcnJheSgyMCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+ICh7XG4gICAgICAgIGFnZW50SWQ6ICdwZXJmLWFnZW50JyxcbiAgICAgICAgY29udGV4dDogeyAuLi50ZXN0Q29udGV4dCwgdW5jZXJ0YWludHk6IGkgKiAwLjA1IH1cbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZXJ2aWNlLmJhdGNoTWFrZURlY2lzaW9ucyhkZWNpc2lvbnMpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDIwKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmV2ZXJ5KHIgPT4gci5zdWNjZXNzKSkudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gQmF0Y2ggc2hvdWxkIGJlIG1vcmUgZWZmaWNpZW50IHRoYW4gc2VxdWVudGlhbFxuICAgICAgY29uc3QgcGVyRGVjaXNpb24gPSBkdXJhdGlvbiAvIDIwO1xuICAgICAgY29uc29sZS5sb2coYEJhdGNoIGRlY2lzaW9uIGF2ZXJhZ2U6ICR7cGVyRGVjaXNpb24udG9GaXhlZCgzKX1tcyBwZXIgZGVjaXNpb25gKTtcbiAgICAgIGV4cGVjdChwZXJEZWNpc2lvbikudG9CZUxlc3NUaGFuKDEwLjApOyAvLyBTaG91bGQgYmVuZWZpdCBmcm9tIGJhdGNoaW5nXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNdWx0aS1BZ2VudCBXb3JrZmxvdyBDb29yZGluYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGFnZW50cyBmb3Igd29ya2Zsb3dcbiAgICAgIGF3YWl0IHNlcnZpY2UuYmF0Y2hDcmVhdGVBZ2VudHMoW1xuICAgICAgICB7IGlkOiAnd29ya2VyLTEnLCBjYXBhYmlsaXRpZXM6IFsnY29tcHV0ZSddIH0sXG4gICAgICAgIHsgaWQ6ICd3b3JrZXItMicsIGNhcGFiaWxpdGllczogWydjb21wdXRlJ10gfSxcbiAgICAgICAgeyBpZDogJ2Nvb3JkaW5hdG9yJywgY2FwYWJpbGl0aWVzOiBbJ2Nvb3JkaW5hdGlvbiddIH1cbiAgICAgIF0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNyZWF0ZSBhbmQgZXhlY3V0ZSBzaW1wbGUgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB3b3JrZmxvdyA9IGF3YWl0IHNlcnZpY2UuY3JlYXRlV29ya2Zsb3coXG4gICAgICAgICdzaW1wbGUtd29ya2Zsb3cnLFxuICAgICAgICBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzdGVwMScsXG4gICAgICAgICAgICB0YXNrOiBhc3luYyAoYWdlbnQpID0+ICh7IGFnZW50OiBhZ2VudC5pZCwgcmVzdWx0OiAnc3RlcDEtY29tcGxldGUnIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3N0ZXAyJyxcbiAgICAgICAgICAgIHRhc2s6IGFzeW5jIChhZ2VudCkgPT4gKHsgYWdlbnQ6IGFnZW50LmlkLCByZXN1bHQ6ICdzdGVwMi1jb21wbGV0ZScgfSlcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHsgJ3N0ZXAyJzogWydzdGVwMSddIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh3b3JrZmxvdy5pZCkudG9CZSgnc2ltcGxlLXdvcmtmbG93Jyk7XG4gICAgICBleHBlY3Qod29ya2Zsb3cuc3RhdHVzKS50b0JlKCdwZW5kaW5nJyk7XG4gICAgICBcbiAgICAgIC8vIEV4ZWN1dGUgc3RlcHMgaW4gb3JkZXJcbiAgICAgIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ3NpbXBsZS13b3JrZmxvdycsICdzdGVwMScsIFsnd29ya2VyLTEnXSk7XG4gICAgICBleHBlY3QocmVzdWx0MSkudG9Db250YWluRXF1YWwoeyBhZ2VudDogJ3dvcmtlci0xJywgcmVzdWx0OiAnc3RlcDEtY29tcGxldGUnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgc2VydmljZS5leGVjdXRlV29ya2Zsb3dTdGVwKCdzaW1wbGUtd29ya2Zsb3cnLCAnc3RlcDInLCBbJ3dvcmtlci0yJ10pO1xuICAgICAgZXhwZWN0KHJlc3VsdDIpLnRvQ29udGFpbkVxdWFsKHsgYWdlbnQ6ICd3b3JrZXItMicsIHJlc3VsdDogJ3N0ZXAyLWNvbXBsZXRlJyB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgd29ya2Zsb3cgc3RhdHVzXG4gICAgICBjb25zdCBzdGF0dXMgPSBzZXJ2aWNlLndvcmtmbG93cy5nZXRXb3JrZmxvd1N0YXR1cygnc2ltcGxlLXdvcmtmbG93Jyk7XG4gICAgICBleHBlY3Qoc3RhdHVzLnN0YXR1cykudG9CZSgnY29tcGxldGVkJyk7XG4gICAgICBleHBlY3Qoc3RhdHVzLnByb2dyZXNzLmNvbXBsZXRlZCkudG9CZSgyKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBlbmZvcmNlIHdvcmtmbG93IGRlcGVuZGVuY2llcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHNlcnZpY2UuY3JlYXRlV29ya2Zsb3coXG4gICAgICAgICdkZXBlbmRlbnQtd29ya2Zsb3cnLFxuICAgICAgICBbXG4gICAgICAgICAgeyBpZDogJ0EnLCB0YXNrOiBhc3luYyAoKSA9PiAnQScgfSxcbiAgICAgICAgICB7IGlkOiAnQicsIHRhc2s6IGFzeW5jICgpID0+ICdCJyB9LFxuICAgICAgICAgIHsgaWQ6ICdDJywgdGFzazogYXN5bmMgKCkgPT4gJ0MnIH1cbiAgICAgICAgXSxcbiAgICAgICAge1xuICAgICAgICAgICdCJzogWydBJ10sXG4gICAgICAgICAgJ0MnOiBbJ0EnLCAnQiddXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBleGVjdXRlIEMgYmVmb3JlIGRlcGVuZGVuY2llc1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ2RlcGVuZGVudC13b3JrZmxvdycsICdDJywgWyd3b3JrZXItMSddKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ0RlcGVuZGVuY3kgQSBub3QgY29tcGxldGVkJyk7XG4gICAgICBcbiAgICAgIC8vIEV4ZWN1dGUgaW4gY29ycmVjdCBvcmRlclxuICAgICAgYXdhaXQgc2VydmljZS5leGVjdXRlV29ya2Zsb3dTdGVwKCdkZXBlbmRlbnQtd29ya2Zsb3cnLCAnQScsIFsnd29ya2VyLTEnXSk7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ2RlcGVuZGVudC13b3JrZmxvdycsICdCJywgWyd3b3JrZXItMiddKTtcbiAgICAgIGF3YWl0IHNlcnZpY2UuZXhlY3V0ZVdvcmtmbG93U3RlcCgnZGVwZW5kZW50LXdvcmtmbG93JywgJ0MnLCBbJ2Nvb3JkaW5hdG9yJ10pO1xuICAgICAgXG4gICAgICBjb25zdCBzdGF0dXMgPSBzZXJ2aWNlLndvcmtmbG93cy5nZXRXb3JrZmxvd1N0YXR1cygnZGVwZW5kZW50LXdvcmtmbG93Jyk7XG4gICAgICBleHBlY3Qoc3RhdHVzLnN0YXR1cykudG9CZSgnY29tcGxldGVkJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHBhcmFsbGVsIHdvcmtmbG93IGV4ZWN1dGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHNlcnZpY2UuY3JlYXRlV29ya2Zsb3coXG4gICAgICAgICdwYXJhbGxlbC13b3JrZmxvdycsXG4gICAgICAgIFtcbiAgICAgICAgICB7IGlkOiAncGFyYWxsZWwtMScsIHRhc2s6IGFzeW5jICgpID0+IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dCgoKSA9PiByKCdwMScpLCA1MCkpIH0sXG4gICAgICAgICAgeyBpZDogJ3BhcmFsbGVsLTInLCB0YXNrOiBhc3luYyAoKSA9PiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQoKCkgPT4gcigncDInKSwgNTApKSB9LFxuICAgICAgICAgIHsgaWQ6ICdwYXJhbGxlbC0zJywgdGFzazogYXN5bmMgKCkgPT4gbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KCgpID0+IHIoJ3AzJyksIDUwKSkgfSxcbiAgICAgICAgICB7IGlkOiAnZmluYWwnLCB0YXNrOiBhc3luYyAoKSA9PiAnZG9uZScgfVxuICAgICAgICBdLFxuICAgICAgICB7XG4gICAgICAgICAgJ2ZpbmFsJzogWydwYXJhbGxlbC0xJywgJ3BhcmFsbGVsLTInLCAncGFyYWxsZWwtMyddXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIEV4ZWN1dGUgcGFyYWxsZWwgc3RlcHMgY29uY3VycmVudGx5XG4gICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgW3IxLCByMiwgcjNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ3BhcmFsbGVsLXdvcmtmbG93JywgJ3BhcmFsbGVsLTEnLCBbJ3dvcmtlci0xJ10pLFxuICAgICAgICBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ3BhcmFsbGVsLXdvcmtmbG93JywgJ3BhcmFsbGVsLTInLCBbJ3dvcmtlci0yJ10pLFxuICAgICAgICBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ3BhcmFsbGVsLXdvcmtmbG93JywgJ3BhcmFsbGVsLTMnLCBbJ2Nvb3JkaW5hdG9yJ10pXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHBhcmFsbGVsRHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgY29tcGxldGUgaW4gfjUwbXMsIG5vdCAxNTBtcyAoc2VxdWVudGlhbClcbiAgICAgIGV4cGVjdChwYXJhbGxlbER1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTAwKTtcbiAgICAgIFxuICAgICAgLy8gRXhlY3V0ZSBmaW5hbCBzdGVwXG4gICAgICBhd2FpdCBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ3BhcmFsbGVsLXdvcmtmbG93JywgJ2ZpbmFsJywgWydjb29yZGluYXRvciddKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzID0gc2VydmljZS53b3JrZmxvd3MuZ2V0V29ya2Zsb3dTdGF0dXMoJ3BhcmFsbGVsLXdvcmtmbG93Jyk7XG4gICAgICBleHBlY3Qoc3RhdHVzLnN0YXR1cykudG9CZSgnY29tcGxldGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdGF0ZSBTeW5jaHJvbml6YXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKTtcbiAgICAgIFxuICAgICAgYXdhaXQgc2VydmljZS5iYXRjaENyZWF0ZUFnZW50cyhbXG4gICAgICAgIHsgaWQ6ICdzeW5jLWFnZW50LTEnLCBjYXBhYmlsaXRpZXM6IFsnbWVtb3J5X21hbmFnZW1lbnQnXSB9LFxuICAgICAgICB7IGlkOiAnc3luYy1hZ2VudC0yJywgY2FwYWJpbGl0aWVzOiBbJ21lbW9yeV9tYW5hZ2VtZW50J10gfSxcbiAgICAgICAgeyBpZDogJ3N5bmMtYWdlbnQtMycsIGNhcGFiaWxpdGllczogWydtZW1vcnlfbWFuYWdlbWVudCddIH1cbiAgICAgIF0pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHN5bmNocm9uaXplIHN0YXRlcyBhY3Jvc3MgYWdlbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2V0IGRpZmZlcmVudCBzdGF0ZXNcbiAgICAgIHNlcnZpY2UuYWdlbnRTdGF0ZXMuc2F2ZVN0YXRlKCdzeW5jLWFnZW50LTEnLCB7XG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgIGNhcGFiaWxpdGllczogWydtZW1vcnlfbWFuYWdlbWVudCddLFxuICAgICAgICBtZXRyaWNzOiB7IGRlY2lzaW9uc01hZGU6IDUgfSxcbiAgICAgICAgZGF0YTogJ2FnZW50MS1kYXRhJ1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHNlcnZpY2UuYWdlbnRTdGF0ZXMuc2F2ZVN0YXRlKCdzeW5jLWFnZW50LTInLCB7XG4gICAgICAgIHN0YXR1czogJ2lkbGUnLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IFsnbWVtb3J5X21hbmFnZW1lbnQnXSxcbiAgICAgICAgbWV0cmljczogeyBkZWNpc2lvbnNNYWRlOiAzIH0sXG4gICAgICAgIGRhdGE6ICdhZ2VudDItZGF0YSdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTeW5jaHJvbml6ZVxuICAgICAgY29uc3Qgc3luY2VkID0gYXdhaXQgc2VydmljZS5zeW5jaHJvbml6ZVN0YXRlcyhbJ3N5bmMtYWdlbnQtMScsICdzeW5jLWFnZW50LTInLCAnc3luYy1hZ2VudC0zJ10pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc3luY2VkLnNpemUpLnRvQmUoMik7IC8vIGFnZW50LTMgaGFzIG5vIHNhdmVkIHN0YXRlXG4gICAgICBleHBlY3Qoc3luY2VkLmdldCgnc3luYy1hZ2VudC0xJykuZGF0YSkudG9CZSgnYWdlbnQxLWRhdGEnKTtcbiAgICAgIGV4cGVjdChzeW5jZWQuZ2V0KCdzeW5jLWFnZW50LTInKS5kYXRhKS50b0JlKCdhZ2VudDItZGF0YScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGVtaXQgc3luY2hyb25pemF0aW9uIGV2ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBqZXN0LmZuKCk7XG4gICAgICBzZXJ2aWNlLm9uKCdzdGF0ZXNTeW5jaHJvbml6ZWQnLCBsaXN0ZW5lcik7XG4gICAgICBcbiAgICAgIGF3YWl0IHNlcnZpY2Uuc3luY2hyb25pemVTdGF0ZXMoWydzeW5jLWFnZW50LTEnLCAnc3luYy1hZ2VudC0yJ10pO1xuICAgICAgXG4gICAgICBleHBlY3QobGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgYWdlbnRJZHM6IFsnc3luYy1hZ2VudC0xJywgJ3N5bmMtYWdlbnQtMiddLFxuICAgICAgICAgIGR1cmF0aW9uOiBleHBlY3QuYW55KE51bWJlcilcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXNvdXJjZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgb3B0aW1pemUgcmVzb3VyY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5vcHRpbWl6ZVJlc291cmNlcygpO1xuICAgICAgXG4gICAgICAvLyBSZXN1bHQgZm9ybWF0IGRlcGVuZHMgb24gV0FTTSBpbXBsZW1lbnRhdGlvblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0cmFjayBtZW1vcnkgdXNhZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBzZXJ2aWNlLmdldFN0YXR1cygpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc3RhdHVzLndhc20ubWVtb3J5VXNhZ2UpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2xlYW4gdXAgcmVzb3VyY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIHNvbWUgYWdlbnRzXG4gICAgICBhd2FpdCBzZXJ2aWNlLmJhdGNoQ3JlYXRlQWdlbnRzKFtcbiAgICAgICAgeyBpZDogJ2NsZWFudXAtMScgfSxcbiAgICAgICAgeyBpZDogJ2NsZWFudXAtMicgfSxcbiAgICAgICAgeyBpZDogJ2NsZWFudXAtMycgfVxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzZXJ2aWNlLmFnZW50cy5zaXplKS50b0JlKDMpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbnVwXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNsZWFudXAoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNlcnZpY2UuYWdlbnRzLnNpemUpLnRvQmUoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBNb25pdG9yaW5nJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc2VydmljZS5pbml0aWFsaXplKCk7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUFnZW50KCdtZXRyaWNzLWFnZW50JywgWydkZWNpc2lvbl9tYWtpbmcnXSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdHJhY2sgcGVyZm9ybWFuY2UgbWV0cmljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1ha2Ugc29tZSBkZWNpc2lvbnNcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIGVudmlyb25tZW50X3N0YXRlOiB7XG4gICAgICAgICAgZW52aXJvbm1lbnRfdHlwZTogJ1N0YWJsZScsXG4gICAgICAgICAgY29uZGl0aW9uczoge30sXG4gICAgICAgICAgc3RhYmlsaXR5OiAxLjAsXG4gICAgICAgICAgcmVzb3VyY2VfYXZhaWxhYmlsaXR5OiAxLjBcbiAgICAgICAgfSxcbiAgICAgICAgYXZhaWxhYmxlX2FjdGlvbnM6IFtdLFxuICAgICAgICBnb2FsczogW10sXG4gICAgICAgIGhpc3Rvcnk6IFtdLFxuICAgICAgICBjb25zdHJhaW50czoge1xuICAgICAgICAgIG1heF9tZW1vcnlfbWI6IDEwMjQsXG4gICAgICAgICAgbWF4X2NwdV91c2FnZTogMC44LFxuICAgICAgICAgIG1heF9uZXR3b3JrX21icHM6IDEwMCxcbiAgICAgICAgICBtYXhfZXhlY3V0aW9uX3RpbWU6IDMwMCxcbiAgICAgICAgICBlbmVyZ3lfYnVkZ2V0OiAxMDAwXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVfcHJlc3N1cmU6IDAuMCxcbiAgICAgICAgdW5jZXJ0YWludHk6IDAuMFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXdhaXQgc2VydmljZS5tYWtlRGVjaXNpb24oJ21ldHJpY3MtYWdlbnQnLCBjb250ZXh0KTtcbiAgICAgIGF3YWl0IHNlcnZpY2UubWFrZURlY2lzaW9uKCdtZXRyaWNzLWFnZW50JywgY29udGV4dCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBzZXJ2aWNlLmdldFBlcmZvcm1hbmNlTWV0cmljcygpO1xuICAgICAgXG4gICAgICBleHBlY3QobWV0cmljcy5zeXN0ZW0udG90YWxBZ2VudHMpLnRvQmUoMSk7XG4gICAgICBleHBlY3QobWV0cmljcy5hZ2VudHNbJ21ldHJpY3MtYWdlbnQnXS5kZWNpc2lvbnNNYWRlKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuYWdlbnRzWydtZXRyaWNzLWFnZW50J10uYXZlcmFnZVJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHByb3ZpZGUgY29tcHJlaGVuc2l2ZSBzdGF0dXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBzZXJ2aWNlLmdldFN0YXR1cygpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc3RhdHVzKS50b01hdGNoT2JqZWN0KHtcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIGFnZW50czoge1xuICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgIGlkczogWydtZXRyaWNzLWFnZW50J10sXG4gICAgICAgICAgc3RhdGVzOiBleHBlY3QuYW55KE51bWJlcilcbiAgICAgICAgfSxcbiAgICAgICAgd29ya2Zsb3dzOiB7XG4gICAgICAgICAgY291bnQ6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBhY3RpdmU6IGV4cGVjdC5hbnkoTnVtYmVyKVxuICAgICAgICB9LFxuICAgICAgICB3YXNtOiB7XG4gICAgICAgICAgbW9kdWxlczogZXhwZWN0LmFueShPYmplY3QpLFxuICAgICAgICAgIG1lbW9yeVVzYWdlOiBleHBlY3QuYW55KE51bWJlcilcbiAgICAgICAgfSxcbiAgICAgICAgcGVyZm9ybWFuY2U6IGV4cGVjdC5hbnkoT2JqZWN0KVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBhZ2VudCBub3QgZm91bmQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBzZXJ2aWNlLm1ha2VEZWNpc2lvbignbm9uLWV4aXN0ZW50Jywge30pXG4gICAgICApLnJlamVjdHMudG9UaHJvdygnQWdlbnQgbm9uLWV4aXN0ZW50IG5vdCBmb3VuZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB3b3JrZmxvdyBub3QgZm91bmQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBzZXJ2aWNlLmV4ZWN1dGVXb3JrZmxvd1N0ZXAoJ25vbi1leGlzdGVudC13b3JrZmxvdycsICdzdGVwMScsIFsnYWdlbnQxJ10pXG4gICAgICApLnJlamVjdHMudG9UaHJvdygnV29ya2Zsb3cgbm9uLWV4aXN0ZW50LXdvcmtmbG93IG5vdCBmb3VuZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHRyYWNrIGFnZW50IGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHNlcnZpY2UuY3JlYXRlQWdlbnQoJ2Vycm9yLWFnZW50Jyk7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIGFuIGVycm9yIGJ5IHBhc3NpbmcgaW52YWxpZCBjb250ZXh0XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBzZXJ2aWNlLm1ha2VEZWNpc2lvbignZXJyb3ItYWdlbnQnLCBudWxsKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWRcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgbWV0cmljcyA9IHNlcnZpY2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKCk7XG4gICAgICBleHBlY3QobWV0cmljcy5hZ2VudHNbJ2Vycm9yLWFnZW50J10uZXJyb3JzKS50b0JlKDEpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG4vLyBQZXJmb3JtYW5jZSBiZW5jaG1hcmsgdGVzdHNcbmRlc2NyaWJlKCdEQUEgU2VydmljZSBQZXJmb3JtYW5jZSBCZW5jaG1hcmtzJywgKCkgPT4ge1xuICBsZXQgc2VydmljZTtcblxuICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgIHNlcnZpY2UgPSBuZXcgREFBU2VydmljZSgpO1xuICAgIGF3YWl0IHNlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgc2VydmljZS5jbGVhbnVwKCk7XG4gIH0pO1xuXG4gIHRlc3QoJ3Nob3VsZCBoYW5kbGUgMTAwIGFnZW50cyB3aXRob3V0IGRlZ3JhZGF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGNvbmZpZ3MgPSBBcnJheSgxMDApLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiAoe1xuICAgICAgaWQ6IGBiZW5jaC1hZ2VudC0ke2l9YCxcbiAgICAgIGNhcGFiaWxpdGllczogWydkZWNpc2lvbl9tYWtpbmcnXVxuICAgIH0pKTtcbiAgICBcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZXJ2aWNlLmJhdGNoQ3JlYXRlQWdlbnRzKGNvbmZpZ3MpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcbiAgICBcbiAgICBleHBlY3QocmVzdWx0cy5ldmVyeShyID0+IHIuc3VjY2VzcykpLnRvQmUodHJ1ZSk7XG4gICAgY29uc29sZS5sb2coYENyZWF0ZWQgMTAwIGFnZW50cyBpbiAke2R1cmF0aW9uLnRvRml4ZWQoMCl9bXMgKCR7KGR1cmF0aW9uLzEwMCkudG9GaXhlZCgyKX1tcyBwZXIgYWdlbnQpYCk7XG4gICAgXG4gICAgLy8gQ2xlYW51cCBiZW5jaCBhZ2VudHNcbiAgICBmb3IgKGNvbnN0IGNvbmZpZyBvZiBjb25maWdzKSB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmRlc3Ryb3lBZ2VudChjb25maWcuaWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGVzdCgnc2hvdWxkIG1haW50YWluIHN1Yi1taWxsaXNlY29uZCBsYXRlbmN5IHVuZGVyIGxvYWQnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIHRlc3QgYWdlbnRzXG4gICAgY29uc3QgYWdlbnRzID0gYXdhaXQgc2VydmljZS5iYXRjaENyZWF0ZUFnZW50cyhbXG4gICAgICB7IGlkOiAnbG9hZC10ZXN0LTEnLCBjYXBhYmlsaXRpZXM6IFsnZGVjaXNpb25fbWFraW5nJ10gfSxcbiAgICAgIHsgaWQ6ICdsb2FkLXRlc3QtMicsIGNhcGFiaWxpdGllczogWydkZWNpc2lvbl9tYWtpbmcnXSB9LFxuICAgICAgeyBpZDogJ2xvYWQtdGVzdC0zJywgY2FwYWJpbGl0aWVzOiBbJ2RlY2lzaW9uX21ha2luZyddIH1cbiAgICBdKTtcbiAgICBcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZW52aXJvbm1lbnRfc3RhdGU6IHtcbiAgICAgICAgZW52aXJvbm1lbnRfdHlwZTogJ0R5bmFtaWMnLFxuICAgICAgICBjb25kaXRpb25zOiB7fSxcbiAgICAgICAgc3RhYmlsaXR5OiAwLjUsXG4gICAgICAgIHJlc291cmNlX2F2YWlsYWJpbGl0eTogMS4wXG4gICAgICB9LFxuICAgICAgYXZhaWxhYmxlX2FjdGlvbnM6IFtdLFxuICAgICAgZ29hbHM6IFtdLFxuICAgICAgaGlzdG9yeTogW10sXG4gICAgICBjb25zdHJhaW50czoge1xuICAgICAgICBtYXhfbWVtb3J5X21iOiAxMDI0LFxuICAgICAgICBtYXhfY3B1X3VzYWdlOiAwLjgsXG4gICAgICAgIG1heF9uZXR3b3JrX21icHM6IDEwMCxcbiAgICAgICAgbWF4X2V4ZWN1dGlvbl90aW1lOiAzMDAsXG4gICAgICAgIGVuZXJneV9idWRnZXQ6IDEwMDBcbiAgICAgIH0sXG4gICAgICB0aW1lX3ByZXNzdXJlOiAwLjUsXG4gICAgICB1bmNlcnRhaW50eTogMC41XG4gICAgfTtcbiAgICBcbiAgICAvLyBNYWtlIDEwMDAgZGVjaXNpb25zIGFjcm9zcyBhZ2VudHNcbiAgICBjb25zdCBsYXRlbmNpZXMgPSBbXTtcbiAgICBzZXJ2aWNlLm9uKCdkZWNpc2lvbk1hZGUnLCAoeyBsYXRlbmN5IH0pID0+IGxhdGVuY2llcy5wdXNoKGxhdGVuY3kpKTtcbiAgICBcbiAgICBjb25zdCBkZWNpc2lvbnMgPSBBcnJheSgxMDAwKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gKHtcbiAgICAgIGFnZW50SWQ6IGBsb2FkLXRlc3QtJHsoaSAlIDMpICsgMX1gLFxuICAgICAgY29udGV4dFxuICAgIH0pKTtcbiAgICBcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGF3YWl0IHNlcnZpY2UuYmF0Y2hNYWtlRGVjaXNpb25zKGRlY2lzaW9ucyk7XG4gICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQ7XG4gICAgXG4gICAgY29uc3QgYXZnTGF0ZW5jeSA9IGxhdGVuY2llcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIGxhdGVuY2llcy5sZW5ndGg7XG4gICAgY29uc3QgbWF4TGF0ZW5jeSA9IE1hdGgubWF4KC4uLmxhdGVuY2llcyk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYDEwMDAgZGVjaXNpb25zIGluICR7dG90YWxEdXJhdGlvbi50b0ZpeGVkKDApfW1zYCk7XG4gICAgY29uc29sZS5sb2coYEF2ZXJhZ2UgbGF0ZW5jeTogJHthdmdMYXRlbmN5LnRvRml4ZWQoMyl9bXNgKTtcbiAgICBjb25zb2xlLmxvZyhgTWF4IGxhdGVuY3k6ICR7bWF4TGF0ZW5jeS50b0ZpeGVkKDMpfW1zYCk7XG4gICAgY29uc29sZS5sb2coYDk1dGggcGVyY2VudGlsZTogJHtsYXRlbmNpZXMuc29ydCgoYSwgYikgPT4gYSAtIGIpW01hdGguZmxvb3IobGF0ZW5jaWVzLmxlbmd0aCAqIDAuOTUpXS50b0ZpeGVkKDMpfW1zYCk7XG4gICAgXG4gICAgLy8gQ2xlYW51cFxuICAgIGZvciAoY29uc3QgYWdlbnQgb2YgYWdlbnRzKSB7XG4gICAgICBpZiAoYWdlbnQuc3VjY2Vzcykge1xuICAgICAgICBhd2FpdCBzZXJ2aWNlLmRlc3Ryb3lBZ2VudChh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