34c243bfa0a4806288bbcd4d3454573d
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
/**
 * Memory and Resource Management Edge Cases
 * Tests memory limits, resource cleanup, garbage collection scenarios
 */

import { describe, it, expect, jest, beforeEach, afterEach } from '@jest/globals';
import { RuvSwarm } from '../../src/index-enhanced.js';
import { NeuralAgent } from '../../src/neural-agent.js';
import { SwarmPersistence } from '../../src/persistence.js';
describe('Memory and Resource Edge Cases', () => {
  let initialMemory;
  beforeEach(() => {
    initialMemory = process.memoryUsage();
    // Force garbage collection if available
    if (global.gc) {
      global.gc();
    }
  });
  afterEach(() => {
    // Cleanup after each test
    if (global.gc) {
      global.gc();
    }
  });
  describe('Memory Pressure Scenarios', () => {
    it('should handle large array allocations', () => {
      const arrays = [];
      let lastSuccessfulSize = 0;
      try {
        // Try increasingly large allocations
        for (let exp = 10; exp < 28; exp++) {
          // Up to ~256MB
          const size = Math.pow(2, exp);
          const arr = new Array(size).fill(1);
          arrays.push(arr);
          lastSuccessfulSize = size;

          // Check memory usage periodically
          if (exp % 3 === 0) {
            const currentMemory = process.memoryUsage();
            if (currentMemory.heapUsed > initialMemory.heapUsed + 500 * 1024 * 1024) {
              // Stop if we've allocated too much
              break;
            }
          }
        }
      } catch (error) {
        // Expected - system ran out of memory
        expect(error.message).toMatch(/out of memory|Maximum call stack/i);
      }
      expect(lastSuccessfulSize).toBeGreaterThan(0);

      // Cleanup
      arrays.length = 0;
      if (global.gc) global.gc();
    });
    it('should handle memory fragmentation scenarios', () => {
      const smallArrays = [];
      const largeArrays = [];
      try {
        // Create fragmentation by alternating small and large allocations
        for (let i = 0; i < 1000; i++) {
          if (i % 2 === 0) {
            smallArrays.push(new Array(1000).fill(i));
          } else {
            largeArrays.push(new Array(100000).fill(i));
          }

          // Periodically free some small arrays to create holes
          if (i % 100 === 99 && smallArrays.length > 50) {
            smallArrays.splice(0, 25);
          }
        }

        // Force GC to see how well it handles fragmentation
        if (global.gc) {
          global.gc();
        }
        const memoryAfterGC = process.memoryUsage();
        expect(memoryAfterGC.heapUsed).toBeLessThan(initialMemory.heapUsed + 200 * 1024 * 1024 // 200MB limit
        );
      } finally {
        // Cleanup
        smallArrays.length = 0;
        largeArrays.length = 0;
      }
    });
    it('should handle circular reference memory leaks', () => {
      const objects = [];

      // Create circular references
      for (let i = 0; i < 10000; i++) {
        const obj1 = {
          id: i,
          data: new Array(100).fill(i)
        };
        const obj2 = {
          id: i + 10000,
          data: new Array(100).fill(i + 10000)
        };

        // Create circular reference
        obj1.ref = obj2;
        obj2.ref = obj1;
        objects.push(obj1, obj2);
      }

      // Remove references but keep some circular ones
      for (let i = 0; i < objects.length; i += 4) {
        objects[i] = null;
      }

      // Force garbage collection
      if (global.gc) {
        global.gc();
      }
      const memoryAfterCleanup = process.memoryUsage();

      // Modern JS engines should handle circular references
      expect(memoryAfterCleanup.heapUsed).toBeLessThan(initialMemory.heapUsed + 100 * 1024 * 1024);
    });
  });
  describe('Resource Cleanup Edge Cases', () => {
    it('should cleanup file handles properly', /*#__PURE__*/_asyncToGenerator(function* () {
      const fs = yield import('fs/promises');
      const handles = [];
      try {
        // Open many temporary file handles
        for (let i = 0; i < 100; i++) {
          try {
            const handle = yield fs.open('/tmp/test-file-${i}', 'w');
            handles.push(handle);
          } catch (error) {
            // Some might fail due to system limits
          }
        }
        expect(handles.length).toBeGreaterThan(0);
      } finally {
        // Cleanup all handles
        yield Promise.allSettled(handles.map(handle => {
          var _handle$close;
          return handle === null || handle === void 0 || (_handle$close = handle.close) === null || _handle$close === void 0 ? void 0 : _handle$close.call(handle);
        }));
      }
    }));
    it('should handle timer cleanup on object destruction', /*#__PURE__*/_asyncToGenerator(function* () {
      class TimerObject {
        constructor() {
          this.timers = [];
          this.destroyed = false;
        }
        startTimer(interval) {
          const timer = setInterval(() => {
            if (this.destroyed) {
              clearInterval(timer);
            }
          }, interval);
          this.timers.push(timer);
        }
        destroy() {
          this.destroyed = true;
          this.timers.forEach(timer => clearInterval(timer));
          this.timers = [];
        }
      }
      const objects = [];

      // Create objects with timers
      const promises = [];
      for (let i = 0; i < 50; i++) {
        const obj = new TimerObject();
        obj.startTimer(10);
        objects.push(obj);

        // Destroy some objects randomly
        if (Math.random() > 0.5) {
          promises.push(new Promise(resolve => {
            setTimeout(() => {
              obj.destroy();
              resolve();
            }, Math.random() * 100);
          }));
        }
      }
      yield Promise.all(promises);

      // Cleanup remaining objects
      objects.forEach(obj => obj.destroy());

      // Verify cleanup
      objects.forEach(obj => {
        expect(obj.destroyed).toBe(true);
        expect(obj.timers).toHaveLength(0);
      });
    }));
  });
  describe('Garbage Collection Edge Cases', () => {
    it('should handle WeakMap and WeakSet edge cases', () => {
      const weakMap = new WeakMap();
      const weakSet = new WeakSet();
      const strongRefs = [];

      // Create objects and weak references
      for (let i = 0; i < 1000; i++) {
        const obj = {
          id: i,
          data: new Array(100).fill(i)
        };
        weakMap.set(obj, `value-${i}`);
        weakSet.add(obj);

        // Keep strong references to some objects
        if (i % 3 === 0) {
          strongRefs.push(obj);
        }
      }

      // Force garbage collection
      if (global.gc) {
        global.gc();
      }

      // Check that weak references to unreferenced objects are cleaned up
      let weakMapCount = 0;
      let weakSetCount = 0;
      strongRefs.forEach(obj => {
        if (weakMap.has(obj)) weakMapCount++;
        if (weakSet.has(obj)) weakSetCount++;
      });
      expect(weakMapCount).toBeGreaterThan(0);
      expect(weakSetCount).toBeGreaterThan(0);
    });
    it('should handle finalization registry edge cases', () => {
      if (typeof FinalizationRegistry === 'undefined') {
        // Skip if not supported
        return;
      }
      const cleanupCallbacks = [];
      const registry = new FinalizationRegistry(heldValue => {
        cleanupCallbacks.push(heldValue);
      });

      // Create objects and register for cleanup
      const objects = [];
      for (let i = 0; i < 100; i++) {
        const obj = {
          id: i
        };
        objects.push(obj);
        registry.register(obj, `cleanup-${i}`);
      }

      // Remove references to half the objects
      objects.splice(0, 50);

      // Force multiple GCs
      if (global.gc) {
        global.gc();
        global.gc();
        global.gc();
      }

      // Note: Finalization is not guaranteed to run immediately
      // This test mainly verifies no errors occur
      expect(cleanupCallbacks.length).toBeGreaterThanOrEqual(0);
    });
  });
  describe('Memory Monitoring Edge Cases', () => {
    it('should detect memory leaks in event listeners', /*#__PURE__*/_asyncToGenerator(function* () {
      const {
        EventEmitter
      } = yield import('events');
      const emitter = new EventEmitter();
      const initialListeners = emitter.listenerCount('test');

      // Add many listeners
      const listeners = [];
      for (let i = 0; i < 1000; i++) {
        const listener = () => {/* noop */};
        listeners.push(listener);
        emitter.on('test', listener);
      }
      expect(emitter.listenerCount('test')).toBe(initialListeners + 1000);

      // Remove only half
      for (let i = 0; i < 500; i++) {
        emitter.removeListener('test', listeners[i]);
      }
      expect(emitter.listenerCount('test')).toBe(initialListeners + 500);

      // Cleanup remaining
      emitter.removeAllListeners('test');
      expect(emitter.listenerCount('test')).toBe(0);
    }));
    it('should handle buffer overflow scenarios', () => {
      const buffers = [];
      let totalSize = 0;
      try {
        // Create increasingly large buffers
        for (let exp = 10; exp < 26; exp++) {
          // Up to 64MB
          const size = Math.pow(2, exp);
          const buffer = Buffer.alloc(size);
          buffers.push(buffer);
          totalSize += size;

          // Fill with pattern to ensure allocation
          buffer.fill(exp % 256);

          // Stop if we've allocated too much
          if (totalSize > 100 * 1024 * 1024) {
            // 100MB
            break;
          }
        }
        expect(totalSize).toBeGreaterThan(0);
      } catch (error) {
        // Expected on systems with low memory
        expect(error.message).toMatch(/out of memory|Invalid array length/i);
      } finally {
        // Cleanup
        buffers.length = 0;
      }
    });
  });
  describe('Resource Pool Edge Cases', () => {
    it('should handle resource pool exhaustion', /*#__PURE__*/_asyncToGenerator(function* () {
      class ResourcePool {
        constructor(maxSize = 10) {
          this.resources = [];
          this.available = [];
          this.maxSize = maxSize;
          this.allocated = 0;
        }
        acquire() {
          var _this = this;
          return _asyncToGenerator(function* () {
            if (_this.available.length > 0) {
              return _this.available.pop();
            }
            if (_this.allocated < _this.maxSize) {
              const resource = {
                id: _this.allocated++,
                acquired: true
              };
              _this.resources.push(resource);
              return resource;
            }
            throw new Error('Pool exhausted');
          })();
        }
        release(resource) {
          resource.acquired = false;
          this.available.push(resource);
        }
        destroy() {
          this.resources = [];
          this.available = [];
          this.allocated = 0;
        }
      }
      const pool = new ResourcePool(5);
      const acquired = [];

      // Acquire all resources
      for (let i = 0; i < 5; i++) {
        const resource = yield pool.acquire();
        acquired.push(resource);
      }

      // Next acquisition should fail
      yield expect(pool.acquire()).rejects.toThrow('Pool exhausted');

      // Release one and try again
      pool.release(acquired[0]);
      const newResource = yield pool.acquire();
      expect(newResource).toBeDefined();
      pool.destroy();
    }));
    it('should handle concurrent resource access', /*#__PURE__*/_asyncToGenerator(function* () {
      class ConcurrentResource {
        constructor() {
          this.users = 0;
          this.maxUsers = 3;
        }
        use() {
          var _this2 = this;
          return _asyncToGenerator(function* () {
            if (_this2.users >= _this2.maxUsers) {
              throw new Error('Resource busy');
            }
            _this2.users++;
            try {
              // Simulate work
              yield new Promise(resolve => setTimeout(resolve, 10));
              return `Used by ${_this2.users} users`;
            } finally {
              _this2.users--;
            }
          })();
        }
      }
      const resource = new ConcurrentResource();
      const promises = [];

      // Try to use resource concurrently
      for (let i = 0; i < 10; i++) {
        promises.push(resource.use().catch(error => ({
          error: error.message
        })));
      }
      const results = yield Promise.all(promises);
      const successful = results.filter(r => !r.error);
      const failed = results.filter(r => r.error);
      expect(successful.length).toBeGreaterThan(0);
      expect(failed.length).toBeGreaterThan(0);
      expect(resource.users).toBe(0); // All should be released
    }));
  });
  describe('Memory Allocation Patterns', () => {
    it('should handle different allocation patterns', () => {
      const allocations = [];

      // Pattern 1: Many small allocations
      for (let i = 0; i < 10000; i++) {
        allocations.push(new Array(10).fill(i));
      }

      // Pattern 2: Few large allocations
      for (let i = 0; i < 10; i++) {
        allocations.push(new Array(100000).fill(i));
      }

      // Pattern 3: Exponential allocation sizes
      for (let exp = 1; exp < 16; exp++) {
        const size = Math.pow(2, exp);
        allocations.push(new Array(size).fill(exp));
      }
      const memoryUsed = process.memoryUsage();
      expect(memoryUsed.heapUsed).toBeGreaterThan(initialMemory.heapUsed);

      // Cleanup half randomly
      for (let i = allocations.length - 1; i >= 0; i -= 2) {
        allocations.splice(i, 1);
      }
      if (global.gc) {
        global.gc();
      }
      const memoryAfterCleanup = process.memoryUsage();
      expect(memoryAfterCleanup.heapUsed).toBeLessThan(memoryUsed.heapUsed);
    });
  });
});

// Run tests when executed directly
if (import.meta.url === `file://${process.argv[1]}`) {
  console.log('Running memory and resource edge case tests...');

  // Run all tests
  const {
    run
  } = await import('../test-runner.js');
  await run(__filename);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwiamVzdCIsImJlZm9yZUVhY2giLCJhZnRlckVhY2giLCJSdXZTd2FybSIsIk5ldXJhbEFnZW50IiwiU3dhcm1QZXJzaXN0ZW5jZSIsImluaXRpYWxNZW1vcnkiLCJwcm9jZXNzIiwibWVtb3J5VXNhZ2UiLCJnbG9iYWwiLCJnYyIsImFycmF5cyIsImxhc3RTdWNjZXNzZnVsU2l6ZSIsImV4cCIsInNpemUiLCJNYXRoIiwicG93IiwiYXJyIiwiQXJyYXkiLCJmaWxsIiwicHVzaCIsImN1cnJlbnRNZW1vcnkiLCJoZWFwVXNlZCIsImVycm9yIiwibWVzc2FnZSIsInRvTWF0Y2giLCJ0b0JlR3JlYXRlclRoYW4iLCJsZW5ndGgiLCJzbWFsbEFycmF5cyIsImxhcmdlQXJyYXlzIiwiaSIsInNwbGljZSIsIm1lbW9yeUFmdGVyR0MiLCJ0b0JlTGVzc1RoYW4iLCJvYmplY3RzIiwib2JqMSIsImlkIiwiZGF0YSIsIm9iajIiLCJyZWYiLCJtZW1vcnlBZnRlckNsZWFudXAiLCJfYXN5bmNUb0dlbmVyYXRvciIsImZzIiwiaGFuZGxlcyIsImhhbmRsZSIsIm9wZW4iLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsIm1hcCIsIl9oYW5kbGUkY2xvc2UiLCJjbG9zZSIsImNhbGwiLCJUaW1lck9iamVjdCIsImNvbnN0cnVjdG9yIiwidGltZXJzIiwiZGVzdHJveWVkIiwic3RhcnRUaW1lciIsImludGVydmFsIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkZXN0cm95IiwiZm9yRWFjaCIsInByb21pc2VzIiwib2JqIiwicmFuZG9tIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJhbGwiLCJ0b0JlIiwidG9IYXZlTGVuZ3RoIiwid2Vha01hcCIsIldlYWtNYXAiLCJ3ZWFrU2V0IiwiV2Vha1NldCIsInN0cm9uZ1JlZnMiLCJzZXQiLCJhZGQiLCJ3ZWFrTWFwQ291bnQiLCJ3ZWFrU2V0Q291bnQiLCJoYXMiLCJGaW5hbGl6YXRpb25SZWdpc3RyeSIsImNsZWFudXBDYWxsYmFja3MiLCJyZWdpc3RyeSIsImhlbGRWYWx1ZSIsInJlZ2lzdGVyIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsIkV2ZW50RW1pdHRlciIsImVtaXR0ZXIiLCJpbml0aWFsTGlzdGVuZXJzIiwibGlzdGVuZXJDb3VudCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwib24iLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImJ1ZmZlcnMiLCJ0b3RhbFNpemUiLCJidWZmZXIiLCJCdWZmZXIiLCJhbGxvYyIsIlJlc291cmNlUG9vbCIsIm1heFNpemUiLCJyZXNvdXJjZXMiLCJhdmFpbGFibGUiLCJhbGxvY2F0ZWQiLCJhY3F1aXJlIiwiX3RoaXMiLCJwb3AiLCJyZXNvdXJjZSIsImFjcXVpcmVkIiwiRXJyb3IiLCJyZWxlYXNlIiwicG9vbCIsInJlamVjdHMiLCJ0b1Rocm93IiwibmV3UmVzb3VyY2UiLCJ0b0JlRGVmaW5lZCIsIkNvbmN1cnJlbnRSZXNvdXJjZSIsInVzZXJzIiwibWF4VXNlcnMiLCJ1c2UiLCJfdGhpczIiLCJjYXRjaCIsInJlc3VsdHMiLCJzdWNjZXNzZnVsIiwiZmlsdGVyIiwiciIsImZhaWxlZCIsImFsbG9jYXRpb25zIiwibWVtb3J5VXNlZCIsImltcG9ydCIsIm1ldGEiLCJ1cmwiLCJhcmd2IiwiY29uc29sZSIsImxvZyIsInJ1biIsIl9fZmlsZW5hbWUiXSwic291cmNlcyI6WyJtZW1vcnktcmVzb3VyY2UtZWRnZS1jYXNlcy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWVtb3J5IGFuZCBSZXNvdXJjZSBNYW5hZ2VtZW50IEVkZ2UgQ2FzZXNcbiAqIFRlc3RzIG1lbW9yeSBsaW1pdHMsIHJlc291cmNlIGNsZWFudXAsIGdhcmJhZ2UgY29sbGVjdGlvbiBzY2VuYXJpb3NcbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgamVzdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgeyBSdXZTd2FybSB9IGZyb20gJy4uLy4uL3NyYy9pbmRleC1lbmhhbmNlZC5qcyc7XG5pbXBvcnQgeyBOZXVyYWxBZ2VudCB9IGZyb20gJy4uLy4uL3NyYy9uZXVyYWwtYWdlbnQuanMnO1xuaW1wb3J0IHsgU3dhcm1QZXJzaXN0ZW5jZSB9IGZyb20gJy4uLy4uL3NyYy9wZXJzaXN0ZW5jZS5qcyc7XG5cbmRlc2NyaWJlKCdNZW1vcnkgYW5kIFJlc291cmNlIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gIGxldCBpbml0aWFsTWVtb3J5O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGluaXRpYWxNZW1vcnkgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCk7XG4gICAgLy8gRm9yY2UgZ2FyYmFnZSBjb2xsZWN0aW9uIGlmIGF2YWlsYWJsZVxuICAgIGlmIChnbG9iYWwuZ2MpIHtcbiAgICAgIGdsb2JhbC5nYygpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICAvLyBDbGVhbnVwIGFmdGVyIGVhY2ggdGVzdFxuICAgIGlmIChnbG9iYWwuZ2MpIHtcbiAgICAgIGdsb2JhbC5nYygpO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBQcmVzc3VyZSBTY2VuYXJpb3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgYXJyYXkgYWxsb2NhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhcnJheXMgPSBbXTtcbiAgICAgIGxldCBsYXN0U3VjY2Vzc2Z1bFNpemUgPSAwO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBUcnkgaW5jcmVhc2luZ2x5IGxhcmdlIGFsbG9jYXRpb25zXG4gICAgICAgIGZvciAobGV0IGV4cCA9IDEwOyBleHAgPCAyODsgZXhwKyspIHsgLy8gVXAgdG8gfjI1Nk1CXG4gICAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgucG93KDIsIGV4cCk7XG4gICAgICAgICAgY29uc3QgYXJyID0gbmV3IEFycmF5KHNpemUpLmZpbGwoMSk7XG4gICAgICAgICAgYXJyYXlzLnB1c2goYXJyKTtcbiAgICAgICAgICBsYXN0U3VjY2Vzc2Z1bFNpemUgPSBzaXplO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIG1lbW9yeSB1c2FnZSBwZXJpb2RpY2FsbHlcbiAgICAgICAgICBpZiAoZXhwICUgMyA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE1lbW9yeSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TWVtb3J5LmhlYXBVc2VkID4gaW5pdGlhbE1lbW9yeS5oZWFwVXNlZCArIDUwMCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgICAgICAgIC8vIFN0b3AgaWYgd2UndmUgYWxsb2NhdGVkIHRvbyBtdWNoXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgLSBzeXN0ZW0gcmFuIG91dCBvZiBtZW1vcnlcbiAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvTWF0Y2goL291dCBvZiBtZW1vcnl8TWF4aW11bSBjYWxsIHN0YWNrL2kpO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QobGFzdFN1Y2Nlc3NmdWxTaXplKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFudXBcbiAgICAgIGFycmF5cy5sZW5ndGggPSAwO1xuICAgICAgaWYgKGdsb2JhbC5nYykgZ2xvYmFsLmdjKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtZW1vcnkgZnJhZ21lbnRhdGlvbiBzY2VuYXJpb3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzbWFsbEFycmF5cyA9IFtdO1xuICAgICAgY29uc3QgbGFyZ2VBcnJheXMgPSBbXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ3JlYXRlIGZyYWdtZW50YXRpb24gYnkgYWx0ZXJuYXRpbmcgc21hbGwgYW5kIGxhcmdlIGFsbG9jYXRpb25zXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICBzbWFsbEFycmF5cy5wdXNoKG5ldyBBcnJheSgxMDAwKS5maWxsKGkpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFyZ2VBcnJheXMucHVzaChuZXcgQXJyYXkoMTAwMDAwKS5maWxsKGkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBQZXJpb2RpY2FsbHkgZnJlZSBzb21lIHNtYWxsIGFycmF5cyB0byBjcmVhdGUgaG9sZXNcbiAgICAgICAgICBpZiAoaSAlIDEwMCA9PT0gOTkgJiYgc21hbGxBcnJheXMubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgIHNtYWxsQXJyYXlzLnNwbGljZSgwLCAyNSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yY2UgR0MgdG8gc2VlIGhvdyB3ZWxsIGl0IGhhbmRsZXMgZnJhZ21lbnRhdGlvblxuICAgICAgICBpZiAoZ2xvYmFsLmdjKSB7XG4gICAgICAgICAgZ2xvYmFsLmdjKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtZW1vcnlBZnRlckdDID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgICAgICBleHBlY3QobWVtb3J5QWZ0ZXJHQy5oZWFwVXNlZCkudG9CZUxlc3NUaGFuKFxuICAgICAgICAgIGluaXRpYWxNZW1vcnkuaGVhcFVzZWQgKyAyMDAgKiAxMDI0ICogMTAyNCAvLyAyMDBNQiBsaW1pdFxuICAgICAgICApO1xuXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBDbGVhbnVwXG4gICAgICAgIHNtYWxsQXJyYXlzLmxlbmd0aCA9IDA7XG4gICAgICAgIGxhcmdlQXJyYXlzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjaXJjdWxhciByZWZlcmVuY2UgbWVtb3J5IGxlYWtzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb2JqZWN0cyA9IFtdO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwMDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9iajEgPSB7IGlkOiBpLCBkYXRhOiBuZXcgQXJyYXkoMTAwKS5maWxsKGkpIH07XG4gICAgICAgIGNvbnN0IG9iajIgPSB7IGlkOiBpICsgMTAwMDAsIGRhdGE6IG5ldyBBcnJheSgxMDApLmZpbGwoaSArIDEwMDAwKSB9O1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGNpcmN1bGFyIHJlZmVyZW5jZVxuICAgICAgICBvYmoxLnJlZiA9IG9iajI7XG4gICAgICAgIG9iajIucmVmID0gb2JqMTtcbiAgICAgICAgXG4gICAgICAgIG9iamVjdHMucHVzaChvYmoxLCBvYmoyKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXMgYnV0IGtlZXAgc29tZSBjaXJjdWxhciBvbmVzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgb2JqZWN0c1tpXSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIEZvcmNlIGdhcmJhZ2UgY29sbGVjdGlvblxuICAgICAgaWYgKGdsb2JhbC5nYykge1xuICAgICAgICBnbG9iYWwuZ2MoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWVtb3J5QWZ0ZXJDbGVhbnVwID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgICAgXG4gICAgICAvLyBNb2Rlcm4gSlMgZW5naW5lcyBzaG91bGQgaGFuZGxlIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAgICAgIGV4cGVjdChtZW1vcnlBZnRlckNsZWFudXAuaGVhcFVzZWQpLnRvQmVMZXNzVGhhbihcbiAgICAgICAgaW5pdGlhbE1lbW9yeS5oZWFwVXNlZCArIDEwMCAqIDEwMjQgKiAxMDI0XG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVzb3VyY2UgQ2xlYW51cCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2xlYW51cCBmaWxlIGhhbmRsZXMgcHJvcGVybHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmcyA9IGF3YWl0IGltcG9ydCgnZnMvcHJvbWlzZXMnKTtcbiAgICAgIGNvbnN0IGhhbmRsZXMgPSBbXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gT3BlbiBtYW55IHRlbXBvcmFyeSBmaWxlIGhhbmRsZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBhd2FpdCBmcy5vcGVuKCcvdG1wL3Rlc3QtZmlsZS0ke2l9JywgJ3cnKTtcbiAgICAgICAgICAgIGhhbmRsZXMucHVzaChoYW5kbGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBTb21lIG1pZ2h0IGZhaWwgZHVlIHRvIHN5c3RlbSBsaW1pdHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3QoaGFuZGxlcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gQ2xlYW51cCBhbGwgaGFuZGxlc1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgICAgICAgaGFuZGxlcy5tYXAoaGFuZGxlID0+IGhhbmRsZT8uY2xvc2U/LigpKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGltZXIgY2xlYW51cCBvbiBvYmplY3QgZGVzdHJ1Y3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjbGFzcyBUaW1lck9iamVjdCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgIHRoaXMudGltZXJzID0gW107XG4gICAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0VGltZXIoaW50ZXJ2YWwpIHtcbiAgICAgICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgICAgICAgdGhpcy50aW1lcnMucHVzaCh0aW1lcik7XG4gICAgICAgIH1cblxuICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnRpbWVycy5mb3JFYWNoKHRpbWVyID0+IGNsZWFySW50ZXJ2YWwodGltZXIpKTtcbiAgICAgICAgICB0aGlzLnRpbWVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9iamVjdHMgPSBbXTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIG9iamVjdHMgd2l0aCB0aW1lcnNcbiAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IFRpbWVyT2JqZWN0KCk7XG4gICAgICAgIG9iai5zdGFydFRpbWVyKDEwKTtcbiAgICAgICAgb2JqZWN0cy5wdXNoKG9iaik7XG4gICAgICAgIFxuICAgICAgICAvLyBEZXN0cm95IHNvbWUgb2JqZWN0cyByYW5kb21seVxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH0sIE1hdGgucmFuZG9tKCkgKiAxMDApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW51cCByZW1haW5pbmcgb2JqZWN0c1xuICAgICAgb2JqZWN0cy5mb3JFYWNoKG9iaiA9PiBvYmouZGVzdHJveSgpKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGNsZWFudXBcbiAgICAgIG9iamVjdHMuZm9yRWFjaChvYmogPT4ge1xuICAgICAgICBleHBlY3Qob2JqLmRlc3Ryb3llZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KG9iai50aW1lcnMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR2FyYmFnZSBDb2xsZWN0aW9uIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgV2Vha01hcCBhbmQgV2Vha1NldCBlZGdlIGNhc2VzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgd2Vha01hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICBjb25zdCB3ZWFrU2V0ID0gbmV3IFdlYWtTZXQoKTtcbiAgICAgIGNvbnN0IHN0cm9uZ1JlZnMgPSBbXTtcblxuICAgICAgLy8gQ3JlYXRlIG9iamVjdHMgYW5kIHdlYWsgcmVmZXJlbmNlc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2JqID0geyBpZDogaSwgZGF0YTogbmV3IEFycmF5KDEwMCkuZmlsbChpKSB9O1xuICAgICAgICBcbiAgICAgICAgd2Vha01hcC5zZXQob2JqLCBgdmFsdWUtJHtpfWApO1xuICAgICAgICB3ZWFrU2V0LmFkZChvYmopO1xuICAgICAgICBcbiAgICAgICAgLy8gS2VlcCBzdHJvbmcgcmVmZXJlbmNlcyB0byBzb21lIG9iamVjdHNcbiAgICAgICAgaWYgKGkgJSAzID09PSAwKSB7XG4gICAgICAgICAgc3Ryb25nUmVmcy5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRm9yY2UgZ2FyYmFnZSBjb2xsZWN0aW9uXG4gICAgICBpZiAoZ2xvYmFsLmdjKSB7XG4gICAgICAgIGdsb2JhbC5nYygpO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayB0aGF0IHdlYWsgcmVmZXJlbmNlcyB0byB1bnJlZmVyZW5jZWQgb2JqZWN0cyBhcmUgY2xlYW5lZCB1cFxuICAgICAgbGV0IHdlYWtNYXBDb3VudCA9IDA7XG4gICAgICBsZXQgd2Vha1NldENvdW50ID0gMDtcblxuICAgICAgc3Ryb25nUmVmcy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgICAgIGlmICh3ZWFrTWFwLmhhcyhvYmopKSB3ZWFrTWFwQ291bnQrKztcbiAgICAgICAgaWYgKHdlYWtTZXQuaGFzKG9iaikpIHdlYWtTZXRDb3VudCsrO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdCh3ZWFrTWFwQ291bnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdCh3ZWFrU2V0Q291bnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZpbmFsaXphdGlvbiByZWdpc3RyeSBlZGdlIGNhc2VzJywgKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gU2tpcCBpZiBub3Qgc3VwcG9ydGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2xlYW51cENhbGxiYWNrcyA9IFtdO1xuICAgICAgY29uc3QgcmVnaXN0cnkgPSBuZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoKGhlbGRWYWx1ZSkgPT4ge1xuICAgICAgICBjbGVhbnVwQ2FsbGJhY2tzLnB1c2goaGVsZFZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgb2JqZWN0cyBhbmQgcmVnaXN0ZXIgZm9yIGNsZWFudXBcbiAgICAgIGNvbnN0IG9iamVjdHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2JqID0geyBpZDogaSB9O1xuICAgICAgICBvYmplY3RzLnB1c2gob2JqKTtcbiAgICAgICAgcmVnaXN0cnkucmVnaXN0ZXIob2JqLCBgY2xlYW51cC0ke2l9YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzIHRvIGhhbGYgdGhlIG9iamVjdHNcbiAgICAgIG9iamVjdHMuc3BsaWNlKDAsIDUwKTtcblxuICAgICAgLy8gRm9yY2UgbXVsdGlwbGUgR0NzXG4gICAgICBpZiAoZ2xvYmFsLmdjKSB7XG4gICAgICAgIGdsb2JhbC5nYygpO1xuICAgICAgICBnbG9iYWwuZ2MoKTtcbiAgICAgICAgZ2xvYmFsLmdjKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIE5vdGU6IEZpbmFsaXphdGlvbiBpcyBub3QgZ3VhcmFudGVlZCB0byBydW4gaW1tZWRpYXRlbHlcbiAgICAgIC8vIFRoaXMgdGVzdCBtYWlubHkgdmVyaWZpZXMgbm8gZXJyb3JzIG9jY3VyXG4gICAgICBleHBlY3QoY2xlYW51cENhbGxiYWNrcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZW1vcnkgTW9uaXRvcmluZyBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGV0ZWN0IG1lbW9yeSBsZWFrcyBpbiBldmVudCBsaXN0ZW5lcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gYXdhaXQgaW1wb3J0KCdldmVudHMnKTtcbiAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICBjb25zdCBpbml0aWFsTGlzdGVuZXJzID0gZW1pdHRlci5saXN0ZW5lckNvdW50KCd0ZXN0Jyk7XG5cbiAgICAgIC8vIEFkZCBtYW55IGxpc3RlbmVyc1xuICAgICAgY29uc3QgbGlzdGVuZXJzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHsgLyogbm9vcCAqLyB9O1xuICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIGVtaXR0ZXIub24oJ3Rlc3QnLCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlbWl0dGVyLmxpc3RlbmVyQ291bnQoJ3Rlc3QnKSkudG9CZShpbml0aWFsTGlzdGVuZXJzICsgMTAwMCk7XG5cbiAgICAgIC8vIFJlbW92ZSBvbmx5IGhhbGZcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTAwOyBpKyspIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcigndGVzdCcsIGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChlbWl0dGVyLmxpc3RlbmVyQ291bnQoJ3Rlc3QnKSkudG9CZShpbml0aWFsTGlzdGVuZXJzICsgNTAwKTtcblxuICAgICAgLy8gQ2xlYW51cCByZW1haW5pbmdcbiAgICAgIGVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCd0ZXN0Jyk7XG4gICAgICBleHBlY3QoZW1pdHRlci5saXN0ZW5lckNvdW50KCd0ZXN0JykpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBidWZmZXIgb3ZlcmZsb3cgc2NlbmFyaW9zJywgKCkgPT4ge1xuICAgICAgY29uc3QgYnVmZmVycyA9IFtdO1xuICAgICAgbGV0IHRvdGFsU2l6ZSA9IDA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENyZWF0ZSBpbmNyZWFzaW5nbHkgbGFyZ2UgYnVmZmVyc1xuICAgICAgICBmb3IgKGxldCBleHAgPSAxMDsgZXhwIDwgMjY7IGV4cCsrKSB7IC8vIFVwIHRvIDY0TUJcbiAgICAgICAgICBjb25zdCBzaXplID0gTWF0aC5wb3coMiwgZXhwKTtcbiAgICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2Moc2l6ZSk7XG4gICAgICAgICAgYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgICAgdG90YWxTaXplICs9IHNpemU7XG5cbiAgICAgICAgICAvLyBGaWxsIHdpdGggcGF0dGVybiB0byBlbnN1cmUgYWxsb2NhdGlvblxuICAgICAgICAgIGJ1ZmZlci5maWxsKGV4cCAlIDI1Nik7XG5cbiAgICAgICAgICAvLyBTdG9wIGlmIHdlJ3ZlIGFsbG9jYXRlZCB0b28gbXVjaFxuICAgICAgICAgIGlmICh0b3RhbFNpemUgPiAxMDAgKiAxMDI0ICogMTAyNCkgeyAvLyAxMDBNQlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXhwZWN0KHRvdGFsU2l6ZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBFeHBlY3RlZCBvbiBzeXN0ZW1zIHdpdGggbG93IG1lbW9yeVxuICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9NYXRjaCgvb3V0IG9mIG1lbW9yeXxJbnZhbGlkIGFycmF5IGxlbmd0aC9pKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIENsZWFudXBcbiAgICAgICAgYnVmZmVycy5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVzb3VyY2UgUG9vbCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJlc291cmNlIHBvb2wgZXhoYXVzdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNsYXNzIFJlc291cmNlUG9vbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG1heFNpemUgPSAxMCkge1xuICAgICAgICAgIHRoaXMucmVzb3VyY2VzID0gW107XG4gICAgICAgICAgdGhpcy5hdmFpbGFibGUgPSBbXTtcbiAgICAgICAgICB0aGlzLm1heFNpemUgPSBtYXhTaXplO1xuICAgICAgICAgIHRoaXMuYWxsb2NhdGVkID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jIGFjcXVpcmUoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5wb3AoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5hbGxvY2F0ZWQgPCB0aGlzLm1heFNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0geyBpZDogdGhpcy5hbGxvY2F0ZWQrKywgYWNxdWlyZWQ6IHRydWUgfTtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9vbCBleGhhdXN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbGVhc2UocmVzb3VyY2UpIHtcbiAgICAgICAgICByZXNvdXJjZS5hY3F1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuYXZhaWxhYmxlLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICB0aGlzLnJlc291cmNlcyA9IFtdO1xuICAgICAgICAgIHRoaXMuYXZhaWxhYmxlID0gW107XG4gICAgICAgICAgdGhpcy5hbGxvY2F0ZWQgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvb2wgPSBuZXcgUmVzb3VyY2VQb29sKDUpO1xuICAgICAgY29uc3QgYWNxdWlyZWQgPSBbXTtcblxuICAgICAgLy8gQWNxdWlyZSBhbGwgcmVzb3VyY2VzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBjb25zdCByZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpO1xuICAgICAgICBhY3F1aXJlZC5wdXNoKHJlc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgLy8gTmV4dCBhY3F1aXNpdGlvbiBzaG91bGQgZmFpbFxuICAgICAgYXdhaXQgZXhwZWN0KHBvb2wuYWNxdWlyZSgpKS5yZWplY3RzLnRvVGhyb3coJ1Bvb2wgZXhoYXVzdGVkJyk7XG5cbiAgICAgIC8vIFJlbGVhc2Ugb25lIGFuZCB0cnkgYWdhaW5cbiAgICAgIHBvb2wucmVsZWFzZShhY3F1aXJlZFswXSk7XG4gICAgICBjb25zdCBuZXdSZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpO1xuICAgICAgZXhwZWN0KG5ld1Jlc291cmNlKS50b0JlRGVmaW5lZCgpO1xuXG4gICAgICBwb29sLmRlc3Ryb3koKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgcmVzb3VyY2UgYWNjZXNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY2xhc3MgQ29uY3VycmVudFJlc291cmNlIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgdGhpcy51c2VycyA9IDA7XG4gICAgICAgICAgdGhpcy5tYXhVc2VycyA9IDM7XG4gICAgICAgIH1cblxuICAgICAgICBhc3luYyB1c2UoKSB7XG4gICAgICAgICAgaWYgKHRoaXMudXNlcnMgPj0gdGhpcy5tYXhVc2Vycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBidXN5Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy51c2VycysrO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTaW11bGF0ZSB3b3JrXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTApKTtcbiAgICAgICAgICAgIHJldHVybiBgVXNlZCBieSAke3RoaXMudXNlcnN9IHVzZXJzYDtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51c2Vycy0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNvdXJjZSA9IG5ldyBDb25jdXJyZW50UmVzb3VyY2UoKTtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgICAgIC8vIFRyeSB0byB1c2UgcmVzb3VyY2UgY29uY3VycmVudGx5XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICByZXNvdXJjZS51c2UoKS5jYXRjaChlcnJvciA9PiAoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyID0+ICFyLmVycm9yKTtcbiAgICAgIGNvbnN0IGZhaWxlZCA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5lcnJvcik7XG5cbiAgICAgIGV4cGVjdChzdWNjZXNzZnVsLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KGZhaWxlZC5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXNvdXJjZS51c2VycykudG9CZSgwKTsgLy8gQWxsIHNob3VsZCBiZSByZWxlYXNlZFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IEFsbG9jYXRpb24gUGF0dGVybnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGlmZmVyZW50IGFsbG9jYXRpb24gcGF0dGVybnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbGxvY2F0aW9ucyA9IFtdO1xuXG4gICAgICAvLyBQYXR0ZXJuIDE6IE1hbnkgc21hbGwgYWxsb2NhdGlvbnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwMDA7IGkrKykge1xuICAgICAgICBhbGxvY2F0aW9ucy5wdXNoKG5ldyBBcnJheSgxMCkuZmlsbChpKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFBhdHRlcm4gMjogRmV3IGxhcmdlIGFsbG9jYXRpb25zXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgYWxsb2NhdGlvbnMucHVzaChuZXcgQXJyYXkoMTAwMDAwKS5maWxsKGkpKTtcbiAgICAgIH1cblxuICAgICAgLy8gUGF0dGVybiAzOiBFeHBvbmVudGlhbCBhbGxvY2F0aW9uIHNpemVzXG4gICAgICBmb3IgKGxldCBleHAgPSAxOyBleHAgPCAxNjsgZXhwKyspIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgucG93KDIsIGV4cCk7XG4gICAgICAgIGFsbG9jYXRpb25zLnB1c2gobmV3IEFycmF5KHNpemUpLmZpbGwoZXhwKSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1lbW9yeVVzZWQgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCk7XG4gICAgICBleHBlY3QobWVtb3J5VXNlZC5oZWFwVXNlZCkudG9CZUdyZWF0ZXJUaGFuKGluaXRpYWxNZW1vcnkuaGVhcFVzZWQpO1xuXG4gICAgICAvLyBDbGVhbnVwIGhhbGYgcmFuZG9tbHlcbiAgICAgIGZvciAobGV0IGkgPSBhbGxvY2F0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMikge1xuICAgICAgICBhbGxvY2F0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnbG9iYWwuZ2MpIHtcbiAgICAgICAgZ2xvYmFsLmdjKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1lbW9yeUFmdGVyQ2xlYW51cCA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKTtcbiAgICAgIGV4cGVjdChtZW1vcnlBZnRlckNsZWFudXAuaGVhcFVzZWQpLnRvQmVMZXNzVGhhbihtZW1vcnlVc2VkLmhlYXBVc2VkKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuLy8gUnVuIHRlc3RzIHdoZW4gZXhlY3V0ZWQgZGlyZWN0bHlcbmlmIChpbXBvcnQubWV0YS51cmwgPT09IGBmaWxlOi8vJHtwcm9jZXNzLmFyZ3ZbMV19YCkge1xuICBjb25zb2xlLmxvZygnUnVubmluZyBtZW1vcnkgYW5kIHJlc291cmNlIGVkZ2UgY2FzZSB0ZXN0cy4uLicpO1xuICBcbiAgLy8gUnVuIGFsbCB0ZXN0c1xuICBjb25zdCB7IHJ1biB9ID0gYXdhaXQgaW1wb3J0KCcuLi90ZXN0LXJ1bm5lci5qcycpO1xuICBhd2FpdCBydW4oX19maWxlbmFtZSk7XG59Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNBLFFBQVEsRUFBRUMsRUFBRSxFQUFFQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsVUFBVSxFQUFFQyxTQUFTLFFBQVEsZUFBZTtBQUNqRixTQUFTQyxRQUFRLFFBQVEsNkJBQTZCO0FBQ3RELFNBQVNDLFdBQVcsUUFBUSwyQkFBMkI7QUFDdkQsU0FBU0MsZ0JBQWdCLFFBQVEsMEJBQTBCO0FBRTNEUixRQUFRLENBQUMsZ0NBQWdDLEVBQUUsTUFBTTtFQUMvQyxJQUFJUyxhQUFhO0VBRWpCTCxVQUFVLENBQUMsTUFBTTtJQUNmSyxhQUFhLEdBQUdDLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDckM7SUFDQSxJQUFJQyxNQUFNLENBQUNDLEVBQUUsRUFBRTtNQUNiRCxNQUFNLENBQUND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