3caaf3d3569134e549973da586e38525
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
/**
 * Integration tests for ruv-swarm API
 */

import { RuvSwarm } from '../../src/index-enhanced.js';
import { SwarmPersistence } from '../../src/persistence.js';
import { NeuralAgentFactory } from '../../src/neural-agent.js';
import assert from 'assert';
import path from 'path';
import fs from 'fs';
import { fileURLToPath } from 'url';
import { dirname } from 'path';
const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);
describe('API Integration Tests', () => {
  let ruvSwarm;
  const testDbPath = path.join(__dirname, 'test-integration.db');
  beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
    // Clean up test database if exists
    if (fs.existsSync(testDbPath)) {
      fs.unlinkSync(testDbPath);
    }

    // Reset global state
    global._ruvSwarmInstance = null;
    global._ruvSwarmInitialized = 0;

    // Initialize with test database
    ruvSwarm = yield RuvSwarm.initialize({
      enablePersistence: true,
      enableNeuralNetworks: true,
      enableForecasting: false,
      debug: false
    });

    // Override persistence path for testing
    if (ruvSwarm.persistence) {
      ruvSwarm.persistence.close();
      ruvSwarm.persistence = new SwarmPersistence(testDbPath);
    }
  }));
  afterEach(() => {
    if (ruvSwarm && ruvSwarm.persistence) {
      ruvSwarm.persistence.close();
    }
    if (fs.existsSync(testDbPath)) {
      fs.unlinkSync(testDbPath);
    }
  });
  describe('End-to-End Swarm Workflow', () => {
    it('should complete full swarm lifecycle with persistence', /*#__PURE__*/_asyncToGenerator(function* () {
      // 1. Create swarm
      const swarm = yield ruvSwarm.createSwarm({
        name: 'integration-test-swarm',
        topology: 'mesh',
        strategy: 'balanced',
        maxAgents: 10,
        enableCognitiveDiversity: true,
        enableNeuralAgents: true
      });
      assert(swarm);
      assert(swarm.id);

      // 2. Verify swarm was persisted
      const persistedSwarms = ruvSwarm.persistence.getActiveSwarms();
      assert.strictEqual(persistedSwarms.length, 1);
      assert.strictEqual(persistedSwarms[0].name, 'integration-test-swarm');

      // 3. Spawn multiple agents
      const agents = [];
      for (const type of ['researcher', 'coder', 'analyst']) {
        const agent = yield swarm.spawn({
          type,
          name: `${type}-agent`,
          capabilities: [type, 'collaboration'],
          enableNeuralNetwork: true
        });
        agents.push(agent);
      }
      assert.strictEqual(agents.length, 3);

      // 4. Verify agents were persisted
      const persistedAgents = ruvSwarm.persistence.getSwarmAgents(swarm.id);
      assert.strictEqual(persistedAgents.length, 3);

      // 5. Orchestrate task
      const task = yield swarm.orchestrate({
        description: 'Analyze codebase and implement optimization',
        priority: 'high',
        dependencies: [],
        maxAgents: 2,
        estimatedDuration: 5000
      });
      assert(task);
      assert(task.assignedAgents.length > 0);

      // 6. Verify task was persisted
      const persistedTasks = ruvSwarm.persistence.getSwarmTasks(swarm.id);
      assert.strictEqual(persistedTasks.length, 1);
      assert.strictEqual(persistedTasks[0].description, task.description);

      // 7. Wait for task completion
      yield new Promise(resolve => setTimeout(resolve, 1500));

      // 8. Verify task results
      const taskResults = yield task.getResults();
      assert(taskResults);
      assert.strictEqual(taskResults.task_id, task.id);
      assert(taskResults.agent_results);

      // 9. Get swarm status
      const status = yield swarm.getStatus();
      assert(status);
      assert.strictEqual(status.agents.total, 3);
      assert.strictEqual(status.tasks.total, 1);
      assert.strictEqual(status.tasks.completed, 1);

      // 10. Get global metrics
      const metrics = yield ruvSwarm.getGlobalMetrics();
      assert.strictEqual(metrics.totalSwarms, 1);
      assert.strictEqual(metrics.totalAgents, 3);
      assert.strictEqual(metrics.totalTasks, 1);
    }));
  });
  describe('Neural Agent Integration', () => {
    it('should create and use neural agents', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'neural-test-swarm',
        enableNeuralAgents: true
      });

      // Create neural agent
      const agent = yield swarm.spawn({
        type: 'researcher',
        enableNeuralNetwork: true
      });

      // Verify neural capabilities
      assert(agent.cognitivePattern);
      assert(agent.capabilities);

      // Create neural agent wrapper
      const neuralAgent = NeuralAgentFactory.createNeuralAgent(agent, 'researcher');
      assert(neuralAgent);

      // Test neural analysis
      const analysis = yield neuralAgent.analyzeTask({
        description: 'Research neural network architectures',
        priority: 'high'
      });
      assert(analysis);
      assert('complexity' in analysis);
      assert('creativity' in analysis);
      assert('confidence' in analysis);
    }));
  });
  describe('Memory Persistence Integration', () => {
    it('should persist agent memory across operations', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'memory-test-swarm'
      });
      const agent = yield swarm.spawn({
        type: 'analyst',
        name: 'memory-test-agent'
      });

      // Store agent memory
      const memoryData = {
        learned_patterns: ['pattern1', 'pattern2'],
        performance_history: [0.7, 0.8, 0.85],
        context: {
          domain: 'testing',
          version: 1
        }
      };
      ruvSwarm.persistence.storeAgentMemory(agent.id, 'analysis_memory', memoryData);

      // Retrieve memory
      const retrieved = ruvSwarm.persistence.getAgentMemory(agent.id, 'analysis_memory');
      assert(retrieved);
      assert.deepStrictEqual(retrieved.value, memoryData);

      // Update memory
      memoryData.performance_history.push(0.9);
      ruvSwarm.persistence.storeAgentMemory(agent.id, 'analysis_memory', memoryData);
      const updated = ruvSwarm.persistence.getAgentMemory(agent.id, 'analysis_memory');
      assert.strictEqual(updated.value.performance_history.length, 4);
    }));
  });
  describe('Multi-Swarm Coordination', () => {
    it('should coordinate multiple swarms', /*#__PURE__*/_asyncToGenerator(function* () {
      // Create multiple swarms
      const swarms = [];
      for (let i = 0; i < 3; i++) {
        const swarm = yield ruvSwarm.createSwarm({
          name: `swarm-${i}`,
          topology: i === 0 ? 'mesh' : i === 1 ? 'star' : 'ring',
          maxAgents: 5
        });

        // Spawn agents in each swarm
        for (let j = 0; j < 2; j++) {
          yield swarm.spawn({
            type: j === 0 ? 'researcher' : 'coder',
            name: `agent-${i}-${j}`
          });
        }
        swarms.push(swarm);
      }

      // Orchestrate tasks in parallel
      const tasks = yield Promise.all(swarms.map(swarm => swarm.orchestrate({
        description: `Task for ${swarm.id}`,
        priority: 'medium'
      })));
      assert.strictEqual(tasks.length, 3);

      // Get all swarms status
      const allSwarms = yield ruvSwarm.getAllSwarms();
      assert.strictEqual(allSwarms.length, 3);

      // Verify global metrics
      const metrics = yield ruvSwarm.getGlobalMetrics();
      assert.strictEqual(metrics.totalSwarms, 3);
      assert.strictEqual(metrics.totalAgents, 6);
      assert.strictEqual(metrics.totalTasks, 3);
    }));
  });
  describe('Event Logging Integration', () => {
    it('should log and retrieve events', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'event-test-swarm'
      });

      // Log various events
      const events = [{
        type: 'swarm_initialized',
        data: {
          topology: 'mesh'
        }
      }, {
        type: 'agent_spawned',
        data: {
          agentType: 'researcher'
        }
      }, {
        type: 'task_started',
        data: {
          taskId: 'task-123'
        }
      }, {
        type: 'task_completed',
        data: {
          taskId: 'task-123',
          duration: 1000
        }
      }];
      for (const event of events) {
        ruvSwarm.persistence.logEvent(swarm.id, event.type, event.data);
      }

      // Retrieve events
      const retrievedEvents = ruvSwarm.persistence.getSwarmEvents(swarm.id);
      assert.strictEqual(retrievedEvents.length, 4);

      // Verify event order (should be DESC)
      assert.strictEqual(retrievedEvents[0].event_type, 'task_completed');
      assert.strictEqual(retrievedEvents[3].event_type, 'swarm_initialized');
    }));
  });
  describe('Performance Metrics Integration', () => {
    it('should track and aggregate performance metrics', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'metrics-test-swarm'
      });
      const agent = yield swarm.spawn({
        type: 'optimizer',
        name: 'metrics-agent'
      });

      // Record various metrics
      const metricsToRecord = [{
        name: 'task_completion_time',
        value: 1500
      }, {
        name: 'memory_usage',
        value: 45.5
      }, {
        name: 'cpu_usage',
        value: 32.1
      }, {
        name: 'accuracy_score',
        value: 0.92
      }];
      for (const metric of metricsToRecord) {
        ruvSwarm.persistence.recordMetric('agent', agent.id, metric.name, metric.value);
      }

      // Retrieve all metrics
      const allMetrics = ruvSwarm.persistence.getMetrics('agent', agent.id);
      assert.strictEqual(allMetrics.length, 4);

      // Retrieve specific metric
      const memoryMetrics = ruvSwarm.persistence.getMetrics('agent', agent.id, 'memory_usage');
      assert.strictEqual(memoryMetrics.length, 1);
      assert.strictEqual(memoryMetrics[0].metric_value, 45.5);
    }));
  });
  describe('Error Recovery Integration', () => {
    it('should handle and recover from errors gracefully', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'error-test-swarm'
      });

      // Try to orchestrate without agents (should fail)
      try {
        yield swarm.orchestrate({
          description: 'This should fail'
        });
        assert.fail('Should have thrown error');
      } catch (error) {
        assert(error.message.includes('No agents available'));
      }

      // Spawn agent and retry
      yield swarm.spawn({
        type: 'researcher'
      });
      const task = yield swarm.orchestrate({
        description: 'This should succeed'
      });
      assert(task);
      assert(task.assignedAgents.length > 0);
    }));
  });
  describe('Complex Task Orchestration', () => {
    it('should handle complex task dependencies', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'complex-task-swarm',
        topology: 'hierarchical',
        strategy: 'specialized'
      });

      // Create specialized agents
      const researcher = yield swarm.spawn({
        type: 'researcher',
        capabilities: ['research', 'documentation']
      });
      const coder = yield swarm.spawn({
        type: 'coder',
        capabilities: ['javascript', 'python', 'testing']
      });
      const analyst = yield swarm.spawn({
        type: 'analyst',
        capabilities: ['analysis', 'reporting']
      });

      // Create tasks with dependencies
      const researchTask = yield swarm.orchestrate({
        description: 'Research best practices for optimization',
        priority: 'high',
        requiredCapabilities: ['research']
      });
      const implementationTask = yield swarm.orchestrate({
        description: 'Implement optimization based on research',
        priority: 'high',
        dependencies: [researchTask.id],
        requiredCapabilities: ['javascript']
      });
      const analysisTask = yield swarm.orchestrate({
        description: 'Analyze performance improvements',
        priority: 'medium',
        dependencies: [implementationTask.id],
        requiredCapabilities: ['analysis']
      });

      // Wait for tasks to progress
      yield new Promise(resolve => setTimeout(resolve, 2000));

      // Verify task assignments
      assert(researchTask.assignedAgents.includes(researcher.id));
      assert(implementationTask.assignedAgents.includes(coder.id));
      assert(analysisTask.assignedAgents.includes(analyst.id));
    }));
  });
  describe('WASM Module Loading Integration', () => {
    it('should detect and report WASM module status', /*#__PURE__*/_asyncToGenerator(function* () {
      const metrics = yield ruvSwarm.getGlobalMetrics();
      assert(metrics.features);
      assert('neural_networks' in metrics.features);
      assert('cognitive_diversity' in metrics.features);
      assert('simd_support' in metrics.features);
      assert(metrics.wasm_modules);
      // Should have at least core module status
      assert('core' in metrics.wasm_modules);
    }));
  });
  describe('Swarm Monitoring Integration', () => {
    it('should monitor swarm activity', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'monitor-test-swarm'
      });
      yield swarm.spawn({
        type: 'researcher'
      });
      yield swarm.spawn({
        type: 'coder'
      });

      // Start monitoring
      const monitoringResult = yield swarm.monitor(2000, 500);
      assert(monitoringResult);
      assert.strictEqual(monitoringResult.duration, 2000);
      assert.strictEqual(monitoringResult.interval, 500);

      // Orchestrate task during monitoring
      yield swarm.orchestrate({
        description: 'Task during monitoring'
      });

      // Get final status
      const status = yield swarm.getStatus(true);
      assert(status.agents.total >= 2);
      assert(status.tasks.total >= 1);
    }));
  });
  describe('Cleanup and Resource Management', () => {
    it('should properly clean up resources', /*#__PURE__*/_asyncToGenerator(function* () {
      const swarm = yield ruvSwarm.createSwarm({
        name: 'cleanup-test-swarm'
      });
      const agent = yield swarm.spawn({
        type: 'researcher'
      });

      // Store some data
      ruvSwarm.persistence.storeAgentMemory(agent.id, 'test-key', {
        data: 'test'
      });
      ruvSwarm.persistence.logEvent(swarm.id, 'test_event', {
        test: true
      });

      // Terminate swarm
      yield swarm.terminate();

      // Verify swarm is removed from active swarms
      assert(!ruvSwarm.activeSwarms.has(swarm.id));

      // Data should still be in persistence (for historical analysis)
      const events = ruvSwarm.persistence.getSwarmEvents(swarm.id);
      assert(events.length > 0);
    }));
  });
});

// Run tests
if (require.main === module) {
  console.log('Running API Integration Tests...');
  require('../../node_modules/.bin/jest');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSdXZTd2FybSIsIlN3YXJtUGVyc2lzdGVuY2UiLCJOZXVyYWxBZ2VudEZhY3RvcnkiLCJhc3NlcnQiLCJwYXRoIiwiZnMiLCJmaWxlVVJMVG9QYXRoIiwiZGlybmFtZSIsIl9fZmlsZW5hbWUiLCJpbXBvcnQiLCJtZXRhIiwidXJsIiwiX19kaXJuYW1lIiwiZGVzY3JpYmUiLCJydXZTd2FybSIsInRlc3REYlBhdGgiLCJqb2luIiwiYmVmb3JlRWFjaCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZXhpc3RzU3luYyIsInVubGlua1N5bmMiLCJnbG9iYWwiLCJfcnV2U3dhcm1JbnN0YW5jZSIsIl9ydXZTd2FybUluaXRpYWxpemVkIiwiaW5pdGlhbGl6ZSIsImVuYWJsZVBlcnNpc3RlbmNlIiwiZW5hYmxlTmV1cmFsTmV0d29ya3MiLCJlbmFibGVGb3JlY2FzdGluZyIsImRlYnVnIiwicGVyc2lzdGVuY2UiLCJjbG9zZSIsImFmdGVyRWFjaCIsIml0Iiwic3dhcm0iLCJjcmVhdGVTd2FybSIsIm5hbWUiLCJ0b3BvbG9neSIsInN0cmF0ZWd5IiwibWF4QWdlbnRzIiwiZW5hYmxlQ29nbml0aXZlRGl2ZXJzaXR5IiwiZW5hYmxlTmV1cmFsQWdlbnRzIiwiaWQiLCJwZXJzaXN0ZWRTd2FybXMiLCJnZXRBY3RpdmVTd2FybXMiLCJzdHJpY3RFcXVhbCIsImxlbmd0aCIsImFnZW50cyIsInR5cGUiLCJhZ2VudCIsInNwYXduIiwiY2FwYWJpbGl0aWVzIiwiZW5hYmxlTmV1cmFsTmV0d29yayIsInB1c2giLCJwZXJzaXN0ZWRBZ2VudHMiLCJnZXRTd2FybUFnZW50cyIsInRhc2siLCJvcmNoZXN0cmF0ZSIsImRlc2NyaXB0aW9uIiwicHJpb3JpdHkiLCJkZXBlbmRlbmNpZXMiLCJlc3RpbWF0ZWREdXJhdGlvbiIsImFzc2lnbmVkQWdlbnRzIiwicGVyc2lzdGVkVGFza3MiLCJnZXRTd2FybVRhc2tzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwidGFza1Jlc3VsdHMiLCJnZXRSZXN1bHRzIiwidGFza19pZCIsImFnZW50X3Jlc3VsdHMiLCJzdGF0dXMiLCJnZXRTdGF0dXMiLCJ0b3RhbCIsInRhc2tzIiwiY29tcGxldGVkIiwibWV0cmljcyIsImdldEdsb2JhbE1ldHJpY3MiLCJ0b3RhbFN3YXJtcyIsInRvdGFsQWdlbnRzIiwidG90YWxUYXNrcyIsImNvZ25pdGl2ZVBhdHRlcm4iLCJuZXVyYWxBZ2VudCIsImNyZWF0ZU5ldXJhbEFnZW50IiwiYW5hbHlzaXMiLCJhbmFseXplVGFzayIsIm1lbW9yeURhdGEiLCJsZWFybmVkX3BhdHRlcm5zIiwicGVyZm9ybWFuY2VfaGlzdG9yeSIsImNvbnRleHQiLCJkb21haW4iLCJ2ZXJzaW9uIiwic3RvcmVBZ2VudE1lbW9yeSIsInJldHJpZXZlZCIsImdldEFnZW50TWVtb3J5IiwiZGVlcFN0cmljdEVxdWFsIiwidmFsdWUiLCJ1cGRhdGVkIiwic3dhcm1zIiwiaSIsImoiLCJhbGwiLCJtYXAiLCJhbGxTd2FybXMiLCJnZXRBbGxTd2FybXMiLCJldmVudHMiLCJkYXRhIiwiYWdlbnRUeXBlIiwidGFza0lkIiwiZHVyYXRpb24iLCJldmVudCIsImxvZ0V2ZW50IiwicmV0cmlldmVkRXZlbnRzIiwiZ2V0U3dhcm1FdmVudHMiLCJldmVudF90eXBlIiwibWV0cmljc1RvUmVjb3JkIiwibWV0cmljIiwicmVjb3JkTWV0cmljIiwiYWxsTWV0cmljcyIsImdldE1ldHJpY3MiLCJtZW1vcnlNZXRyaWNzIiwibWV0cmljX3ZhbHVlIiwiZmFpbCIsImVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwicmVzZWFyY2hlciIsImNvZGVyIiwiYW5hbHlzdCIsInJlc2VhcmNoVGFzayIsInJlcXVpcmVkQ2FwYWJpbGl0aWVzIiwiaW1wbGVtZW50YXRpb25UYXNrIiwiYW5hbHlzaXNUYXNrIiwiZmVhdHVyZXMiLCJ3YXNtX21vZHVsZXMiLCJtb25pdG9yaW5nUmVzdWx0IiwibW9uaXRvciIsImludGVydmFsIiwidGVzdCIsInRlcm1pbmF0ZSIsImFjdGl2ZVN3YXJtcyIsImhhcyIsInJlcXVpcmUiLCJtYWluIiwibW9kdWxlIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VzIjpbImFwaS1pbnRlZ3JhdGlvbi50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW50ZWdyYXRpb24gdGVzdHMgZm9yIHJ1di1zd2FybSBBUElcbiAqL1xuXG5pbXBvcnQgeyBSdXZTd2FybSB9IGZyb20gJy4uLy4uL3NyYy9pbmRleC1lbmhhbmNlZC5qcyc7XG5pbXBvcnQgeyBTd2FybVBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vc3JjL3BlcnNpc3RlbmNlLmpzJztcbmltcG9ydCB7IE5ldXJhbEFnZW50RmFjdG9yeSB9IGZyb20gJy4uLy4uL3NyYy9uZXVyYWwtYWdlbnQuanMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBkaXJuYW1lIH0gZnJvbSAncGF0aCc7XG5cbmNvbnN0IF9fZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBfX2Rpcm5hbWUgPSBkaXJuYW1lKF9fZmlsZW5hbWUpO1xuXG5kZXNjcmliZSgnQVBJIEludGVncmF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICBsZXQgcnV2U3dhcm07XG4gIGNvbnN0IHRlc3REYlBhdGggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAndGVzdC1pbnRlZ3JhdGlvbi5kYicpO1xuXG4gIGJlZm9yZUVhY2goYXN5bmMoKSA9PiB7XG4gICAgLy8gQ2xlYW4gdXAgdGVzdCBkYXRhYmFzZSBpZiBleGlzdHNcbiAgICBpZiAoZnMuZXhpc3RzU3luYyh0ZXN0RGJQYXRoKSkge1xuICAgICAgZnMudW5saW5rU3luYyh0ZXN0RGJQYXRoKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBnbG9iYWwgc3RhdGVcbiAgICBnbG9iYWwuX3J1dlN3YXJtSW5zdGFuY2UgPSBudWxsO1xuICAgIGdsb2JhbC5fcnV2U3dhcm1Jbml0aWFsaXplZCA9IDA7XG5cbiAgICAvLyBJbml0aWFsaXplIHdpdGggdGVzdCBkYXRhYmFzZVxuICAgIHJ1dlN3YXJtID0gYXdhaXQgUnV2U3dhcm0uaW5pdGlhbGl6ZSh7XG4gICAgICBlbmFibGVQZXJzaXN0ZW5jZTogdHJ1ZSxcbiAgICAgIGVuYWJsZU5ldXJhbE5ldHdvcmtzOiB0cnVlLFxuICAgICAgZW5hYmxlRm9yZWNhc3Rpbmc6IGZhbHNlLFxuICAgICAgZGVidWc6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgLy8gT3ZlcnJpZGUgcGVyc2lzdGVuY2UgcGF0aCBmb3IgdGVzdGluZ1xuICAgIGlmIChydXZTd2FybS5wZXJzaXN0ZW5jZSkge1xuICAgICAgcnV2U3dhcm0ucGVyc2lzdGVuY2UuY2xvc2UoKTtcbiAgICAgIHJ1dlN3YXJtLnBlcnNpc3RlbmNlID0gbmV3IFN3YXJtUGVyc2lzdGVuY2UodGVzdERiUGF0aCk7XG4gICAgfVxuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGlmIChydXZTd2FybSAmJiBydXZTd2FybS5wZXJzaXN0ZW5jZSkge1xuICAgICAgcnV2U3dhcm0ucGVyc2lzdGVuY2UuY2xvc2UoKTtcbiAgICB9XG4gICAgaWYgKGZzLmV4aXN0c1N5bmModGVzdERiUGF0aCkpIHtcbiAgICAgIGZzLnVubGlua1N5bmModGVzdERiUGF0aCk7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnRW5kLXRvLUVuZCBTd2FybSBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIGZ1bGwgc3dhcm0gbGlmZWN5Y2xlIHdpdGggcGVyc2lzdGVuY2UnLCBhc3luYygpID0+IHtcbiAgICAgIC8vIDEuIENyZWF0ZSBzd2FybVxuICAgICAgY29uc3Qgc3dhcm0gPSBhd2FpdCBydXZTd2FybS5jcmVhdGVTd2FybSh7XG4gICAgICAgIG5hbWU6ICdpbnRlZ3JhdGlvbi10ZXN0LXN3YXJtJyxcbiAgICAgICAgdG9wb2xvZ3k6ICdtZXNoJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdiYWxhbmNlZCcsXG4gICAgICAgIG1heEFnZW50czogMTAsXG4gICAgICAgIGVuYWJsZUNvZ25pdGl2ZURpdmVyc2l0eTogdHJ1ZSxcbiAgICAgICAgZW5hYmxlTmV1cmFsQWdlbnRzOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGFzc2VydChzd2FybSk7XG4gICAgICBhc3NlcnQoc3dhcm0uaWQpO1xuXG4gICAgICAvLyAyLiBWZXJpZnkgc3dhcm0gd2FzIHBlcnNpc3RlZFxuICAgICAgY29uc3QgcGVyc2lzdGVkU3dhcm1zID0gcnV2U3dhcm0ucGVyc2lzdGVuY2UuZ2V0QWN0aXZlU3dhcm1zKCk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocGVyc2lzdGVkU3dhcm1zLmxlbmd0aCwgMSk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocGVyc2lzdGVkU3dhcm1zWzBdLm5hbWUsICdpbnRlZ3JhdGlvbi10ZXN0LXN3YXJtJyk7XG5cbiAgICAgIC8vIDMuIFNwYXduIG11bHRpcGxlIGFnZW50c1xuICAgICAgY29uc3QgYWdlbnRzID0gW107XG4gICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgWydyZXNlYXJjaGVyJywgJ2NvZGVyJywgJ2FuYWx5c3QnXSkge1xuICAgICAgICBjb25zdCBhZ2VudCA9IGF3YWl0IHN3YXJtLnNwYXduKHtcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIG5hbWU6IGAke3R5cGV9LWFnZW50YCxcbiAgICAgICAgICBjYXBhYmlsaXRpZXM6IFt0eXBlLCAnY29sbGFib3JhdGlvbiddLFxuICAgICAgICAgIGVuYWJsZU5ldXJhbE5ldHdvcms6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2VudHMucHVzaChhZ2VudCk7XG4gICAgICB9XG5cbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChhZ2VudHMubGVuZ3RoLCAzKTtcblxuICAgICAgLy8gNC4gVmVyaWZ5IGFnZW50cyB3ZXJlIHBlcnNpc3RlZFxuICAgICAgY29uc3QgcGVyc2lzdGVkQWdlbnRzID0gcnV2U3dhcm0ucGVyc2lzdGVuY2UuZ2V0U3dhcm1BZ2VudHMoc3dhcm0uaWQpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHBlcnNpc3RlZEFnZW50cy5sZW5ndGgsIDMpO1xuXG4gICAgICAvLyA1LiBPcmNoZXN0cmF0ZSB0YXNrXG4gICAgICBjb25zdCB0YXNrID0gYXdhaXQgc3dhcm0ub3JjaGVzdHJhdGUoe1xuICAgICAgICBkZXNjcmlwdGlvbjogJ0FuYWx5emUgY29kZWJhc2UgYW5kIGltcGxlbWVudCBvcHRpbWl6YXRpb24nLFxuICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICBkZXBlbmRlbmNpZXM6IFtdLFxuICAgICAgICBtYXhBZ2VudHM6IDIsXG4gICAgICAgIGVzdGltYXRlZER1cmF0aW9uOiA1MDAwLFxuICAgICAgfSk7XG5cbiAgICAgIGFzc2VydCh0YXNrKTtcbiAgICAgIGFzc2VydCh0YXNrLmFzc2lnbmVkQWdlbnRzLmxlbmd0aCA+IDApO1xuXG4gICAgICAvLyA2LiBWZXJpZnkgdGFzayB3YXMgcGVyc2lzdGVkXG4gICAgICBjb25zdCBwZXJzaXN0ZWRUYXNrcyA9IHJ1dlN3YXJtLnBlcnNpc3RlbmNlLmdldFN3YXJtVGFza3Moc3dhcm0uaWQpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHBlcnNpc3RlZFRhc2tzLmxlbmd0aCwgMSk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocGVyc2lzdGVkVGFza3NbMF0uZGVzY3JpcHRpb24sIHRhc2suZGVzY3JpcHRpb24pO1xuXG4gICAgICAvLyA3LiBXYWl0IGZvciB0YXNrIGNvbXBsZXRpb25cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxNTAwKSk7XG5cbiAgICAgIC8vIDguIFZlcmlmeSB0YXNrIHJlc3VsdHNcbiAgICAgIGNvbnN0IHRhc2tSZXN1bHRzID0gYXdhaXQgdGFzay5nZXRSZXN1bHRzKCk7XG4gICAgICBhc3NlcnQodGFza1Jlc3VsdHMpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHRhc2tSZXN1bHRzLnRhc2tfaWQsIHRhc2suaWQpO1xuICAgICAgYXNzZXJ0KHRhc2tSZXN1bHRzLmFnZW50X3Jlc3VsdHMpO1xuXG4gICAgICAvLyA5LiBHZXQgc3dhcm0gc3RhdHVzXG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBzd2FybS5nZXRTdGF0dXMoKTtcbiAgICAgIGFzc2VydChzdGF0dXMpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHN0YXR1cy5hZ2VudHMudG90YWwsIDMpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHN0YXR1cy50YXNrcy50b3RhbCwgMSk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwoc3RhdHVzLnRhc2tzLmNvbXBsZXRlZCwgMSk7XG5cbiAgICAgIC8vIDEwLiBHZXQgZ2xvYmFsIG1ldHJpY3NcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBhd2FpdCBydXZTd2FybS5nZXRHbG9iYWxNZXRyaWNzKCk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWV0cmljcy50b3RhbFN3YXJtcywgMSk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWV0cmljcy50b3RhbEFnZW50cywgMyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWV0cmljcy50b3RhbFRhc2tzLCAxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ05ldXJhbCBBZ2VudCBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhbmQgdXNlIG5ldXJhbCBhZ2VudHMnLCBhc3luYygpID0+IHtcbiAgICAgIGNvbnN0IHN3YXJtID0gYXdhaXQgcnV2U3dhcm0uY3JlYXRlU3dhcm0oe1xuICAgICAgICBuYW1lOiAnbmV1cmFsLXRlc3Qtc3dhcm0nLFxuICAgICAgICBlbmFibGVOZXVyYWxBZ2VudHM6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIG5ldXJhbCBhZ2VudFxuICAgICAgY29uc3QgYWdlbnQgPSBhd2FpdCBzd2FybS5zcGF3bih7XG4gICAgICAgIHR5cGU6ICdyZXNlYXJjaGVyJyxcbiAgICAgICAgZW5hYmxlTmV1cmFsTmV0d29yazogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgbmV1cmFsIGNhcGFiaWxpdGllc1xuICAgICAgYXNzZXJ0KGFnZW50LmNvZ25pdGl2ZVBhdHRlcm4pO1xuICAgICAgYXNzZXJ0KGFnZW50LmNhcGFiaWxpdGllcyk7XG5cbiAgICAgIC8vIENyZWF0ZSBuZXVyYWwgYWdlbnQgd3JhcHBlclxuICAgICAgY29uc3QgbmV1cmFsQWdlbnQgPSBOZXVyYWxBZ2VudEZhY3RvcnkuY3JlYXRlTmV1cmFsQWdlbnQoYWdlbnQsICdyZXNlYXJjaGVyJyk7XG4gICAgICBhc3NlcnQobmV1cmFsQWdlbnQpO1xuXG4gICAgICAvLyBUZXN0IG5ldXJhbCBhbmFseXNpc1xuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBuZXVyYWxBZ2VudC5hbmFseXplVGFzayh7XG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUmVzZWFyY2ggbmV1cmFsIG5ldHdvcmsgYXJjaGl0ZWN0dXJlcycsXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICB9KTtcblxuICAgICAgYXNzZXJ0KGFuYWx5c2lzKTtcbiAgICAgIGFzc2VydCgnY29tcGxleGl0eScgaW4gYW5hbHlzaXMpO1xuICAgICAgYXNzZXJ0KCdjcmVhdGl2aXR5JyBpbiBhbmFseXNpcyk7XG4gICAgICBhc3NlcnQoJ2NvbmZpZGVuY2UnIGluIGFuYWx5c2lzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBQZXJzaXN0ZW5jZSBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBlcnNpc3QgYWdlbnQgbWVtb3J5IGFjcm9zcyBvcGVyYXRpb25zJywgYXN5bmMoKSA9PiB7XG4gICAgICBjb25zdCBzd2FybSA9IGF3YWl0IHJ1dlN3YXJtLmNyZWF0ZVN3YXJtKHtcbiAgICAgICAgbmFtZTogJ21lbW9yeS10ZXN0LXN3YXJtJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZ2VudCA9IGF3YWl0IHN3YXJtLnNwYXduKHtcbiAgICAgICAgdHlwZTogJ2FuYWx5c3QnLFxuICAgICAgICBuYW1lOiAnbWVtb3J5LXRlc3QtYWdlbnQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0b3JlIGFnZW50IG1lbW9yeVxuICAgICAgY29uc3QgbWVtb3J5RGF0YSA9IHtcbiAgICAgICAgbGVhcm5lZF9wYXR0ZXJuczogWydwYXR0ZXJuMScsICdwYXR0ZXJuMiddLFxuICAgICAgICBwZXJmb3JtYW5jZV9oaXN0b3J5OiBbMC43LCAwLjgsIDAuODVdLFxuICAgICAgICBjb250ZXh0OiB7IGRvbWFpbjogJ3Rlc3RpbmcnLCB2ZXJzaW9uOiAxIH0sXG4gICAgICB9O1xuXG4gICAgICBydXZTd2FybS5wZXJzaXN0ZW5jZS5zdG9yZUFnZW50TWVtb3J5KFxuICAgICAgICBhZ2VudC5pZCxcbiAgICAgICAgJ2FuYWx5c2lzX21lbW9yeScsXG4gICAgICAgIG1lbW9yeURhdGEsXG4gICAgICApO1xuXG4gICAgICAvLyBSZXRyaWV2ZSBtZW1vcnlcbiAgICAgIGNvbnN0IHJldHJpZXZlZCA9IHJ1dlN3YXJtLnBlcnNpc3RlbmNlLmdldEFnZW50TWVtb3J5KFxuICAgICAgICBhZ2VudC5pZCxcbiAgICAgICAgJ2FuYWx5c2lzX21lbW9yeScsXG4gICAgICApO1xuXG4gICAgICBhc3NlcnQocmV0cmlldmVkKTtcbiAgICAgIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwocmV0cmlldmVkLnZhbHVlLCBtZW1vcnlEYXRhKTtcblxuICAgICAgLy8gVXBkYXRlIG1lbW9yeVxuICAgICAgbWVtb3J5RGF0YS5wZXJmb3JtYW5jZV9oaXN0b3J5LnB1c2goMC45KTtcbiAgICAgIHJ1dlN3YXJtLnBlcnNpc3RlbmNlLnN0b3JlQWdlbnRNZW1vcnkoXG4gICAgICAgIGFnZW50LmlkLFxuICAgICAgICAnYW5hbHlzaXNfbWVtb3J5JyxcbiAgICAgICAgbWVtb3J5RGF0YSxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBydXZTd2FybS5wZXJzaXN0ZW5jZS5nZXRBZ2VudE1lbW9yeShcbiAgICAgICAgYWdlbnQuaWQsXG4gICAgICAgICdhbmFseXNpc19tZW1vcnknLFxuICAgICAgKTtcblxuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKHVwZGF0ZWQudmFsdWUucGVyZm9ybWFuY2VfaGlzdG9yeS5sZW5ndGgsIDQpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTXVsdGktU3dhcm0gQ29vcmRpbmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29vcmRpbmF0ZSBtdWx0aXBsZSBzd2FybXMnLCBhc3luYygpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBtdWx0aXBsZSBzd2FybXNcbiAgICAgIGNvbnN0IHN3YXJtcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3dhcm0gPSBhd2FpdCBydXZTd2FybS5jcmVhdGVTd2FybSh7XG4gICAgICAgICAgbmFtZTogYHN3YXJtLSR7aX1gLFxuICAgICAgICAgIHRvcG9sb2d5OiBpID09PSAwID8gJ21lc2gnIDogaSA9PT0gMSA/ICdzdGFyJyA6ICdyaW5nJyxcbiAgICAgICAgICBtYXhBZ2VudHM6IDUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNwYXduIGFnZW50cyBpbiBlYWNoIHN3YXJtXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICAgICAgYXdhaXQgc3dhcm0uc3Bhd24oe1xuICAgICAgICAgICAgdHlwZTogaiA9PT0gMCA/ICdyZXNlYXJjaGVyJyA6ICdjb2RlcicsXG4gICAgICAgICAgICBuYW1lOiBgYWdlbnQtJHtpfS0ke2p9YCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3YXJtcy5wdXNoKHN3YXJtKTtcbiAgICAgIH1cblxuICAgICAgLy8gT3JjaGVzdHJhdGUgdGFza3MgaW4gcGFyYWxsZWxcbiAgICAgIGNvbnN0IHRhc2tzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHN3YXJtcy5tYXAoc3dhcm0gPT5cbiAgICAgICAgICBzd2FybS5vcmNoZXN0cmF0ZSh7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYFRhc2sgZm9yICR7c3dhcm0uaWR9YCxcbiAgICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0YXNrcy5sZW5ndGgsIDMpO1xuXG4gICAgICAvLyBHZXQgYWxsIHN3YXJtcyBzdGF0dXNcbiAgICAgIGNvbnN0IGFsbFN3YXJtcyA9IGF3YWl0IHJ1dlN3YXJtLmdldEFsbFN3YXJtcygpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGFsbFN3YXJtcy5sZW5ndGgsIDMpO1xuXG4gICAgICAvLyBWZXJpZnkgZ2xvYmFsIG1ldHJpY3NcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBhd2FpdCBydXZTd2FybS5nZXRHbG9iYWxNZXRyaWNzKCk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWV0cmljcy50b3RhbFN3YXJtcywgMyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWV0cmljcy50b3RhbEFnZW50cywgNik7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWV0cmljcy50b3RhbFRhc2tzLCAzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0V2ZW50IExvZ2dpbmcgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBsb2cgYW5kIHJldHJpZXZlIGV2ZW50cycsIGFzeW5jKCkgPT4ge1xuICAgICAgY29uc3Qgc3dhcm0gPSBhd2FpdCBydXZTd2FybS5jcmVhdGVTd2FybSh7XG4gICAgICAgIG5hbWU6ICdldmVudC10ZXN0LXN3YXJtJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBMb2cgdmFyaW91cyBldmVudHNcbiAgICAgIGNvbnN0IGV2ZW50cyA9IFtcbiAgICAgICAgeyB0eXBlOiAnc3dhcm1faW5pdGlhbGl6ZWQnLCBkYXRhOiB7IHRvcG9sb2d5OiAnbWVzaCcgfSB9LFxuICAgICAgICB7IHR5cGU6ICdhZ2VudF9zcGF3bmVkJywgZGF0YTogeyBhZ2VudFR5cGU6ICdyZXNlYXJjaGVyJyB9IH0sXG4gICAgICAgIHsgdHlwZTogJ3Rhc2tfc3RhcnRlZCcsIGRhdGE6IHsgdGFza0lkOiAndGFzay0xMjMnIH0gfSxcbiAgICAgICAgeyB0eXBlOiAndGFza19jb21wbGV0ZWQnLCBkYXRhOiB7IHRhc2tJZDogJ3Rhc2stMTIzJywgZHVyYXRpb246IDEwMDAgfSB9LFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgcnV2U3dhcm0ucGVyc2lzdGVuY2UubG9nRXZlbnQoc3dhcm0uaWQsIGV2ZW50LnR5cGUsIGV2ZW50LmRhdGEpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXRyaWV2ZSBldmVudHNcbiAgICAgIGNvbnN0IHJldHJpZXZlZEV2ZW50cyA9IHJ1dlN3YXJtLnBlcnNpc3RlbmNlLmdldFN3YXJtRXZlbnRzKHN3YXJtLmlkKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXRyaWV2ZWRFdmVudHMubGVuZ3RoLCA0KTtcblxuICAgICAgLy8gVmVyaWZ5IGV2ZW50IG9yZGVyIChzaG91bGQgYmUgREVTQylcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXRyaWV2ZWRFdmVudHNbMF0uZXZlbnRfdHlwZSwgJ3Rhc2tfY29tcGxldGVkJyk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwocmV0cmlldmVkRXZlbnRzWzNdLmV2ZW50X3R5cGUsICdzd2FybV9pbml0aWFsaXplZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgTWV0cmljcyBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRyYWNrIGFuZCBhZ2dyZWdhdGUgcGVyZm9ybWFuY2UgbWV0cmljcycsIGFzeW5jKCkgPT4ge1xuICAgICAgY29uc3Qgc3dhcm0gPSBhd2FpdCBydXZTd2FybS5jcmVhdGVTd2FybSh7XG4gICAgICAgIG5hbWU6ICdtZXRyaWNzLXRlc3Qtc3dhcm0nLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgc3dhcm0uc3Bhd24oe1xuICAgICAgICB0eXBlOiAnb3B0aW1pemVyJyxcbiAgICAgICAgbmFtZTogJ21ldHJpY3MtYWdlbnQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlY29yZCB2YXJpb3VzIG1ldHJpY3NcbiAgICAgIGNvbnN0IG1ldHJpY3NUb1JlY29yZCA9IFtcbiAgICAgICAgeyBuYW1lOiAndGFza19jb21wbGV0aW9uX3RpbWUnLCB2YWx1ZTogMTUwMCB9LFxuICAgICAgICB7IG5hbWU6ICdtZW1vcnlfdXNhZ2UnLCB2YWx1ZTogNDUuNSB9LFxuICAgICAgICB7IG5hbWU6ICdjcHVfdXNhZ2UnLCB2YWx1ZTogMzIuMSB9LFxuICAgICAgICB7IG5hbWU6ICdhY2N1cmFjeV9zY29yZScsIHZhbHVlOiAwLjkyIH0sXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IG1ldHJpYyBvZiBtZXRyaWNzVG9SZWNvcmQpIHtcbiAgICAgICAgcnV2U3dhcm0ucGVyc2lzdGVuY2UucmVjb3JkTWV0cmljKFxuICAgICAgICAgICdhZ2VudCcsXG4gICAgICAgICAgYWdlbnQuaWQsXG4gICAgICAgICAgbWV0cmljLm5hbWUsXG4gICAgICAgICAgbWV0cmljLnZhbHVlLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXRyaWV2ZSBhbGwgbWV0cmljc1xuICAgICAgY29uc3QgYWxsTWV0cmljcyA9IHJ1dlN3YXJtLnBlcnNpc3RlbmNlLmdldE1ldHJpY3MoJ2FnZW50JywgYWdlbnQuaWQpO1xuICAgICAgYXNzZXJ0LnN0cmljdEVxdWFsKGFsbE1ldHJpY3MubGVuZ3RoLCA0KTtcblxuICAgICAgLy8gUmV0cmlldmUgc3BlY2lmaWMgbWV0cmljXG4gICAgICBjb25zdCBtZW1vcnlNZXRyaWNzID0gcnV2U3dhcm0ucGVyc2lzdGVuY2UuZ2V0TWV0cmljcyhcbiAgICAgICAgJ2FnZW50JyxcbiAgICAgICAgYWdlbnQuaWQsXG4gICAgICAgICdtZW1vcnlfdXNhZ2UnLFxuICAgICAgKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChtZW1vcnlNZXRyaWNzLmxlbmd0aCwgMSk7XG4gICAgICBhc3NlcnQuc3RyaWN0RXF1YWwobWVtb3J5TWV0cmljc1swXS5tZXRyaWNfdmFsdWUsIDQ1LjUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgUmVjb3ZlcnkgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYW5kIHJlY292ZXIgZnJvbSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jKCkgPT4ge1xuICAgICAgY29uc3Qgc3dhcm0gPSBhd2FpdCBydXZTd2FybS5jcmVhdGVTd2FybSh7XG4gICAgICAgIG5hbWU6ICdlcnJvci10ZXN0LXN3YXJtJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUcnkgdG8gb3JjaGVzdHJhdGUgd2l0aG91dCBhZ2VudHMgKHNob3VsZCBmYWlsKVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgc3dhcm0ub3JjaGVzdHJhdGUoe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBzaG91bGQgZmFpbCcsXG4gICAgICAgIH0pO1xuICAgICAgICBhc3NlcnQuZmFpbCgnU2hvdWxkIGhhdmUgdGhyb3duIGVycm9yJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBhc3NlcnQoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnTm8gYWdlbnRzIGF2YWlsYWJsZScpKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3Bhd24gYWdlbnQgYW5kIHJldHJ5XG4gICAgICBhd2FpdCBzd2FybS5zcGF3bih7IHR5cGU6ICdyZXNlYXJjaGVyJyB9KTtcbiAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCBzd2FybS5vcmNoZXN0cmF0ZSh7XG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBzaG91bGQgc3VjY2VlZCcsXG4gICAgICB9KTtcblxuICAgICAgYXNzZXJ0KHRhc2spO1xuICAgICAgYXNzZXJ0KHRhc2suYXNzaWduZWRBZ2VudHMubGVuZ3RoID4gMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wbGV4IFRhc2sgT3JjaGVzdHJhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV4IHRhc2sgZGVwZW5kZW5jaWVzJywgYXN5bmMoKSA9PiB7XG4gICAgICBjb25zdCBzd2FybSA9IGF3YWl0IHJ1dlN3YXJtLmNyZWF0ZVN3YXJtKHtcbiAgICAgICAgbmFtZTogJ2NvbXBsZXgtdGFzay1zd2FybScsXG4gICAgICAgIHRvcG9sb2d5OiAnaGllcmFyY2hpY2FsJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdzcGVjaWFsaXplZCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIHNwZWNpYWxpemVkIGFnZW50c1xuICAgICAgY29uc3QgcmVzZWFyY2hlciA9IGF3YWl0IHN3YXJtLnNwYXduKHtcbiAgICAgICAgdHlwZTogJ3Jlc2VhcmNoZXInLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IFsncmVzZWFyY2gnLCAnZG9jdW1lbnRhdGlvbiddLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNvZGVyID0gYXdhaXQgc3dhcm0uc3Bhd24oe1xuICAgICAgICB0eXBlOiAnY29kZXInLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IFsnamF2YXNjcmlwdCcsICdweXRob24nLCAndGVzdGluZyddLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFuYWx5c3QgPSBhd2FpdCBzd2FybS5zcGF3bih7XG4gICAgICAgIHR5cGU6ICdhbmFseXN0JyxcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBbJ2FuYWx5c2lzJywgJ3JlcG9ydGluZyddLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSB0YXNrcyB3aXRoIGRlcGVuZGVuY2llc1xuICAgICAgY29uc3QgcmVzZWFyY2hUYXNrID0gYXdhaXQgc3dhcm0ub3JjaGVzdHJhdGUoe1xuICAgICAgICBkZXNjcmlwdGlvbjogJ1Jlc2VhcmNoIGJlc3QgcHJhY3RpY2VzIGZvciBvcHRpbWl6YXRpb24nLFxuICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICByZXF1aXJlZENhcGFiaWxpdGllczogWydyZXNlYXJjaCddLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGltcGxlbWVudGF0aW9uVGFzayA9IGF3YWl0IHN3YXJtLm9yY2hlc3RyYXRlKHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbXBsZW1lbnQgb3B0aW1pemF0aW9uIGJhc2VkIG9uIHJlc2VhcmNoJyxcbiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbcmVzZWFyY2hUYXNrLmlkXSxcbiAgICAgICAgcmVxdWlyZWRDYXBhYmlsaXRpZXM6IFsnamF2YXNjcmlwdCddLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFuYWx5c2lzVGFzayA9IGF3YWl0IHN3YXJtLm9yY2hlc3RyYXRlKHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdBbmFseXplIHBlcmZvcm1hbmNlIGltcHJvdmVtZW50cycsXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbaW1wbGVtZW50YXRpb25UYXNrLmlkXSxcbiAgICAgICAgcmVxdWlyZWRDYXBhYmlsaXRpZXM6IFsnYW5hbHlzaXMnXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciB0YXNrcyB0byBwcm9ncmVzc1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcblxuICAgICAgLy8gVmVyaWZ5IHRhc2sgYXNzaWdubWVudHNcbiAgICAgIGFzc2VydChyZXNlYXJjaFRhc2suYXNzaWduZWRBZ2VudHMuaW5jbHVkZXMocmVzZWFyY2hlci5pZCkpO1xuICAgICAgYXNzZXJ0KGltcGxlbWVudGF0aW9uVGFzay5hc3NpZ25lZEFnZW50cy5pbmNsdWRlcyhjb2Rlci5pZCkpO1xuICAgICAgYXNzZXJ0KGFuYWx5c2lzVGFzay5hc3NpZ25lZEFnZW50cy5pbmNsdWRlcyhhbmFseXN0LmlkKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdXQVNNIE1vZHVsZSBMb2FkaW5nIEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGV0ZWN0IGFuZCByZXBvcnQgV0FTTSBtb2R1bGUgc3RhdHVzJywgYXN5bmMoKSA9PiB7XG4gICAgICBjb25zdCBtZXRyaWNzID0gYXdhaXQgcnV2U3dhcm0uZ2V0R2xvYmFsTWV0cmljcygpO1xuXG4gICAgICBhc3NlcnQobWV0cmljcy5mZWF0dXJlcyk7XG4gICAgICBhc3NlcnQoJ25ldXJhbF9uZXR3b3JrcycgaW4gbWV0cmljcy5mZWF0dXJlcyk7XG4gICAgICBhc3NlcnQoJ2NvZ25pdGl2ZV9kaXZlcnNpdHknIGluIG1ldHJpY3MuZmVhdHVyZXMpO1xuICAgICAgYXNzZXJ0KCdzaW1kX3N1cHBvcnQnIGluIG1ldHJpY3MuZmVhdHVyZXMpO1xuXG4gICAgICBhc3NlcnQobWV0cmljcy53YXNtX21vZHVsZXMpO1xuICAgICAgLy8gU2hvdWxkIGhhdmUgYXQgbGVhc3QgY29yZSBtb2R1bGUgc3RhdHVzXG4gICAgICBhc3NlcnQoJ2NvcmUnIGluIG1ldHJpY3Mud2FzbV9tb2R1bGVzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1N3YXJtIE1vbml0b3JpbmcgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtb25pdG9yIHN3YXJtIGFjdGl2aXR5JywgYXN5bmMoKSA9PiB7XG4gICAgICBjb25zdCBzd2FybSA9IGF3YWl0IHJ1dlN3YXJtLmNyZWF0ZVN3YXJtKHtcbiAgICAgICAgbmFtZTogJ21vbml0b3ItdGVzdC1zd2FybScsXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgc3dhcm0uc3Bhd24oeyB0eXBlOiAncmVzZWFyY2hlcicgfSk7XG4gICAgICBhd2FpdCBzd2FybS5zcGF3bih7IHR5cGU6ICdjb2RlcicgfSk7XG5cbiAgICAgIC8vIFN0YXJ0IG1vbml0b3JpbmdcbiAgICAgIGNvbnN0IG1vbml0b3JpbmdSZXN1bHQgPSBhd2FpdCBzd2FybS5tb25pdG9yKDIwMDAsIDUwMCk7XG5cbiAgICAgIGFzc2VydChtb25pdG9yaW5nUmVzdWx0KTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChtb25pdG9yaW5nUmVzdWx0LmR1cmF0aW9uLCAyMDAwKTtcbiAgICAgIGFzc2VydC5zdHJpY3RFcXVhbChtb25pdG9yaW5nUmVzdWx0LmludGVydmFsLCA1MDApO1xuXG4gICAgICAvLyBPcmNoZXN0cmF0ZSB0YXNrIGR1cmluZyBtb25pdG9yaW5nXG4gICAgICBhd2FpdCBzd2FybS5vcmNoZXN0cmF0ZSh7XG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGFzayBkdXJpbmcgbW9uaXRvcmluZycsXG4gICAgICB9KTtcblxuICAgICAgLy8gR2V0IGZpbmFsIHN0YXR1c1xuICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgc3dhcm0uZ2V0U3RhdHVzKHRydWUpO1xuICAgICAgYXNzZXJ0KHN0YXR1cy5hZ2VudHMudG90YWwgPj0gMik7XG4gICAgICBhc3NlcnQoc3RhdHVzLnRhc2tzLnRvdGFsID49IDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2xlYW51cCBhbmQgUmVzb3VyY2UgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHByb3Blcmx5IGNsZWFuIHVwIHJlc291cmNlcycsIGFzeW5jKCkgPT4ge1xuICAgICAgY29uc3Qgc3dhcm0gPSBhd2FpdCBydXZTd2FybS5jcmVhdGVTd2FybSh7XG4gICAgICAgIG5hbWU6ICdjbGVhbnVwLXRlc3Qtc3dhcm0nLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFnZW50ID0gYXdhaXQgc3dhcm0uc3Bhd24oeyB0eXBlOiAncmVzZWFyY2hlcicgfSk7XG5cbiAgICAgIC8vIFN0b3JlIHNvbWUgZGF0YVxuICAgICAgcnV2U3dhcm0ucGVyc2lzdGVuY2Uuc3RvcmVBZ2VudE1lbW9yeShhZ2VudC5pZCwgJ3Rlc3Qta2V5JywgeyBkYXRhOiAndGVzdCcgfSk7XG4gICAgICBydXZTd2FybS5wZXJzaXN0ZW5jZS5sb2dFdmVudChzd2FybS5pZCwgJ3Rlc3RfZXZlbnQnLCB7IHRlc3Q6IHRydWUgfSk7XG5cbiAgICAgIC8vIFRlcm1pbmF0ZSBzd2FybVxuICAgICAgYXdhaXQgc3dhcm0udGVybWluYXRlKCk7XG5cbiAgICAgIC8vIFZlcmlmeSBzd2FybSBpcyByZW1vdmVkIGZyb20gYWN0aXZlIHN3YXJtc1xuICAgICAgYXNzZXJ0KCFydXZTd2FybS5hY3RpdmVTd2FybXMuaGFzKHN3YXJtLmlkKSk7XG5cbiAgICAgIC8vIERhdGEgc2hvdWxkIHN0aWxsIGJlIGluIHBlcnNpc3RlbmNlIChmb3IgaGlzdG9yaWNhbCBhbmFseXNpcylcbiAgICAgIGNvbnN0IGV2ZW50cyA9IHJ1dlN3YXJtLnBlcnNpc3RlbmNlLmdldFN3YXJtRXZlbnRzKHN3YXJtLmlkKTtcbiAgICAgIGFzc2VydChldmVudHMubGVuZ3RoID4gMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbi8vIFJ1biB0ZXN0c1xuaWYgKHJlcXVpcmUubWFpbiA9PT0gbW9kdWxlKSB7XG4gIGNvbnNvbGUubG9nKCdSdW5uaW5nIEFQSSBJbnRlZ3JhdGlvbiBUZXN0cy4uLicpO1xuICByZXF1aXJlKCcuLi8uLi9ub2RlX21vZHVsZXMvLmJpbi9qZXN0Jyk7XG59Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxRQUFRLFFBQVEsNkJBQTZCO0FBQ3RELFNBQVNDLGdCQUFnQixRQUFRLDBCQUEwQjtBQUMzRCxTQUFTQyxrQkFBa0IsUUFBUSwyQkFBMkI7QUFDOUQsT0FBT0MsTUFBTSxNQUFNLFFBQVE7QUFDM0IsT0FBT0MsSUFBSSxNQUFNLE1BQU07QUFDdkIsT0FBT0MsRUFBRSxNQUFNLElBQUk7QUFDbkIsU0FBU0MsYUFBYSxRQUFRLEtBQUs7QUFDbkMsU0FBU0MsT0FBTyxRQUFRLE1BQU07QUFFOUIsTUFBTUMsVUFBVSxHQUFHRixhQUFhLENBQUNHLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxHQUFHLENBQUM7QUFDakQsTUFBTUMsU0FBUyxHQUFHTCxPQUFPLENBQUNDLFVBQVUsQ0FBQztBQUVyQ0ssUUFBUSxDQUFDLHVCQUF1QixFQUFFLE1BQU07RUFDdEMsSUFBSUMsUUFBUTtFQUNaLE1BQU1DLFVBQVUsR0FBR1gsSUFBSSxDQUFDWSxJQUFJLENBQUNKLFNBQVMsRUFBRSxxQkFBcUIsQ0FBQztFQUU5REssVUFBVSxjQUFBQyxpQkFBQSxDQUFDLGFBQVc7SUFDcEI7SUFDQSxJQUFJYixFQUFFLENBQUNjLFVBQVUsQ0FBQ0osVUFBVSxDQUFDLEVBQUU7TUFDN0JWLEVBQUUsQ0FBQ2UsVUFBVSxDQUFDTCxVQUFVLENBQUM7SUFDM0I7O0lBRUE7SUFDQU0sTUFBTSxDQUFDQyxpQkFBaUIsR0FBRyxJQUFJO0lBQy9CRCxNQUFNLENBQUNFLG9CQUFvQixHQUFHLENBQUM7O0lBRS9CO0lBQ0FULFFBQVEsU0FBU2QsUUFBUSxDQUFDd0IsVUFBVSxDQUFDO01BQ25DQyxpQkFBaUIsRUFBRSxJQUFJO01BQ3ZCQyxvQkFBb0IsRUFBRSxJQUFJO01BQzFCQyxpQkFBaUIsRUFBRSxLQUFLO01BQ3hC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