aa28bfe9e44396afec1906debbbb1e71
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
/**
 * Async Operations Edge Cases
 * Tests promise handling, timeouts, race conditions, and async edge cases
 */

import { describe, it, expect, jest, beforeEach, afterEach } from '@jest/globals';
import { RuvSwarm } from '../../src/index-enhanced.js';
import { NeuralAgent } from '../../src/neural-agent.js';
import { SwarmPersistence } from '../../src/persistence.js';

// Mock timers for timeout testing
jest.useFakeTimers();
describe('Async Operations Edge Cases', () => {
  let ruv;
  let swarm;
  beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
    // Initialize with mocks
    ruv = {
      createSwarm: jest.fn().mockResolvedValue({
        id: 'test-swarm',
        spawn: jest.fn(),
        orchestrate: jest.fn(),
        terminate: jest.fn()
      })
    };
    swarm = yield ruv.createSwarm({
      topology: 'mesh'
    });
  }));
  afterEach(() => {
    jest.clearAllTimers();
    jest.useRealTimers();
  });
  describe('Promise Timeout Scenarios', () => {
    it('should timeout after max wait period', /*#__PURE__*/_asyncToGenerator(function* () {
      const longOperation = () => new Promise(resolve => {
        setTimeout(() => resolve('completed'), 10000); // 10 seconds
      });
      const timeoutPromise = new Promise((_, reject) => {
        setTimeout(() => reject(new Error('Operation timeout')), 5000);
      });
      jest.useRealTimers(); // Use real timers for this test

      const racePromise = Promise.race([longOperation(), timeoutPromise]);
      yield expect(racePromise).rejects.toThrow('Operation timeout');
    }));
    it('should handle multiple timeout scenarios', /*#__PURE__*/_asyncToGenerator(function* () {
      jest.useFakeTimers();
      const operations = [{
        delay: 1000,
        timeout: 500,
        shouldTimeout: true
      }, {
        delay: 500,
        timeout: 1000,
        shouldTimeout: false
      }, {
        delay: 1000,
        timeout: 1000,
        shouldTimeout: false
      },
      // Edge case
      {
        delay: 0,
        timeout: 100,
        shouldTimeout: false
      }];
      const results = [];
      for (const {
        delay,
        timeout,
        shouldTimeout
      } of operations) {
        const operation = new Promise(resolve => {
          setTimeout(() => resolve('success'), delay);
        });
        const timeoutPromise = new Promise((_, reject) => {
          setTimeout(() => reject(new Error('timeout')), timeout);
        });
        const resultPromise = Promise.race([operation, timeoutPromise]).then(() => ({
          status: 'success'
        })).catch(() => ({
          status: 'timeout'
        }));
        results.push(resultPromise);

        // Advance timers to the max of delay and timeout
        jest.advanceTimersByTime(Math.max(delay, timeout) + 1);
      }
      const resolvedResults = yield Promise.all(results);
      operations.forEach((op, index) => {
        if (op.shouldTimeout) {
          expect(resolvedResults[index].status).toBe('timeout');
        } else {
          expect(resolvedResults[index].status).toBe('success');
        }
      });
    }));
  });
  describe('Promise Rejection Handling', () => {
    it('should handle nested promise rejections', /*#__PURE__*/_asyncToGenerator(function* () {
      const nestedOperation = /*#__PURE__*/function () {
        var _ref5 = _asyncToGenerator(function* () {
          try {
            yield Promise.resolve().then(() => {
              return Promise.reject(new Error('Inner rejection'));
            });
          } catch (error) {
            // Re-throw with context
            throw new Error(`Wrapped: ${error.message}`);
          }
        });
        return function nestedOperation() {
          return _ref5.apply(this, arguments);
        };
      }();
      yield expect(nestedOperation()).rejects.toThrow('Wrapped: Inner rejection');
    }));
    it('should handle promise rejection in finally block', /*#__PURE__*/_asyncToGenerator(function* () {
      let cleanupCalled = false;
      let errorInFinally = false;
      const operationWithFinally = /*#__PURE__*/function () {
        var _ref7 = _asyncToGenerator(function* () {
          try {
            throw new Error('Main error');
          } finally {
            cleanupCalled = true;
            try {
              // Cleanup that might fail
              yield Promise.reject(new Error('Cleanup error'));
            } catch (e) {
              errorInFinally = true;
            }
          }
        });
        return function operationWithFinally() {
          return _ref7.apply(this, arguments);
        };
      }();
      yield expect(operationWithFinally()).rejects.toThrow('Main error');
      expect(cleanupCalled).toBe(true);
      expect(errorInFinally).toBe(true);
    }));
    it('should handle unhandled promise rejections in callbacks', /*#__PURE__*/_asyncToGenerator(function* () {
      const events = [];

      // Track unhandled rejections
      const unhandledHandler = reason => {
        events.push({
          type: 'unhandled',
          reason: reason.message
        });
      };
      process.on('unhandledRejection', unhandledHandler);

      // Create promise that will be rejected after a delay
      setTimeout(() => {
        Promise.reject(new Error('Async rejection'));
      }, 0);

      // Wait for event loop
      yield new Promise(resolve => setImmediate(resolve));
      process.off('unhandledRejection', unhandledHandler);

      // Note: In test environment, this might not capture the event
      // This test demonstrates the pattern for handling such cases
    }));
  });
  describe('Race Condition Edge Cases', () => {
    it('should handle concurrent state modifications', /*#__PURE__*/_asyncToGenerator(function* () {
      const sharedState = {
        counter: 0,
        operations: []
      };
      const increment = /*#__PURE__*/function () {
        var _ref0 = _asyncToGenerator(function* (id) {
          const current = sharedState.counter;
          // Simulate async operation
          yield new Promise(resolve => setImmediate(resolve));
          sharedState.counter = current + 1;
          sharedState.operations.push(id);
        });
        return function increment(_x) {
          return _ref0.apply(this, arguments);
        };
      }();

      // Create many concurrent operations
      const promises = [];
      for (let i = 0; i < 100; i++) {
        promises.push(increment(i));
      }
      yield Promise.all(promises);

      // Due to race conditions, counter might not be 100
      expect(sharedState.counter).toBeLessThanOrEqual(100);
      expect(sharedState.operations.length).toBe(100);
    }));
    it('should handle promise settlement order', /*#__PURE__*/_asyncToGenerator(function* () {
      const results = [];
      const promises = [new Promise(resolve => setTimeout(() => {
        results.push(1);
        resolve(1);
      }, 100)), new Promise(resolve => setTimeout(() => {
        results.push(2);
        resolve(2);
      }, 50)), new Promise(resolve => setTimeout(() => {
        results.push(3);
        resolve(3);
      }, 75))];
      jest.useRealTimers();
      const settled = yield Promise.all(promises);

      // Results array shows actual execution order
      expect(results).toEqual([2, 3, 1]); // Based on timeout order
      // Promise.all preserves input order
      expect(settled).toEqual([1, 2, 3]);
    }));
  });
  describe('Async Iterator Edge Cases', () => {
    it('should handle async generator errors', /*#__PURE__*/_asyncToGenerator(function* () {
      async function* problematicGenerator() {
        yield 1;
        yield 2;
        throw new Error('Generator error');
        yield 3; // Never reached
      }
      const results = [];
      let errorCaught = false;
      try {
        for await (const value of problematicGenerator()) {
          results.push(value);
        }
      } catch (error) {
        errorCaught = true;
        expect(error.message).toBe('Generator error');
      }
      expect(results).toEqual([1, 2]);
      expect(errorCaught).toBe(true);
    }));
    it('should handle async generator cleanup', /*#__PURE__*/_asyncToGenerator(function* () {
      let cleanupCalled = false;
      async function* generatorWithCleanup() {
        try {
          yield 1;
          yield 2;
          yield 3;
        } finally {
          cleanupCalled = true;
        }
      }
      const gen = generatorWithCleanup();

      // Consume only first two values
      yield gen.next(); // 1
      yield gen.next(); // 2

      // Return early (triggers cleanup)
      yield gen.return();
      expect(cleanupCalled).toBe(true);
    }));
  });
  describe('Concurrent Async Operations', () => {
    it('should handle Promise.allSettled with mixed results', /*#__PURE__*/_asyncToGenerator(function* () {
      const operations = [Promise.resolve('success-1'), Promise.reject(new Error('failure-1')), Promise.resolve('success-2'), Promise.reject(new Error('failure-2')), new Promise(resolve => setTimeout(() => resolve('delayed'), 100))];
      jest.useRealTimers();
      const results = yield Promise.allSettled(operations);
      expect(results).toHaveLength(5);
      expect(results[0]).toEqual({
        status: 'fulfilled',
        value: 'success-1'
      });
      expect(results[1]).toEqual({
        status: 'rejected',
        reason: expect.objectContaining({
          message: 'failure-1'
        })
      });
      expect(results[2]).toEqual({
        status: 'fulfilled',
        value: 'success-2'
      });
      expect(results[3]).toEqual({
        status: 'rejected',
        reason: expect.objectContaining({
          message: 'failure-2'
        })
      });
      expect(results[4]).toEqual({
        status: 'fulfilled',
        value: 'delayed'
      });
    }));
    it('should handle Promise.race with all rejections', /*#__PURE__*/_asyncToGenerator(function* () {
      const rejections = [new Promise((_, reject) => setTimeout(() => reject(new Error('Error 1')), 100)), new Promise((_, reject) => setTimeout(() => reject(new Error('Error 2')), 50)), new Promise((_, reject) => setTimeout(() => reject(new Error('Error 3')), 150))];
      jest.useRealTimers();

      // Should reject with the fastest rejection
      yield expect(Promise.race(rejections)).rejects.toThrow('Error 2');
    }));
    it('should handle Promise.any with all rejections', /*#__PURE__*/_asyncToGenerator(function* () {
      const rejections = [Promise.reject(new Error('Error 1')), Promise.reject(new Error('Error 2')), Promise.reject(new Error('Error 3'))];
      yield expect(Promise.any(rejections)).rejects.toThrow('All promises were rejected');
    }));
  });
  describe('Async Queue Edge Cases', () => {
    it('should handle queue overflow', /*#__PURE__*/_asyncToGenerator(function* () {
      class AsyncQueue {
        constructor(maxSize = 10) {
          this.queue = [];
          this.maxSize = maxSize;
          this.processing = false;
        }
        add(task) {
          var _this = this;
          return _asyncToGenerator(function* () {
            if (_this.queue.length >= _this.maxSize) {
              throw new Error('Queue overflow');
            }
            _this.queue.push(task);
            if (!_this.processing) {
              _this.process();
            }
          })();
        }
        process() {
          var _this2 = this;
          return _asyncToGenerator(function* () {
            _this2.processing = true;
            while (_this2.queue.length > 0) {
              const task = _this2.queue.shift();
              try {
                yield task();
              } catch (error) {
                // Task failed, continue processing
              }
            }
            _this2.processing = false;
          })();
        }
      }
      const queue = new AsyncQueue(5);
      const results = [];

      // Fill queue to capacity
      for (let i = 0; i < 5; i++) {
        yield queue.add(/*#__PURE__*/_asyncToGenerator(function* () {
          results.push(i);
        }));
      }

      // This should throw
      yield expect(queue.add(/*#__PURE__*/_asyncToGenerator(function* () {}))).rejects.toThrow('Queue overflow');

      // Wait for processing
      yield new Promise(resolve => setTimeout(resolve, 100));
      expect(results.length).toBe(5);
    }));
  });
  describe('Async Resource Cleanup', () => {
    it('should cleanup resources on async failure', /*#__PURE__*/_asyncToGenerator(function* () {
      const resources = [];
      let cleanupCount = 0;
      class AsyncResource {
        constructor(id) {
          this.id = id;
          this.acquired = true;
          resources.push(this);
        }
        use() {
          var _this3 = this;
          return _asyncToGenerator(function* () {
            if (_this3.id === 2) {
              throw new Error('Resource 2 failed');
            }
            return `Used ${_this3.id}`;
          })();
        }
        cleanup() {
          var _this4 = this;
          return _asyncToGenerator(function* () {
            _this4.acquired = false;
            cleanupCount++;
          })();
        }
      }
      const acquireResources = /*#__PURE__*/function () {
        var _ref19 = _asyncToGenerator(function* () {
          const acquired = [];
          try {
            for (let i = 0; i < 5; i++) {
              const resource = new AsyncResource(i);
              acquired.push(resource);
              yield resource.use();
            }
          } catch (error) {
            // Cleanup all acquired resources
            yield Promise.all(acquired.map(r => r.cleanup()));
            throw error;
          }
        });
        return function acquireResources() {
          return _ref19.apply(this, arguments);
        };
      }();
      yield expect(acquireResources()).rejects.toThrow('Resource 2 failed');
      expect(cleanupCount).toBe(3); // Resources 0, 1, and 2 were cleaned up
    }));
  });
  describe('Async Event Emitter Edge Cases', () => {
    it('should handle async event listeners with errors', /*#__PURE__*/_asyncToGenerator(function* () {
      const {
        EventEmitter
      } = yield import('events');
      const emitter = new EventEmitter();
      const results = [];

      // Add multiple async listeners, some failing
      emitter.on('test', /*#__PURE__*/_asyncToGenerator(function* () {
        results.push('listener-1-start');
        yield new Promise(resolve => setTimeout(resolve, 50));
        results.push('listener-1-end');
      }));
      emitter.on('test', /*#__PURE__*/_asyncToGenerator(function* () {
        results.push('listener-2-start');
        throw new Error('Listener 2 failed');
      }));
      emitter.on('test', /*#__PURE__*/_asyncToGenerator(function* () {
        results.push('listener-3-start');
        yield new Promise(resolve => setTimeout(resolve, 25));
        results.push('listener-3-end');
      }));

      // Emit and wait for all listeners
      const promises = [];
      emitter.listeners('test').forEach(listener => {
        promises.push(listener().catch(err => ({
          error: err.message
        })));
      });
      emitter.emit('test');
      const listenerResults = yield Promise.all(promises);
      expect(results).toContain('listener-1-start');
      expect(results).toContain('listener-2-start');
      expect(results).toContain('listener-3-start');
      expect(listenerResults[1]).toEqual({
        error: 'Listener 2 failed'
      });
    }));
  });
});

// Run tests when executed directly
if (import.meta.url === `file://${process.argv[1]}`) {
  console.log('Running async operations edge case tests...');

  // Run all tests
  const {
    run
  } = await import('../test-runner.js');
  await run(__filename);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwiamVzdCIsImJlZm9yZUVhY2giLCJhZnRlckVhY2giLCJSdXZTd2FybSIsIk5ldXJhbEFnZW50IiwiU3dhcm1QZXJzaXN0ZW5jZSIsInVzZUZha2VUaW1lcnMiLCJydXYiLCJzd2FybSIsIl9hc3luY1RvR2VuZXJhdG9yIiwiY3JlYXRlU3dhcm0iLCJmbiIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiaWQiLCJzcGF3biIsIm9yY2hlc3RyYXRlIiwidGVybWluYXRlIiwidG9wb2xvZ3kiLCJjbGVhckFsbFRpbWVycyIsInVzZVJlYWxUaW1lcnMiLCJsb25nT3BlcmF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwidGltZW91dFByb21pc2UiLCJfIiwicmVqZWN0IiwiRXJyb3IiLCJyYWNlUHJvbWlzZSIsInJhY2UiLCJyZWplY3RzIiwidG9UaHJvdyIsIm9wZXJhdGlvbnMiLCJkZWxheSIsInRpbWVvdXQiLCJzaG91bGRUaW1lb3V0IiwicmVzdWx0cyIsIm9wZXJhdGlvbiIsInJlc3VsdFByb21pc2UiLCJ0aGVuIiwic3RhdHVzIiwiY2F0Y2giLCJwdXNoIiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsIk1hdGgiLCJtYXgiLCJyZXNvbHZlZFJlc3VsdHMiLCJhbGwiLCJmb3JFYWNoIiwib3AiLCJpbmRleCIsInRvQmUiLCJuZXN0ZWRPcGVyYXRpb24iLCJfcmVmNSIsImVycm9yIiwibWVzc2FnZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2xlYW51cENhbGxlZCIsImVycm9ySW5GaW5hbGx5Iiwib3BlcmF0aW9uV2l0aEZpbmFsbHkiLCJfcmVmNyIsImUiLCJldmVudHMiLCJ1bmhhbmRsZWRIYW5kbGVyIiwicmVhc29uIiwidHlwZSIsInByb2Nlc3MiLCJvbiIsInNldEltbWVkaWF0ZSIsIm9mZiIsInNoYXJlZFN0YXRlIiwiY291bnRlciIsImluY3JlbWVudCIsIl9yZWYwIiwiY3VycmVudCIsIl94IiwicHJvbWlzZXMiLCJpIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImxlbmd0aCIsInNldHRsZWQiLCJ0b0VxdWFsIiwicHJvYmxlbWF0aWNHZW5lcmF0b3IiLCJlcnJvckNhdWdodCIsInZhbHVlIiwiZ2VuZXJhdG9yV2l0aENsZWFudXAiLCJnZW4iLCJuZXh0IiwicmV0dXJuIiwiYWxsU2V0dGxlZCIsInRvSGF2ZUxlbmd0aCIsIm9iamVjdENvbnRhaW5pbmciLCJyZWplY3Rpb25zIiwiYW55IiwiQXN5bmNRdWV1ZSIsImNvbnN0cnVjdG9yIiwibWF4U2l6ZSIsInF1ZXVlIiwicHJvY2Vzc2luZyIsImFkZCIsInRhc2siLCJfdGhpcyIsIl90aGlzMiIsInNoaWZ0IiwicmVzb3VyY2VzIiwiY2xlYW51cENvdW50IiwiQXN5bmNSZXNvdXJjZSIsImFjcXVpcmVkIiwidXNlIiwiX3RoaXMzIiwiY2xlYW51cCIsIl90aGlzNCIsImFjcXVpcmVSZXNvdXJjZXMiLCJfcmVmMTkiLCJyZXNvdXJjZSIsIm1hcCIsInIiLCJFdmVudEVtaXR0ZXIiLCJlbWl0dGVyIiwibGlzdGVuZXJzIiwibGlzdGVuZXIiLCJlcnIiLCJlbWl0IiwibGlzdGVuZXJSZXN1bHRzIiwidG9Db250YWluIiwiaW1wb3J0IiwibWV0YSIsInVybCIsImFyZ3YiLCJjb25zb2xlIiwibG9nIiwicnVuIiwiX19maWxlbmFtZSJdLCJzb3VyY2VzIjpbImFzeW5jLW9wZXJhdGlvbnMtZWRnZS1jYXNlcy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXN5bmMgT3BlcmF0aW9ucyBFZGdlIENhc2VzXG4gKiBUZXN0cyBwcm9taXNlIGhhbmRsaW5nLCB0aW1lb3V0cywgcmFjZSBjb25kaXRpb25zLCBhbmQgYXN5bmMgZWRnZSBjYXNlc1xuICovXG5cbmltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBqZXN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFJ1dlN3YXJtIH0gZnJvbSAnLi4vLi4vc3JjL2luZGV4LWVuaGFuY2VkLmpzJztcbmltcG9ydCB7IE5ldXJhbEFnZW50IH0gZnJvbSAnLi4vLi4vc3JjL25ldXJhbC1hZ2VudC5qcyc7XG5pbXBvcnQgeyBTd2FybVBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vc3JjL3BlcnNpc3RlbmNlLmpzJztcblxuLy8gTW9jayB0aW1lcnMgZm9yIHRpbWVvdXQgdGVzdGluZ1xuamVzdC51c2VGYWtlVGltZXJzKCk7XG5cbmRlc2NyaWJlKCdBc3luYyBPcGVyYXRpb25zIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gIGxldCBydXY7XG4gIGxldCBzd2FybTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIHdpdGggbW9ja3NcbiAgICBydXYgPSB7XG4gICAgICBjcmVhdGVTd2FybTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgaWQ6ICd0ZXN0LXN3YXJtJyxcbiAgICAgICAgc3Bhd246IGplc3QuZm4oKSxcbiAgICAgICAgb3JjaGVzdHJhdGU6IGplc3QuZm4oKSxcbiAgICAgICAgdGVybWluYXRlOiBqZXN0LmZuKCksXG4gICAgICB9KSxcbiAgICB9O1xuICAgIHN3YXJtID0gYXdhaXQgcnV2LmNyZWF0ZVN3YXJtKHsgdG9wb2xvZ3k6ICdtZXNoJyB9KTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9taXNlIFRpbWVvdXQgU2NlbmFyaW9zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdGltZW91dCBhZnRlciBtYXggd2FpdCBwZXJpb2QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsb25nT3BlcmF0aW9uID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCdjb21wbGV0ZWQnKSwgMTAwMDApOyAvLyAxMCBzZWNvbmRzXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignT3BlcmF0aW9uIHRpbWVvdXQnKSksIDUwMDApO1xuICAgICAgfSk7XG5cbiAgICAgIGplc3QudXNlUmVhbFRpbWVycygpOyAvLyBVc2UgcmVhbCB0aW1lcnMgZm9yIHRoaXMgdGVzdFxuICAgICAgXG4gICAgICBjb25zdCByYWNlUHJvbWlzZSA9IFByb21pc2UucmFjZShbbG9uZ09wZXJhdGlvbigpLCB0aW1lb3V0UHJvbWlzZV0pO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocmFjZVByb21pc2UpLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIHRpbWVvdXQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG11bHRpcGxlIHRpbWVvdXQgc2NlbmFyaW9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBbXG4gICAgICAgIHsgZGVsYXk6IDEwMDAsIHRpbWVvdXQ6IDUwMCwgc2hvdWxkVGltZW91dDogdHJ1ZSB9LFxuICAgICAgICB7IGRlbGF5OiA1MDAsIHRpbWVvdXQ6IDEwMDAsIHNob3VsZFRpbWVvdXQ6IGZhbHNlIH0sXG4gICAgICAgIHsgZGVsYXk6IDEwMDAsIHRpbWVvdXQ6IDEwMDAsIHNob3VsZFRpbWVvdXQ6IGZhbHNlIH0sIC8vIEVkZ2UgY2FzZVxuICAgICAgICB7IGRlbGF5OiAwLCB0aW1lb3V0OiAxMDAsIHNob3VsZFRpbWVvdXQ6IGZhbHNlIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgeyBkZWxheSwgdGltZW91dCwgc2hvdWxkVGltZW91dCB9IG9mIG9wZXJhdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoJ3N1Y2Nlc3MnKSwgZGVsYXkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ3RpbWVvdXQnKSksIHRpbWVvdXQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHRQcm9taXNlID0gUHJvbWlzZS5yYWNlKFtvcGVyYXRpb24sIHRpbWVvdXRQcm9taXNlXSlcbiAgICAgICAgICAudGhlbigoKSA9PiAoeyBzdGF0dXM6ICdzdWNjZXNzJyB9KSlcbiAgICAgICAgICAuY2F0Y2goKCkgPT4gKHsgc3RhdHVzOiAndGltZW91dCcgfSkpO1xuXG4gICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHRQcm9taXNlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkdmFuY2UgdGltZXJzIHRvIHRoZSBtYXggb2YgZGVsYXkgYW5kIHRpbWVvdXRcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKE1hdGgubWF4KGRlbGF5LCB0aW1lb3V0KSArIDEpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNvbHZlZFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChyZXN1bHRzKTtcbiAgICAgIFxuICAgICAgb3BlcmF0aW9ucy5mb3JFYWNoKChvcCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKG9wLnNob3VsZFRpbWVvdXQpIHtcbiAgICAgICAgICBleHBlY3QocmVzb2x2ZWRSZXN1bHRzW2luZGV4XS5zdGF0dXMpLnRvQmUoJ3RpbWVvdXQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHBlY3QocmVzb2x2ZWRSZXN1bHRzW2luZGV4XS5zdGF0dXMpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcm9taXNlIFJlamVjdGlvbiBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXN0ZWQgcHJvbWlzZSByZWplY3Rpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbmVzdGVkT3BlcmF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW5uZXIgcmVqZWN0aW9uJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIC8vIFJlLXRocm93IHdpdGggY29udGV4dFxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV3JhcHBlZDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3QobmVzdGVkT3BlcmF0aW9uKCkpLnJlamVjdHMudG9UaHJvdygnV3JhcHBlZDogSW5uZXIgcmVqZWN0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcm9taXNlIHJlamVjdGlvbiBpbiBmaW5hbGx5IGJsb2NrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGNsZWFudXBDYWxsZWQgPSBmYWxzZTtcbiAgICAgIGxldCBlcnJvckluRmluYWxseSA9IGZhbHNlO1xuXG4gICAgICBjb25zdCBvcGVyYXRpb25XaXRoRmluYWxseSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01haW4gZXJyb3InKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjbGVhbnVwQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQ2xlYW51cCB0aGF0IG1pZ2h0IGZhaWxcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2xlYW51cCBlcnJvcicpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvckluRmluYWxseSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3Qob3BlcmF0aW9uV2l0aEZpbmFsbHkoKSkucmVqZWN0cy50b1Rocm93KCdNYWluIGVycm9yJyk7XG4gICAgICBleHBlY3QoY2xlYW51cENhbGxlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlcnJvckluRmluYWxseSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbnMgaW4gY2FsbGJhY2tzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXZlbnRzID0gW107XG4gICAgICBcbiAgICAgIC8vIFRyYWNrIHVuaGFuZGxlZCByZWplY3Rpb25zXG4gICAgICBjb25zdCB1bmhhbmRsZWRIYW5kbGVyID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBldmVudHMucHVzaCh7IHR5cGU6ICd1bmhhbmRsZWQnLCByZWFzb246IHJlYXNvbi5tZXNzYWdlIH0pO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgcHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgdW5oYW5kbGVkSGFuZGxlcik7XG5cbiAgICAgIC8vIENyZWF0ZSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZWplY3RlZCBhZnRlciBhIGRlbGF5XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBc3luYyByZWplY3Rpb24nKSk7XG4gICAgICB9LCAwKTtcblxuICAgICAgLy8gV2FpdCBmb3IgZXZlbnQgbG9vcFxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRJbW1lZGlhdGUocmVzb2x2ZSkpO1xuXG4gICAgICBwcm9jZXNzLm9mZigndW5oYW5kbGVkUmVqZWN0aW9uJywgdW5oYW5kbGVkSGFuZGxlcik7XG4gICAgICBcbiAgICAgIC8vIE5vdGU6IEluIHRlc3QgZW52aXJvbm1lbnQsIHRoaXMgbWlnaHQgbm90IGNhcHR1cmUgdGhlIGV2ZW50XG4gICAgICAvLyBUaGlzIHRlc3QgZGVtb25zdHJhdGVzIHRoZSBwYXR0ZXJuIGZvciBoYW5kbGluZyBzdWNoIGNhc2VzXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSYWNlIENvbmRpdGlvbiBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgc3RhdGUgbW9kaWZpY2F0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNoYXJlZFN0YXRlID0geyBjb3VudGVyOiAwLCBvcGVyYXRpb25zOiBbXSB9O1xuICAgICAgXG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHNoYXJlZFN0YXRlLmNvdW50ZXI7XG4gICAgICAgIC8vIFNpbXVsYXRlIGFzeW5jIG9wZXJhdGlvblxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldEltbWVkaWF0ZShyZXNvbHZlKSk7XG4gICAgICAgIHNoYXJlZFN0YXRlLmNvdW50ZXIgPSBjdXJyZW50ICsgMTtcbiAgICAgICAgc2hhcmVkU3RhdGUub3BlcmF0aW9ucy5wdXNoKGlkKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIENyZWF0ZSBtYW55IGNvbmN1cnJlbnQgb3BlcmF0aW9uc1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChpbmNyZW1lbnQoaSkpO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgICAgIC8vIER1ZSB0byByYWNlIGNvbmRpdGlvbnMsIGNvdW50ZXIgbWlnaHQgbm90IGJlIDEwMFxuICAgICAgZXhwZWN0KHNoYXJlZFN0YXRlLmNvdW50ZXIpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcbiAgICAgIGV4cGVjdChzaGFyZWRTdGF0ZS5vcGVyYXRpb25zLmxlbmd0aCkudG9CZSgxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJvbWlzZSBzZXR0bGVtZW50IG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtcbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goMSk7XG4gICAgICAgICAgcmVzb2x2ZSgxKTtcbiAgICAgICAgfSwgMTAwKSksXG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKDIpO1xuICAgICAgICAgIHJlc29sdmUoMik7XG4gICAgICAgIH0sIDUwKSksXG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKDMpO1xuICAgICAgICAgIHJlc29sdmUoMyk7XG4gICAgICAgIH0sIDc1KSksXG4gICAgICBdO1xuXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgICAgIGNvbnN0IHNldHRsZWQgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICBcbiAgICAgIC8vIFJlc3VsdHMgYXJyYXkgc2hvd3MgYWN0dWFsIGV4ZWN1dGlvbiBvcmRlclxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvRXF1YWwoWzIsIDMsIDFdKTsgLy8gQmFzZWQgb24gdGltZW91dCBvcmRlclxuICAgICAgLy8gUHJvbWlzZS5hbGwgcHJlc2VydmVzIGlucHV0IG9yZGVyXG4gICAgICBleHBlY3Qoc2V0dGxlZCkudG9FcXVhbChbMSwgMiwgM10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQXN5bmMgSXRlcmF0b3IgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhc3luYyBnZW5lcmF0b3IgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXN5bmMgZnVuY3Rpb24qIHByb2JsZW1hdGljR2VuZXJhdG9yKCkge1xuICAgICAgICB5aWVsZCAxO1xuICAgICAgICB5aWVsZCAyO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dlbmVyYXRvciBlcnJvcicpO1xuICAgICAgICB5aWVsZCAzOyAvLyBOZXZlciByZWFjaGVkXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgIGxldCBlcnJvckNhdWdodCA9IGZhbHNlO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHZhbHVlIG9mIHByb2JsZW1hdGljR2VuZXJhdG9yKCkpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlcnJvckNhdWdodCA9IHRydWU7XG4gICAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0JlKCdHZW5lcmF0b3IgZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvRXF1YWwoWzEsIDJdKTtcbiAgICAgIGV4cGVjdChlcnJvckNhdWdodCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFzeW5jIGdlbmVyYXRvciBjbGVhbnVwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGNsZWFudXBDYWxsZWQgPSBmYWxzZTtcblxuICAgICAgYXN5bmMgZnVuY3Rpb24qIGdlbmVyYXRvcldpdGhDbGVhbnVwKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHlpZWxkIDE7XG4gICAgICAgICAgeWllbGQgMjtcbiAgICAgICAgICB5aWVsZCAzO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGNsZWFudXBDYWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdlbiA9IGdlbmVyYXRvcldpdGhDbGVhbnVwKCk7XG4gICAgICBcbiAgICAgIC8vIENvbnN1bWUgb25seSBmaXJzdCB0d28gdmFsdWVzXG4gICAgICBhd2FpdCBnZW4ubmV4dCgpOyAvLyAxXG4gICAgICBhd2FpdCBnZW4ubmV4dCgpOyAvLyAyXG4gICAgICBcbiAgICAgIC8vIFJldHVybiBlYXJseSAodHJpZ2dlcnMgY2xlYW51cClcbiAgICAgIGF3YWl0IGdlbi5yZXR1cm4oKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGNsZWFudXBDYWxsZWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25jdXJyZW50IEFzeW5jIE9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgUHJvbWlzZS5hbGxTZXR0bGVkIHdpdGggbWl4ZWQgcmVzdWx0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBbXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgnc3VjY2Vzcy0xJyksXG4gICAgICAgIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZmFpbHVyZS0xJykpLFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoJ3N1Y2Nlc3MtMicpLFxuICAgICAgICBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ZhaWx1cmUtMicpKSxcbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoJ2RlbGF5ZWQnKSwgMTAwKSksXG4gICAgICBdO1xuXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQob3BlcmF0aW9ucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoNSk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXSkudG9FcXVhbCh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAnc3VjY2Vzcy0xJyB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzFdKS50b0VxdWFsKHsgXG4gICAgICAgIHN0YXR1czogJ3JlamVjdGVkJywgXG4gICAgICAgIHJlYXNvbjogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoeyBtZXNzYWdlOiAnZmFpbHVyZS0xJyB9KVxuICAgICAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0c1syXSkudG9FcXVhbCh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAnc3VjY2Vzcy0yJyB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzNdKS50b0VxdWFsKHsgXG4gICAgICAgIHN0YXR1czogJ3JlamVjdGVkJywgXG4gICAgICAgIHJlYXNvbjogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoeyBtZXNzYWdlOiAnZmFpbHVyZS0yJyB9KVxuICAgICAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0c1s0XSkudG9FcXVhbCh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAnZGVsYXllZCcgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBQcm9taXNlLnJhY2Ugd2l0aCBhbGwgcmVqZWN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlamVjdGlvbnMgPSBbXG4gICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignRXJyb3IgMScpKSwgMTAwKSksXG4gICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignRXJyb3IgMicpKSwgNTApKSxcbiAgICAgICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKCdFcnJvciAzJykpLCAxNTApKSxcbiAgICAgIF07XG5cbiAgICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgcmVqZWN0IHdpdGggdGhlIGZhc3Rlc3QgcmVqZWN0aW9uXG4gICAgICBhd2FpdCBleHBlY3QoUHJvbWlzZS5yYWNlKHJlamVjdGlvbnMpKS5yZWplY3RzLnRvVGhyb3coJ0Vycm9yIDInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFByb21pc2UuYW55IHdpdGggYWxsIHJlamVjdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWplY3Rpb25zID0gW1xuICAgICAgICBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Vycm9yIDEnKSksXG4gICAgICAgIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRXJyb3IgMicpKSxcbiAgICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdFcnJvciAzJykpLFxuICAgICAgXTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFByb21pc2UuYW55KHJlamVjdGlvbnMpKS5yZWplY3RzLnRvVGhyb3coJ0FsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBc3luYyBRdWV1ZSBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHF1ZXVlIG92ZXJmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY2xhc3MgQXN5bmNRdWV1ZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG1heFNpemUgPSAxMCkge1xuICAgICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgICB0aGlzLm1heFNpemUgPSBtYXhTaXplO1xuICAgICAgICAgIHRoaXMucHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmMgYWRkKHRhc2spIHtcbiAgICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPj0gdGhpcy5tYXhTaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1F1ZXVlIG92ZXJmbG93Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMucXVldWUucHVzaCh0YXNrKTtcbiAgICAgICAgICBpZiAoIXRoaXMucHJvY2Vzc2luZykge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmMgcHJvY2VzcygpIHtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBhd2FpdCB0YXNrKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyBUYXNrIGZhaWxlZCwgY29udGludWUgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBxdWV1ZSA9IG5ldyBBc3luY1F1ZXVlKDUpO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgICAvLyBGaWxsIHF1ZXVlIHRvIGNhcGFjaXR5XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBhd2FpdCBxdWV1ZS5hZGQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgc2hvdWxkIHRocm93XG4gICAgICBhd2FpdCBleHBlY3QocXVldWUuYWRkKGFzeW5jICgpID0+IHt9KSkucmVqZWN0cy50b1Rocm93KCdRdWV1ZSBvdmVyZmxvdycpO1xuXG4gICAgICAvLyBXYWl0IGZvciBwcm9jZXNzaW5nXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG9CZSg1KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FzeW5jIFJlc291cmNlIENsZWFudXAnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjbGVhbnVwIHJlc291cmNlcyBvbiBhc3luYyBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzb3VyY2VzID0gW107XG4gICAgICBsZXQgY2xlYW51cENvdW50ID0gMDtcblxuICAgICAgY2xhc3MgQXN5bmNSZXNvdXJjZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICAgIHRoaXMuYWNxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc291cmNlcy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmMgdXNlKCkge1xuICAgICAgICAgIGlmICh0aGlzLmlkID09PSAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIDIgZmFpbGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBgVXNlZCAke3RoaXMuaWR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jIGNsZWFudXAoKSB7XG4gICAgICAgICAgdGhpcy5hY3F1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgIGNsZWFudXBDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjcXVpcmVSZXNvdXJjZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjcXVpcmVkID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc291cmNlID0gbmV3IEFzeW5jUmVzb3VyY2UoaSk7XG4gICAgICAgICAgICBhY3F1aXJlZC5wdXNoKHJlc291cmNlKTtcbiAgICAgICAgICAgIGF3YWl0IHJlc291cmNlLnVzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBDbGVhbnVwIGFsbCBhY3F1aXJlZCByZXNvdXJjZXNcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChhY3F1aXJlZC5tYXAociA9PiByLmNsZWFudXAoKSkpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3QoYWNxdWlyZVJlc291cmNlcygpKS5yZWplY3RzLnRvVGhyb3coJ1Jlc291cmNlIDIgZmFpbGVkJyk7XG4gICAgICBleHBlY3QoY2xlYW51cENvdW50KS50b0JlKDMpOyAvLyBSZXNvdXJjZXMgMCwgMSwgYW5kIDIgd2VyZSBjbGVhbmVkIHVwXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBc3luYyBFdmVudCBFbWl0dGVyIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYXN5bmMgZXZlbnQgbGlzdGVuZXJzIHdpdGggZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBFdmVudEVtaXR0ZXIgfSA9IGF3YWl0IGltcG9ydCgnZXZlbnRzJyk7XG4gICAgICBjb25zdCBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuXG4gICAgICAvLyBBZGQgbXVsdGlwbGUgYXN5bmMgbGlzdGVuZXJzLCBzb21lIGZhaWxpbmdcbiAgICAgIGVtaXR0ZXIub24oJ3Rlc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdHMucHVzaCgnbGlzdGVuZXItMS1zdGFydCcpO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTApKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKCdsaXN0ZW5lci0xLWVuZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGVtaXR0ZXIub24oJ3Rlc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdHMucHVzaCgnbGlzdGVuZXItMi1zdGFydCcpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpc3RlbmVyIDIgZmFpbGVkJyk7XG4gICAgICB9KTtcblxuICAgICAgZW1pdHRlci5vbigndGVzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKCdsaXN0ZW5lci0zLXN0YXJ0Jyk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNSkpO1xuICAgICAgICByZXN1bHRzLnB1c2goJ2xpc3RlbmVyLTMtZW5kJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRW1pdCBhbmQgd2FpdCBmb3IgYWxsIGxpc3RlbmVyc1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGVtaXR0ZXIubGlzdGVuZXJzKCd0ZXN0JykuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgbGlzdGVuZXIoKS5jYXRjaChlcnIgPT4gKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pKVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGVtaXR0ZXIuZW1pdCgndGVzdCcpO1xuICAgICAgY29uc3QgbGlzdGVuZXJSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9Db250YWluKCdsaXN0ZW5lci0xLXN0YXJ0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0cykudG9Db250YWluKCdsaXN0ZW5lci0yLXN0YXJ0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0cykudG9Db250YWluKCdsaXN0ZW5lci0zLXN0YXJ0Jyk7XG4gICAgICBleHBlY3QobGlzdGVuZXJSZXN1bHRzWzFdKS50b0VxdWFsKHsgZXJyb3I6ICdMaXN0ZW5lciAyIGZhaWxlZCcgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbi8vIFJ1biB0ZXN0cyB3aGVuIGV4ZWN1dGVkIGRpcmVjdGx5XG5pZiAoaW1wb3J0Lm1ldGEudXJsID09PSBgZmlsZTovLyR7cHJvY2Vzcy5hcmd2WzFdfWApIHtcbiAgY29uc29sZS5sb2coJ1J1bm5pbmcgYXN5bmMgb3BlcmF0aW9ucyBlZGdlIGNhc2UgdGVzdHMuLi4nKTtcbiAgXG4gIC8vIFJ1biBhbGwgdGVzdHNcbiAgY29uc3QgeyBydW4gfSA9IGF3YWl0IGltcG9ydCgnLi4vdGVzdC1ydW5uZXIuanMnKTtcbiAgYXdhaXQgcnVuKF9fZmlsZW5hbWUpO1xufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxRQUFRLEVBQUVDLEVBQUUsRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxRQUFRLGVBQWU7QUFDakYsU0FBU0MsUUFBUSxRQUFRLDZCQUE2QjtBQUN0RCxTQUFTQyxXQUFXLFFBQVEsMkJBQTJCO0FBQ3ZELFNBQVNDLGdCQUFnQixRQUFRLDBCQUEwQjs7QUFFM0Q7QUFDQUwsSUFBSSxDQUFDTSxhQUFhLENBQUMsQ0FBQztB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