efd5bd3865357db5b2a83242a73ba601
// Mock modules
_getJestObj().mock('better-sqlite3');
_getJestObj().mock('fs', () => ({
  promises: {
    access: jest.fn(),
    mkdir: jest.fn(),
    unlink: jest.fn()
  }
}));

// Import after mocking
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Edge case and error handling tests for persistence module
 */

import { describe, it, expect, jest, beforeEach, afterEach } from '@jest/globals';
import Database from 'better-sqlite3';
import { promises as fs } from 'fs';
import path from 'path';
import { PersistenceManager } from '../src/persistence.js';
describe('PersistenceManager Edge Cases', () => {
  let persistence;
  let mockDb;
  let mockStmt;
  beforeEach(() => {
    mockStmt = {
      run: jest.fn(),
      get: jest.fn(),
      all: jest.fn(),
      finalize: jest.fn()
    };
    mockDb = {
      prepare: jest.fn().mockReturnValue(mockStmt),
      exec: jest.fn(),
      close: jest.fn(),
      transaction: jest.fn(fn => fn),
      pragma: jest.fn()
    };
    Database.mockReturnValue(mockDb);
    persistence = new PersistenceManager();
    jest.clearAllMocks();
  });
  afterEach(() => {
    jest.restoreAllMocks();
  });
  describe('Database Connection Issues', () => {
    it('should handle database initialization failure', /*#__PURE__*/_asyncToGenerator(function* () {
      Database.mockImplementation(() => {
        throw new Error('Cannot open database');
      });
      yield expect(/*#__PURE__*/_asyncToGenerator(function* () {
        new PersistenceManager();
      })).rejects.toThrow('Cannot open database');
    }));
    it('should handle database corruption', /*#__PURE__*/_asyncToGenerator(function* () {
      mockDb.exec.mockImplementation(() => {
        throw new Error('Database disk image is malformed');
      });
      yield expect(persistence.initialize()).rejects.toThrow('malformed');
    }));
    it('should retry on database lock', /*#__PURE__*/_asyncToGenerator(function* () {
      let attempts = 0;
      mockStmt.run.mockImplementation(() => {
        attempts++;
        if (attempts < 3) {
          throw new Error('database is locked');
        }
        return {
          changes: 1
        };
      });
      yield persistence.initialize();
      const result = yield persistence.storeMemory('test', {
        data: 'value'
      });
      expect(result).toBe(true);
      expect(attempts).toBe(3);
    }));
  });
  describe('Memory Storage Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle extremely large memory values', /*#__PURE__*/_asyncToGenerator(function* () {
      const largeData = {
        array: new Array(10000).fill('x'.repeat(100)),
        nested: {}
      };

      // Create deeply nested object
      let current = largeData.nested;
      for (let i = 0; i < 100; i++) {
        current.next = {
          level: i
        };
        current = current.next;
      }
      mockStmt.run.mockReturnValue({
        changes: 1
      });
      const result = yield persistence.storeMemory('large', largeData);
      expect(result).toBe(true);
    }));
    it('should handle circular references in memory data', /*#__PURE__*/_asyncToGenerator(function* () {
      const circularData = {
        name: 'test'
      };
      circularData.self = circularData;
      yield expect(persistence.storeMemory('circular', circularData)).rejects.toThrow('Converting circular structure');
    }));
    it('should handle special characters in keys', /*#__PURE__*/_asyncToGenerator(function* () {
      const specialKeys = ['key/with/slashes', 'key with spaces', 'key"with"quotes', 'key\'with\'apostrophes', 'key\\with\\backslashes', 'key\nwith\nnewlines', 'key\twith\ttabs', '🔑emoji-key🗝️', 'key;drop table memories;--'];
      mockStmt.run.mockReturnValue({
        changes: 1
      });
      mockStmt.get.mockReturnValue({
        value: '{"test": true}'
      });
      for (const key of specialKeys) {
        const stored = yield persistence.storeMemory(key, {
          test: true
        });
        expect(stored).toBe(true);
        const retrieved = yield persistence.retrieveMemory(key);
        expect(retrieved).toEqual({
          test: true
        });
      }
    }));
    it('should handle null and undefined values', /*#__PURE__*/_asyncToGenerator(function* () {
      mockStmt.run.mockReturnValue({
        changes: 1
      });
      yield expect(persistence.storeMemory(null, {})).rejects.toThrow();
      yield expect(persistence.storeMemory(undefined, {})).rejects.toThrow();
      yield expect(persistence.storeMemory('key', null)).rejects.toThrow();
      yield expect(persistence.storeMemory('key', undefined)).rejects.toThrow();
    }));
    it('should handle concurrent memory operations', /*#__PURE__*/_asyncToGenerator(function* () {
      mockStmt.run.mockReturnValue({
        changes: 1
      });
      const promises = [];
      for (let i = 0; i < 100; i++) {
        promises.push(persistence.storeMemory(`key-${i}`, {
          index: i
        }));
      }
      const results = yield Promise.all(promises);
      expect(results.every(r => r === true)).toBe(true);
    }));
  });
  describe('Memory Retrieval Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle corrupted JSON data', /*#__PURE__*/_asyncToGenerator(function* () {
      mockStmt.get.mockReturnValue({
        value: 'invalid json{'
      });
      const result = yield persistence.retrieveMemory('corrupted');
      expect(result).toBeNull();
    }));
    it('should handle missing memory gracefully', /*#__PURE__*/_asyncToGenerator(function* () {
      mockStmt.get.mockReturnValue(undefined);
      const result = yield persistence.retrieveMemory('nonexistent');
      expect(result).toBeNull();
    }));
    it('should handle database errors during retrieval', /*#__PURE__*/_asyncToGenerator(function* () {
      mockStmt.get.mockImplementation(() => {
        throw new Error('Disk I/O error');
      });
      yield expect(persistence.retrieveMemory('key')).rejects.toThrow('Disk I/O error');
    }));
  });
  describe('Memory Listing Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle complex glob patterns', /*#__PURE__*/_asyncToGenerator(function* () {
      const patterns = ['**/deep/path/**', '[a-z]*[0-9]', '?(a|b|c)', '!(exclude)*', '@(pattern1|pattern2)'];
      mockStmt.all.mockReturnValue([{
        key: 'match1',
        value: '{}',
        metadata: '{}'
      }, {
        key: 'match2',
        value: '{}',
        metadata: '{}'
      }]);
      for (const pattern of patterns) {
        const results = yield persistence.listMemory(pattern);
        expect(Array.isArray(results)).toBe(true);
      }
    }));
    it('should handle empty results', /*#__PURE__*/_asyncToGenerator(function* () {
      mockStmt.all.mockReturnValue([]);
      const results = yield persistence.listMemory('*');
      expect(results).toEqual([]);
    }));
    it('should handle very large result sets', /*#__PURE__*/_asyncToGenerator(function* () {
      const largeResults = Array(10000).fill(null).map((_, i) => ({
        key: `key-${i}`,
        value: '{"data": "test"}',
        metadata: '{"accessed": 0}'
      }));
      mockStmt.all.mockReturnValue(largeResults);
      const results = yield persistence.listMemory('*');
      expect(results.length).toBe(10000);
    }));
  });
  describe('Neural Model Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle invalid model data', /*#__PURE__*/_asyncToGenerator(function* () {
      yield expect(persistence.saveNeuralModel('agent1', 'model1', null)).rejects.toThrow();
      yield expect(persistence.saveNeuralModel('agent1', 'model1', 'not-an-object')).rejects.toThrow();
    }));
    it('should handle model name conflicts', /*#__PURE__*/_asyncToGenerator(function* () {
      const modelData = {
        weights: [1, 2, 3]
      };
      mockStmt.run.mockReturnValue({
        changes: 1
      });

      // Save first model
      yield persistence.saveNeuralModel('agent1', 'model1', modelData);

      // Try to save with same name - should update
      const updatedData = {
        weights: [4, 5, 6]
      };
      yield persistence.saveNeuralModel('agent1', 'model1', updatedData);
      expect(mockStmt.run).toHaveBeenCalledTimes(2);
    }));
    it('should handle large neural models', /*#__PURE__*/_asyncToGenerator(function* () {
      const largeModel = {
        weights: new Array(1000000).fill(0).map(() => Math.random()),
        biases: new Array(10000).fill(0).map(() => Math.random()),
        architecture: {
          layers: Array(100).fill({
            neurons: 1000
          })
        }
      };
      mockStmt.run.mockReturnValue({
        changes: 1
      });
      const result = yield persistence.saveNeuralModel('agent1', 'large', largeModel);
      expect(result).toBe(true);
    }));
  });
  describe('Training Data Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle empty training data', /*#__PURE__*/_asyncToGenerator(function* () {
      yield expect(persistence.saveTrainingData('session1', [])).rejects.toThrow();
    }));
    it('should handle malformed training data', /*#__PURE__*/_asyncToGenerator(function* () {
      const malformedData = [{
        input: [1, 2],
        output: [1]
      }, {
        input: [1],
        output: [1, 2]
      },
      // Mismatched dimensions
      {
        input: null,
        output: [1]
      }, {
        output: [1]
      } // Missing input
      ];
      mockStmt.run.mockReturnValue({
        changes: 1
      });

      // Should filter out invalid entries
      const result = yield persistence.saveTrainingData('session1', malformedData);
      expect(result).toBe(true);
    }));
    it('should handle training data with NaN or Infinity', /*#__PURE__*/_asyncToGenerator(function* () {
      const problematicData = [{
        input: [1, NaN, 3],
        output: [1]
      }, {
        input: [1, 2, 3],
        output: [Infinity]
      }, {
        input: [-Infinity, 2, 3],
        output: [1]
      }];
      mockStmt.run.mockReturnValue({
        changes: 1
      });
      const result = yield persistence.saveTrainingData('session1', problematicData);
      expect(result).toBe(true);
    }));
  });
  describe('Database Maintenance Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle cleanup during active operations', /*#__PURE__*/_asyncToGenerator(function* () {
      // Simulate active operations
      const storePromises = Array(10).fill(null).map((_, i) => persistence.storeMemory(`active-${i}`, {
        data: i
      }));

      // Run cleanup while operations are in progress
      const cleanupPromise = persistence.cleanup();
      yield Promise.all([...storePromises, cleanupPromise]);

      // Should complete without errors
      expect(mockDb.exec).toHaveBeenCalledWith('VACUUM');
    }));
    it('should handle database close with pending operations', /*#__PURE__*/_asyncToGenerator(function* () {
      const pendingOps = [];

      // Create operations that will be pending
      for (let i = 0; i < 5; i++) {
        pendingOps.push(new Promise(resolve => {
          setTimeout(() => {
            persistence.storeMemory(`pending-${i}`, {
              data: i
            }).then(resolve);
          }, 100);
        }));
      }

      // Close immediately
      yield persistence.close();

      // Pending operations should handle gracefully
      yield expect(Promise.all(pendingOps)).rejects.toThrow();
    }));
    it('should handle VACUUM failure', /*#__PURE__*/_asyncToGenerator(function* () {
      mockDb.exec.mockImplementation(sql => {
        if (sql === 'VACUUM') {
          throw new Error('database or disk is full');
        }
      });
      yield expect(persistence.cleanup()).rejects.toThrow('full');
    }));
  });
  describe('Transaction Edge Cases', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should rollback on transaction failure', /*#__PURE__*/_asyncToGenerator(function* () {
      const rollbackFn = jest.fn();
      mockDb.transaction.mockImplementation(fn => {
        try {
          return fn();
        } catch (e) {
          rollbackFn();
          throw e;
        }
      });
      mockStmt.run.mockImplementation(() => {
        throw new Error('constraint violation');
      });
      yield expect(persistence.storeMemory('key', {
        data: 'test'
      })).rejects.toThrow('constraint violation');
      expect(rollbackFn).toHaveBeenCalled();
    }));
    it('should handle nested transactions', /*#__PURE__*/_asyncToGenerator(function* () {
      let transactionDepth = 0;
      mockDb.transaction.mockImplementation(fn => {
        transactionDepth++;
        const result = fn();
        transactionDepth--;
        return result;
      });
      mockStmt.run.mockReturnValue({
        changes: 1
      });

      // Simulate operations that might create nested transactions
      yield Promise.all([persistence.storeMemory('key1', {
        data: 1
      }), persistence.storeMemory('key2', {
        data: 2
      }), persistence.storeMemory('key3', {
        data: 3
      })]);
      expect(transactionDepth).toBe(0);
    }));
  });
  describe('Resource Limits', () => {
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      yield persistence.initialize();
    }));
    it('should handle memory pressure', /*#__PURE__*/_asyncToGenerator(function* () {
      // Simulate low memory by storing many large objects
      const promises = [];
      for (let i = 0; i < 100; i++) {
        const largeObject = {
          data: new Array(10000).fill('x'.repeat(100)),
          index: i
        };
        promises.push(persistence.storeMemory(`mem-${i}`, largeObject));
      }
      mockStmt.run.mockReturnValue({
        changes: 1
      });

      // Should handle without crashing
      const results = yield Promise.allSettled(promises);
      const successful = results.filter(r => r.status === 'fulfilled').length;
      expect(successful).toBeGreaterThan(0);
    }));
    it('should enforce reasonable limits on batch operations', /*#__PURE__*/_asyncToGenerator(function* () {
      const hugeBatch = Array(10000).fill(null).map((_, i) => ({
        key: `batch-${i}`,
        value: {
          data: i
        }
      }));

      // Should process in chunks rather than all at once
      const results = [];
      for (let i = 0; i < hugeBatch.length; i += 100) {
        const chunk = hugeBatch.slice(i, i + 100);
        const chunkResults = yield Promise.all(chunk.map(item => persistence.storeMemory(item.key, item.value)));
        results.push(...chunkResults);
      }
      expect(results.length).toBe(10000);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwcm9taXNlcyIsImFjY2VzcyIsImplc3QiLCJmbiIsIm1rZGlyIiwidW5saW5rIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwibiIsInQiLCJlIiwiciIsIm8iLCJhIiwiYyIsImkiLCJ1IiwidmFsdWUiLCJkb25lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9uZXh0IiwiX3Rocm93IiwicmVxdWlyZSIsImRlc2NyaWJlIiwiaXQiLCJleHBlY3QiLCJiZWZvcmVFYWNoIiwiYWZ0ZXJFYWNoIiwiRGF0YWJhc2UiLCJmcyIsInBhdGgiLCJQZXJzaXN0ZW5jZU1hbmFnZXIiLCJwZXJzaXN0ZW5jZSIsIm1vY2tEYiIsIm1vY2tTdG10IiwicnVuIiwiZ2V0IiwiYWxsIiwiZmluYWxpemUiLCJwcmVwYXJlIiwibW9ja1JldHVyblZhbHVlIiwiZXhlYyIsImNsb3NlIiwidHJhbnNhY3Rpb24iLCJwcmFnbWEiLCJjbGVhckFsbE1vY2tzIiwicmVzdG9yZUFsbE1vY2tzIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiRXJyb3IiLCJyZWplY3RzIiwidG9UaHJvdyIsImluaXRpYWxpemUiLCJhdHRlbXB0cyIsImNoYW5nZXMiLCJyZXN1bHQiLCJzdG9yZU1lbW9yeSIsImRhdGEiLCJ0b0JlIiwibGFyZ2VEYXRhIiwiYXJyYXkiLCJBcnJheSIsImZpbGwiLCJyZXBlYXQiLCJuZXN0ZWQiLCJjdXJyZW50IiwibmV4dCIsImxldmVsIiwiY2lyY3VsYXJEYXRhIiwibmFtZSIsInNlbGYiLCJzcGVjaWFsS2V5cyIsImtleSIsInN0b3JlZCIsInRlc3QiLCJyZXRyaWV2ZWQiLCJyZXRyaWV2ZU1lbW9yeSIsInRvRXF1YWwiLCJ1bmRlZmluZWQiLCJwdXNoIiwiaW5kZXgiLCJyZXN1bHRzIiwiZXZlcnkiLCJ0b0JlTnVsbCIsInBhdHRlcm5zIiwibWV0YWRhdGEiLCJwYXR0ZXJuIiwibGlzdE1lbW9yeSIsImlzQXJyYXkiLCJsYXJnZVJlc3VsdHMiLCJtYXAiLCJfIiwibGVuZ3RoIiwic2F2ZU5ldXJhbE1vZGVsIiwibW9kZWxEYXRhIiwid2VpZ2h0cyIsInVwZGF0ZWREYXRhIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwibGFyZ2VNb2RlbCIsIk1hdGgiLCJyYW5kb20iLCJiaWFzZXMiLCJhcmNoaXRlY3R1cmUiLCJsYXllcnMiLCJuZXVyb25zIiwic2F2ZVRyYWluaW5nRGF0YSIsIm1hbGZvcm1lZERhdGEiLCJpbnB1dCIsIm91dHB1dCIsInByb2JsZW1hdGljRGF0YSIsIk5hTiIsIkluZmluaXR5Iiwic3RvcmVQcm9taXNlcyIsImNsZWFudXBQcm9taXNlIiwiY2xlYW51cCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicGVuZGluZ09wcyIsInNldFRpbWVvdXQiLCJzcWwiLCJyb2xsYmFja0ZuIiwidG9IYXZlQmVlbkNhbGxlZCIsInRyYW5zYWN0aW9uRGVwdGgiLCJsYXJnZU9iamVjdCIsImFsbFNldHRsZWQiLCJzdWNjZXNzZnVsIiwiZmlsdGVyIiwic3RhdHVzIiwidG9CZUdyZWF0ZXJUaGFuIiwiaHVnZUJhdGNoIiwiY2h1bmsiLCJzbGljZSIsImNodW5rUmVzdWx0cyIsIml0ZW0iXSwic291cmNlcyI6WyJwZXJzaXN0ZW5jZS1lZGdlLWNhc2VzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFZGdlIGNhc2UgYW5kIGVycm9yIGhhbmRsaW5nIHRlc3RzIGZvciBwZXJzaXN0ZW5jZSBtb2R1bGVcbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgamVzdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgRGF0YWJhc2UgZnJvbSAnYmV0dGVyLXNxbGl0ZTMnO1xuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnMgfSBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuLy8gTW9jayBtb2R1bGVzXG5qZXN0Lm1vY2soJ2JldHRlci1zcWxpdGUzJyk7XG5qZXN0Lm1vY2soJ2ZzJywgKCkgPT4gKHtcbiAgcHJvbWlzZXM6IHtcbiAgICBhY2Nlc3M6IGplc3QuZm4oKSxcbiAgICBta2RpcjogamVzdC5mbigpLFxuICAgIHVubGluazogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBJbXBvcnQgYWZ0ZXIgbW9ja2luZ1xuaW1wb3J0IHsgUGVyc2lzdGVuY2VNYW5hZ2VyIH0gZnJvbSAnLi4vc3JjL3BlcnNpc3RlbmNlLmpzJztcblxuZGVzY3JpYmUoJ1BlcnNpc3RlbmNlTWFuYWdlciBFZGdlIENhc2VzJywgKCkgPT4ge1xuICBsZXQgcGVyc2lzdGVuY2U7XG4gIGxldCBtb2NrRGI7XG4gIGxldCBtb2NrU3RtdDtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrU3RtdCA9IHtcbiAgICAgIHJ1bjogamVzdC5mbigpLFxuICAgICAgZ2V0OiBqZXN0LmZuKCksXG4gICAgICBhbGw6IGplc3QuZm4oKSxcbiAgICAgIGZpbmFsaXplOiBqZXN0LmZuKCksXG4gICAgfTtcblxuICAgIG1vY2tEYiA9IHtcbiAgICAgIHByZXBhcmU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUobW9ja1N0bXQpLFxuICAgICAgZXhlYzogamVzdC5mbigpLFxuICAgICAgY2xvc2U6IGplc3QuZm4oKSxcbiAgICAgIHRyYW5zYWN0aW9uOiBqZXN0LmZuKChmbikgPT4gZm4pLFxuICAgICAgcHJhZ21hOiBqZXN0LmZuKCksXG4gICAgfTtcblxuICAgIERhdGFiYXNlLm1vY2tSZXR1cm5WYWx1ZShtb2NrRGIpO1xuICAgIHBlcnNpc3RlbmNlID0gbmV3IFBlcnNpc3RlbmNlTWFuYWdlcigpO1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEYXRhYmFzZSBDb25uZWN0aW9uIElzc3VlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBpbml0aWFsaXphdGlvbiBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgRGF0YWJhc2UubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb3BlbiBkYXRhYmFzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIG5ldyBQZXJzaXN0ZW5jZU1hbmFnZXIoKTtcbiAgICAgIH0pLnJlamVjdHMudG9UaHJvdygnQ2Fubm90IG9wZW4gZGF0YWJhc2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGNvcnJ1cHRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGIuZXhlYy5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGRpc2sgaW1hZ2UgaXMgbWFsZm9ybWVkJyk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHBlcnNpc3RlbmNlLmluaXRpYWxpemUoKSkucmVqZWN0cy50b1Rocm93KCdtYWxmb3JtZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0cnkgb24gZGF0YWJhc2UgbG9jaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICBtb2NrU3RtdC5ydW4ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgaWYgKGF0dGVtcHRzIDwgMykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZGF0YWJhc2UgaXMgbG9ja2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogMSB9O1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHBlcnNpc3RlbmNlLmluaXRpYWxpemUoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcnNpc3RlbmNlLnN0b3JlTWVtb3J5KCd0ZXN0JywgeyBkYXRhOiAndmFsdWUnIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGF0dGVtcHRzKS50b0JlKDMpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IFN0b3JhZ2UgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHBlcnNpc3RlbmNlLmluaXRpYWxpemUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGV4dHJlbWVseSBsYXJnZSBtZW1vcnkgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGFyZ2VEYXRhID0ge1xuICAgICAgICBhcnJheTogbmV3IEFycmF5KDEwMDAwKS5maWxsKCd4Jy5yZXBlYXQoMTAwKSksXG4gICAgICAgIG5lc3RlZDoge31cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBkZWVwbHkgbmVzdGVkIG9iamVjdFxuICAgICAgbGV0IGN1cnJlbnQgPSBsYXJnZURhdGEubmVzdGVkO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICBjdXJyZW50Lm5leHQgPSB7IGxldmVsOiBpIH07XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICB9XG5cbiAgICAgIG1vY2tTdG10LnJ1bi5tb2NrUmV0dXJuVmFsdWUoeyBjaGFuZ2VzOiAxIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJzaXN0ZW5jZS5zdG9yZU1lbW9yeSgnbGFyZ2UnLCBsYXJnZURhdGEpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNpcmN1bGFyIHJlZmVyZW5jZXMgaW4gbWVtb3J5IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjaXJjdWxhckRhdGEgPSB7IG5hbWU6ICd0ZXN0JyB9O1xuICAgICAgY2lyY3VsYXJEYXRhLnNlbGYgPSBjaXJjdWxhckRhdGE7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChwZXJzaXN0ZW5jZS5zdG9yZU1lbW9yeSgnY2lyY3VsYXInLCBjaXJjdWxhckRhdGEpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIGtleXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzcGVjaWFsS2V5cyA9IFtcbiAgICAgICAgJ2tleS93aXRoL3NsYXNoZXMnLFxuICAgICAgICAna2V5IHdpdGggc3BhY2VzJyxcbiAgICAgICAgJ2tleVwid2l0aFwicXVvdGVzJyxcbiAgICAgICAgJ2tleVxcJ3dpdGhcXCdhcG9zdHJvcGhlcycsXG4gICAgICAgICdrZXlcXFxcd2l0aFxcXFxiYWNrc2xhc2hlcycsXG4gICAgICAgICdrZXlcXG53aXRoXFxubmV3bGluZXMnLFxuICAgICAgICAna2V5XFx0d2l0aFxcdHRhYnMnLFxuICAgICAgICAn8J+UkWVtb2ppLWtlefCfl53vuI8nLFxuICAgICAgICAna2V5O2Ryb3AgdGFibGUgbWVtb3JpZXM7LS0nLFxuICAgICAgXTtcblxuICAgICAgbW9ja1N0bXQucnVuLm1vY2tSZXR1cm5WYWx1ZSh7IGNoYW5nZXM6IDEgfSk7XG4gICAgICBtb2NrU3RtdC5nZXQubW9ja1JldHVyblZhbHVlKHsgdmFsdWU6ICd7XCJ0ZXN0XCI6IHRydWV9JyB9KTtcblxuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc3BlY2lhbEtleXMpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgcGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkoa2V5LCB7IHRlc3Q6IHRydWUgfSk7XG4gICAgICAgIGV4cGVjdChzdG9yZWQpLnRvQmUodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXRyaWV2ZWQgPSBhd2FpdCBwZXJzaXN0ZW5jZS5yZXRyaWV2ZU1lbW9yeShrZXkpO1xuICAgICAgICBleHBlY3QocmV0cmlldmVkKS50b0VxdWFsKHsgdGVzdDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG51bGwgYW5kIHVuZGVmaW5lZCB2YWx1ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3RtdC5ydW4ubW9ja1JldHVyblZhbHVlKHsgY2hhbmdlczogMSB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KHBlcnNpc3RlbmNlLnN0b3JlTWVtb3J5KG51bGwsIHt9KSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkodW5kZWZpbmVkLCB7fSkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KHBlcnNpc3RlbmNlLnN0b3JlTWVtb3J5KCdrZXknLCBudWxsKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkoJ2tleScsIHVuZGVmaW5lZCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgbWVtb3J5IG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3RtdC5ydW4ubW9ja1JldHVyblZhbHVlKHsgY2hhbmdlczogMSB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChwZXJzaXN0ZW5jZS5zdG9yZU1lbW9yeShga2V5LSR7aX1gLCB7IGluZGV4OiBpIH0pKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmV2ZXJ5KHIgPT4gciA9PT0gdHJ1ZSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZW1vcnkgUmV0cmlldmFsIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBwZXJzaXN0ZW5jZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb3JydXB0ZWQgSlNPTiBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N0bXQuZ2V0Lm1vY2tSZXR1cm5WYWx1ZSh7IHZhbHVlOiAnaW52YWxpZCBqc29ueycgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcnNpc3RlbmNlLnJldHJpZXZlTWVtb3J5KCdjb3JydXB0ZWQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIG1lbW9yeSBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N0bXQuZ2V0Lm1vY2tSZXR1cm5WYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJzaXN0ZW5jZS5yZXRyaWV2ZU1lbW9yeSgnbm9uZXhpc3RlbnQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgZHVyaW5nIHJldHJpZXZhbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdG10LmdldC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rpc2sgSS9PIGVycm9yJyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KHBlcnNpc3RlbmNlLnJldHJpZXZlTWVtb3J5KCdrZXknKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnRGlzayBJL08gZXJyb3InKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBMaXN0aW5nIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBwZXJzaXN0ZW5jZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV4IGdsb2IgcGF0dGVybnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXR0ZXJucyA9IFtcbiAgICAgICAgJyoqL2RlZXAvcGF0aC8qKicsXG4gICAgICAgICdbYS16XSpbMC05XScsXG4gICAgICAgICc/KGF8YnxjKScsXG4gICAgICAgICchKGV4Y2x1ZGUpKicsXG4gICAgICAgICdAKHBhdHRlcm4xfHBhdHRlcm4yKScsXG4gICAgICBdO1xuXG4gICAgICBtb2NrU3RtdC5hbGwubW9ja1JldHVyblZhbHVlKFtcbiAgICAgICAgeyBrZXk6ICdtYXRjaDEnLCB2YWx1ZTogJ3t9JywgbWV0YWRhdGE6ICd7fScgfSxcbiAgICAgICAgeyBrZXk6ICdtYXRjaDInLCB2YWx1ZTogJ3t9JywgbWV0YWRhdGE6ICd7fScgfSxcbiAgICAgIF0pO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgcGF0dGVybnMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBlcnNpc3RlbmNlLmxpc3RNZW1vcnkocGF0dGVybik7XG4gICAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdHMpKS50b0JlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgcmVzdWx0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdG10LmFsbC5tb2NrUmV0dXJuVmFsdWUoW10pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcGVyc2lzdGVuY2UubGlzdE1lbW9yeSgnKicpO1xuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsYXJnZSByZXN1bHQgc2V0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlUmVzdWx0cyA9IEFycmF5KDEwMDAwKS5maWxsKG51bGwpLm1hcCgoXywgaSkgPT4gKHtcbiAgICAgICAga2V5OiBga2V5LSR7aX1gLFxuICAgICAgICB2YWx1ZTogJ3tcImRhdGFcIjogXCJ0ZXN0XCJ9JyxcbiAgICAgICAgbWV0YWRhdGE6ICd7XCJhY2Nlc3NlZFwiOiAwfScsXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIG1vY2tTdG10LmFsbC5tb2NrUmV0dXJuVmFsdWUobGFyZ2VSZXN1bHRzKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHBlcnNpc3RlbmNlLmxpc3RNZW1vcnkoJyonKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzLmxlbmd0aCkudG9CZSgxMDAwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdOZXVyYWwgTW9kZWwgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHBlcnNpc3RlbmNlLmluaXRpYWxpemUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgbW9kZWwgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChwZXJzaXN0ZW5jZS5zYXZlTmV1cmFsTW9kZWwoJ2FnZW50MScsICdtb2RlbDEnLCBudWxsKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocGVyc2lzdGVuY2Uuc2F2ZU5ldXJhbE1vZGVsKCdhZ2VudDEnLCAnbW9kZWwxJywgJ25vdC1hbi1vYmplY3QnKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbW9kZWwgbmFtZSBjb25mbGljdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RlbERhdGEgPSB7IHdlaWdodHM6IFsxLCAyLCAzXSB9O1xuICAgICAgXG4gICAgICBtb2NrU3RtdC5ydW4ubW9ja1JldHVyblZhbHVlKHsgY2hhbmdlczogMSB9KTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSBmaXJzdCBtb2RlbFxuICAgICAgYXdhaXQgcGVyc2lzdGVuY2Uuc2F2ZU5ldXJhbE1vZGVsKCdhZ2VudDEnLCAnbW9kZWwxJywgbW9kZWxEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIHNhdmUgd2l0aCBzYW1lIG5hbWUgLSBzaG91bGQgdXBkYXRlXG4gICAgICBjb25zdCB1cGRhdGVkRGF0YSA9IHsgd2VpZ2h0czogWzQsIDUsIDZdIH07XG4gICAgICBhd2FpdCBwZXJzaXN0ZW5jZS5zYXZlTmV1cmFsTW9kZWwoJ2FnZW50MScsICdtb2RlbDEnLCB1cGRhdGVkRGF0YSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrU3RtdC5ydW4pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIG5ldXJhbCBtb2RlbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZU1vZGVsID0ge1xuICAgICAgICB3ZWlnaHRzOiBuZXcgQXJyYXkoMTAwMDAwMCkuZmlsbCgwKS5tYXAoKCkgPT4gTWF0aC5yYW5kb20oKSksXG4gICAgICAgIGJpYXNlczogbmV3IEFycmF5KDEwMDAwKS5maWxsKDApLm1hcCgoKSA9PiBNYXRoLnJhbmRvbSgpKSxcbiAgICAgICAgYXJjaGl0ZWN0dXJlOiB7XG4gICAgICAgICAgbGF5ZXJzOiBBcnJheSgxMDApLmZpbGwoeyBuZXVyb25zOiAxMDAwIH0pLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja1N0bXQucnVuLm1vY2tSZXR1cm5WYWx1ZSh7IGNoYW5nZXM6IDEgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcnNpc3RlbmNlLnNhdmVOZXVyYWxNb2RlbCgnYWdlbnQxJywgJ2xhcmdlJywgbGFyZ2VNb2RlbCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVHJhaW5pbmcgRGF0YSBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcGVyc2lzdGVuY2UuaW5pdGlhbGl6ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgdHJhaW5pbmcgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChwZXJzaXN0ZW5jZS5zYXZlVHJhaW5pbmdEYXRhKCdzZXNzaW9uMScsIFtdKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIHRyYWluaW5nIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtYWxmb3JtZWREYXRhID0gW1xuICAgICAgICB7IGlucHV0OiBbMSwgMl0sIG91dHB1dDogWzFdIH0sXG4gICAgICAgIHsgaW5wdXQ6IFsxXSwgb3V0cHV0OiBbMSwgMl0gfSwgLy8gTWlzbWF0Y2hlZCBkaW1lbnNpb25zXG4gICAgICAgIHsgaW5wdXQ6IG51bGwsIG91dHB1dDogWzFdIH0sXG4gICAgICAgIHsgb3V0cHV0OiBbMV0gfSwgLy8gTWlzc2luZyBpbnB1dFxuICAgICAgXTtcblxuICAgICAgbW9ja1N0bXQucnVuLm1vY2tSZXR1cm5WYWx1ZSh7IGNoYW5nZXM6IDEgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBmaWx0ZXIgb3V0IGludmFsaWQgZW50cmllc1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyc2lzdGVuY2Uuc2F2ZVRyYWluaW5nRGF0YSgnc2Vzc2lvbjEnLCBtYWxmb3JtZWREYXRhKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB0cmFpbmluZyBkYXRhIHdpdGggTmFOIG9yIEluZmluaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvYmxlbWF0aWNEYXRhID0gW1xuICAgICAgICB7IGlucHV0OiBbMSwgTmFOLCAzXSwgb3V0cHV0OiBbMV0gfSxcbiAgICAgICAgeyBpbnB1dDogWzEsIDIsIDNdLCBvdXRwdXQ6IFtJbmZpbml0eV0gfSxcbiAgICAgICAgeyBpbnB1dDogWy1JbmZpbml0eSwgMiwgM10sIG91dHB1dDogWzFdIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrU3RtdC5ydW4ubW9ja1JldHVyblZhbHVlKHsgY2hhbmdlczogMSB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGVyc2lzdGVuY2Uuc2F2ZVRyYWluaW5nRGF0YSgnc2Vzc2lvbjEnLCBwcm9ibGVtYXRpY0RhdGEpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGFiYXNlIE1haW50ZW5hbmNlIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBwZXJzaXN0ZW5jZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjbGVhbnVwIGR1cmluZyBhY3RpdmUgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFNpbXVsYXRlIGFjdGl2ZSBvcGVyYXRpb25zXG4gICAgICBjb25zdCBzdG9yZVByb21pc2VzID0gQXJyYXkoMTApLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiBcbiAgICAgICAgcGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkoYGFjdGl2ZS0ke2l9YCwgeyBkYXRhOiBpIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBSdW4gY2xlYW51cCB3aGlsZSBvcGVyYXRpb25zIGFyZSBpbiBwcm9ncmVzc1xuICAgICAgY29uc3QgY2xlYW51cFByb21pc2UgPSBwZXJzaXN0ZW5jZS5jbGVhbnVwKCk7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsuLi5zdG9yZVByb21pc2VzLCBjbGVhbnVwUHJvbWlzZV0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aG91dCBlcnJvcnNcbiAgICAgIGV4cGVjdChtb2NrRGIuZXhlYykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ1ZBQ1VVTScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgY2xvc2Ugd2l0aCBwZW5kaW5nIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwZW5kaW5nT3BzID0gW107XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBvcGVyYXRpb25zIHRoYXQgd2lsbCBiZSBwZW5kaW5nXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICBwZW5kaW5nT3BzLnB1c2goXG4gICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkoYHBlbmRpbmctJHtpfWAsIHsgZGF0YTogaSB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBDbG9zZSBpbW1lZGlhdGVseVxuICAgICAgYXdhaXQgcGVyc2lzdGVuY2UuY2xvc2UoKTtcbiAgICAgIFxuICAgICAgLy8gUGVuZGluZyBvcGVyYXRpb25zIHNob3VsZCBoYW5kbGUgZ3JhY2VmdWxseVxuICAgICAgYXdhaXQgZXhwZWN0KFByb21pc2UuYWxsKHBlbmRpbmdPcHMpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFZBQ1VVTSBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0RiLmV4ZWMubW9ja0ltcGxlbWVudGF0aW9uKChzcWwpID0+IHtcbiAgICAgICAgaWYgKHNxbCA9PT0gJ1ZBQ1VVTScpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGFiYXNlIG9yIGRpc2sgaXMgZnVsbCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHBlcnNpc3RlbmNlLmNsZWFudXAoKSkucmVqZWN0cy50b1Rocm93KCdmdWxsJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUcmFuc2FjdGlvbiBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcGVyc2lzdGVuY2UuaW5pdGlhbGl6ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByb2xsYmFjayBvbiB0cmFuc2FjdGlvbiBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgcm9sbGJhY2tGbiA9IGplc3QuZm4oKTtcbiAgICAgIG1vY2tEYi50cmFuc2FjdGlvbi5tb2NrSW1wbGVtZW50YXRpb24oKGZuKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByb2xsYmFja0ZuKCk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tTdG10LnJ1bi5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cmFpbnQgdmlvbGF0aW9uJyk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHBlcnNpc3RlbmNlLnN0b3JlTWVtb3J5KCdrZXknLCB7IGRhdGE6ICd0ZXN0JyB9KSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnY29uc3RyYWludCB2aW9sYXRpb24nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJvbGxiYWNrRm4pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG5lc3RlZCB0cmFuc2FjdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgdHJhbnNhY3Rpb25EZXB0aCA9IDA7XG4gICAgICBtb2NrRGIudHJhbnNhY3Rpb24ubW9ja0ltcGxlbWVudGF0aW9uKChmbikgPT4ge1xuICAgICAgICB0cmFuc2FjdGlvbkRlcHRoKys7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGZuKCk7XG4gICAgICAgIHRyYW5zYWN0aW9uRGVwdGgtLTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrU3RtdC5ydW4ubW9ja1JldHVyblZhbHVlKHsgY2hhbmdlczogMSB9KTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgb3BlcmF0aW9ucyB0aGF0IG1pZ2h0IGNyZWF0ZSBuZXN0ZWQgdHJhbnNhY3Rpb25zXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHBlcnNpc3RlbmNlLnN0b3JlTWVtb3J5KCdrZXkxJywgeyBkYXRhOiAxIH0pLFxuICAgICAgICBwZXJzaXN0ZW5jZS5zdG9yZU1lbW9yeSgna2V5MicsIHsgZGF0YTogMiB9KSxcbiAgICAgICAgcGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkoJ2tleTMnLCB7IGRhdGE6IDMgfSksXG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uRGVwdGgpLnRvQmUoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXNvdXJjZSBMaW1pdHMnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBwZXJzaXN0ZW5jZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtZW1vcnkgcHJlc3N1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBTaW11bGF0ZSBsb3cgbWVtb3J5IGJ5IHN0b3JpbmcgbWFueSBsYXJnZSBvYmplY3RzXG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxhcmdlT2JqZWN0ID0ge1xuICAgICAgICAgIGRhdGE6IG5ldyBBcnJheSgxMDAwMCkuZmlsbCgneCcucmVwZWF0KDEwMCkpLFxuICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICB9O1xuICAgICAgICBwcm9taXNlcy5wdXNoKHBlcnNpc3RlbmNlLnN0b3JlTWVtb3J5KGBtZW0tJHtpfWAsIGxhcmdlT2JqZWN0KSk7XG4gICAgICB9XG5cbiAgICAgIG1vY2tTdG10LnJ1bi5tb2NrUmV0dXJuVmFsdWUoeyBjaGFuZ2VzOiAxIH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIHdpdGhvdXQgY3Jhc2hpbmdcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IHJlc3VsdHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKS5sZW5ndGg7XG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbmZvcmNlIHJlYXNvbmFibGUgbGltaXRzIG9uIGJhdGNoIG9wZXJhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBodWdlQmF0Y2ggPSBBcnJheSgxMDAwMCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+ICh7XG4gICAgICAgIGtleTogYGJhdGNoLSR7aX1gLFxuICAgICAgICB2YWx1ZTogeyBkYXRhOiBpIH0sXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIFNob3VsZCBwcm9jZXNzIGluIGNodW5rcyByYXRoZXIgdGhhbiBhbGwgYXQgb25jZVxuICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWdlQmF0Y2gubGVuZ3RoOyBpICs9IDEwMCkge1xuICAgICAgICBjb25zdCBjaHVuayA9IGh1Z2VCYXRjaC5zbGljZShpLCBpICsgMTAwKTtcbiAgICAgICAgY29uc3QgY2h1bmtSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgY2h1bmsubWFwKGl0ZW0gPT4gcGVyc2lzdGVuY2Uuc3RvcmVNZW1vcnkoaXRlbS5rZXksIGl0ZW0udmFsdWUpKVxuICAgICAgICApO1xuICAgICAgICByZXN1bHRzLnB1c2goLi4uY2h1bmtSZXN1bHRzKTtcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KHJlc3VsdHMubGVuZ3RoKS50b0JlKDEwMDAwKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQVNBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0FBQzNCRCxXQUFBLEdBQUtDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTztFQUNyQkMsUUFBUSxF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