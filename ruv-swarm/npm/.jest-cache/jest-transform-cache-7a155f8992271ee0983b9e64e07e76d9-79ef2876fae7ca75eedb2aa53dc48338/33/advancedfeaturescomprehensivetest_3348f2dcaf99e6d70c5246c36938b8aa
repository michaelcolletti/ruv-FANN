249a3173dbfcd45796f0be51ec9f2662
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
/**
 * Advanced Features - Comprehensive Test Suite
 * Achieves 80%+ coverage for cognitive-pattern-evolution.js, meta-learning-framework.js,
 * neural-coordination-protocol.js, and wasm-memory-optimizer.js
 */

import { describe, test, expect, beforeEach, afterEach, jest } from '@jest/globals';
import { promises as fs } from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Mock WebAssembly for WASM tests
global.WebAssembly = {
  Memory: jest.fn().mockImplementation(config => ({
    buffer: new ArrayBuffer(config.initial * 64 * 1024),
    grow: jest.fn().mockReturnValue(0)
  }))
};
describe('Advanced Features - Complete Coverage', () => {
  let testTempDir;
  beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
    testTempDir = path.join(__dirname, `test-temp-${Date.now()}`);
  }));
  afterEach(() => {
    jest.clearAllMocks();
  });
  describe('Cognitive Pattern Evolution - Complete Coverage', () => {
    let CognitivePatternEvolution;
    beforeEach(/*#__PURE__*/_asyncToGenerator(function* () {
      try {
        const module = yield import('../src/cognitive-pattern-evolution.js');
        CognitivePatternEvolution = module.default || module.CognitivePatternEvolution;
      } catch (error) {
        // Comprehensive mock implementation
        CognitivePatternEvolution = class {
          constructor() {
            this.agentPatterns = new Map();
            this.evolutionHistory = new Map();
            this.patternTemplates = new Map();
            this.crossAgentPatterns = new Map();
            this.evolutionMetrics = new Map();
            this.adaptationRules = new Map();
            this.contextualPatterns = new Map();
            this.emergentBehaviors = new Map();
            this.initializePatternTemplates();
            this.initializeAdaptationRules();
          }
          initializePatternTemplates() {
            // Convergent thinking patterns
            this.patternTemplates.set('convergent', {
              name: 'Convergent Thinking',
              description: 'Focus on single optimal solutions',
              characteristics: {
                searchStrategy: 'directed',
                explorationRate: 0.1,
                exploitationRate: 0.9,
                decisionMaking: 'decisive',
                patternRecognition: 'exact_match',
                cognitiveLoad: 'low',
                adaptability: 0.3
              },
              adaptationRules: {
                increasePrecision: context => context.accuracy > 0.8,
                reduceExploration: context => context.confidence > 0.7,
                focusAttention: context => context.taskComplexity < 0.5
              },
              evolutionTriggers: ['high_accuracy', 'low_variance', 'time_pressure']
            });

            // Divergent thinking patterns
            this.patternTemplates.set('divergent', {
              name: 'Divergent Thinking',
              description: 'Explore multiple creative solutions',
              characteristics: {
                searchStrategy: 'random',
                explorationRate: 0.8,
                exploitationRate: 0.2,
                decisionMaking: 'exploratory',
                patternRecognition: 'flexible_match',
                cognitiveLoad: 'high',
                adaptability: 0.9
              },
              adaptationRules: {
                increaseCreativity: context => context.noveltyScore > 0.6,
                expandSearch: context => context.solutionDiversity < 0.5,
                encourageRisk: context => context.safetyMargin > 0.8
              },
              evolutionTriggers: ['low_progress', 'need_innovation', 'creative_block']
            });

            // Lateral thinking patterns
            this.patternTemplates.set('lateral', {
              name: 'Lateral Thinking',
              description: 'Approach problems from unexpected angles',
              characteristics: {
                searchStrategy: 'lateral',
                explorationRate: 0.6,
                exploitationRate: 0.4,
                decisionMaking: 'innovative',
                patternRecognition: 'analogical',
                cognitiveLoad: 'medium',
                adaptability: 0.7
              },
              adaptationRules: {
                seekAlternatives: context => context.standardSolutionFailed,
                useAnalogies: context => context.domainKnowledge > 0.5,
                breakAssumptions: context => context.progressStalled
              },
              evolutionTriggers: ['traditional_failure', 'paradigm_shift', 'cross_domain']
            });

            // Systems thinking patterns
            this.patternTemplates.set('systems', {
              name: 'Systems Thinking',
              description: 'Consider holistic interconnections and emergent properties',
              characteristics: {
                searchStrategy: 'holistic',
                explorationRate: 0.4,
                exploitationRate: 0.6,
                decisionMaking: 'systemic',
                patternRecognition: 'pattern_networks',
                cognitiveLoad: 'very_high',
                adaptability: 0.5
              },
              adaptationRules: {
                mapConnections: context => context.systemComplexity > 0.7,
                identifyFeedback: context => context.iterationCount > 5,
                emergentProperties: context => context.componentInteractions > 0.6
              },
              evolutionTriggers: ['system_complexity', 'interconnected_failure', 'emergent_behavior']
            });

            // Critical thinking patterns
            this.patternTemplates.set('critical', {
              name: 'Critical Thinking',
              description: 'Systematic evaluation and logical analysis',
              characteristics: {
                searchStrategy: 'systematic',
                explorationRate: 0.3,
                exploitationRate: 0.7,
                decisionMaking: 'analytical',
                patternRecognition: 'logical_inference',
                cognitiveLoad: 'medium',
                adaptability: 0.4
              },
              adaptationRules: {
                validateEvidence: context => context.evidenceQuality < 0.6,
                challengeAssumptions: context => context.biasDetected,
                structureArguments: context => context.logicalGaps > 0.3
              },
              evolutionTriggers: ['logical_inconsistency', 'evidence_conflict', 'bias_detection']
            });

            // Adaptive thinking patterns
            this.patternTemplates.set('adaptive', {
              name: 'Adaptive Thinking',
              description: 'Dynamic adjustment based on context and feedback',
              characteristics: {
                searchStrategy: 'context_dependent',
                explorationRate: 0.5,
                exploitationRate: 0.5,
                decisionMaking: 'flexible',
                patternRecognition: 'context_aware',
                cognitiveLoad: 'variable',
                adaptability: 1.0
              },
              adaptationRules: {
                adjustToContext: context => context.environmentChange > 0.4,
                balanceExploration: context => context.performance.variance > 0.3,
                learnFromFeedback: context => context.feedbackAvailable
              },
              evolutionTriggers: ['context_change', 'performance_plateau', 'new_information']
            });
          }
          initializeAdaptationRules() {
            this.adaptationRules.set('performance_based', {
              trigger: context => context.performance.recent < context.performance.baseline * 0.8,
              adaptation: (pattern, context) => {
                return _objectSpread(_objectSpread({}, pattern), {}, {
                  characteristics: _objectSpread(_objectSpread({}, pattern.characteristics), {}, {
                    explorationRate: Math.min(pattern.characteristics.explorationRate * 1.2, 1.0),
                    adaptability: Math.min(pattern.characteristics.adaptability * 1.1, 1.0)
                  })
                });
              }
            });
            this.adaptationRules.set('context_based', {
              trigger: context => context.environmentChange > 0.5,
              adaptation: (pattern, context) => {
                const adaptationFactor = context.environmentChange;
                return _objectSpread(_objectSpread({}, pattern), {}, {
                  characteristics: _objectSpread(_objectSpread({}, pattern.characteristics), {}, {
                    explorationRate: pattern.characteristics.explorationRate * (1 + adaptationFactor * 0.3),
                    exploitationRate: pattern.characteristics.exploitationRate * (1 - adaptationFactor * 0.2)
                  })
                });
              }
            });
            this.adaptationRules.set('feedback_based', {
              trigger: context => context.feedback && context.feedback.quality > 0.7,
              adaptation: (pattern, context) => {
                const feedback = context.feedback;
                const adjustmentFactor = feedback.sentiment > 0 ? 1.1 : 0.9;
                return _objectSpread(_objectSpread({}, pattern), {}, {
                  characteristics: _objectSpread(_objectSpread({}, pattern.characteristics), {}, {
                    decisionMaking: feedback.suggests_more_analysis ? 'analytical' : pattern.characteristics.decisionMaking,
                    adaptability: pattern.characteristics.adaptability * adjustmentFactor
                  })
                });
              }
            });
          }
          evolvePattern(agentId, context, feedback) {
            var _this = this;
            return _asyncToGenerator(function* () {
              const currentPattern = _this.agentPatterns.get(agentId) || _this.selectInitialPattern(context);

              // Analyze evolution need
              const evolutionNeed = _this.analyzeEvolutionNeed(currentPattern, context, feedback);
              if (!evolutionNeed.required) {
                return {
                  success: true,
                  evolved: false,
                  currentPattern: currentPattern.name,
                  reason: evolutionNeed.reason
                };
              }

              // Apply evolution
              const evolvedPattern = yield _this.applyEvolution(currentPattern, context, feedback, evolutionNeed);

              // Update agent pattern
              _this.agentPatterns.set(agentId, evolvedPattern);

              // Record evolution history
              _this.recordEvolution(agentId, currentPattern, evolvedPattern, context, feedback);

              // Update metrics
              _this.updateEvolutionMetrics(agentId, evolvedPattern, evolutionNeed);
              return {
                success: true,
                evolved: true,
                previousPattern: currentPattern.name,
                newPattern: evolvedPattern.name,
                confidence: evolvedPattern.confidence || 0.85,
                adaptationScore: evolutionNeed.score,
                improvements: evolvedPattern.improvements || []
              };
            })();
          }
          selectInitialPattern(context) {
            const contextFactors = {
              complexity: context.taskComplexity || 0.5,
              timeConstraint: context.timeConstraint || 0.5,
              creativity: context.creativityRequired || 0.5,
              accuracy: context.accuracyRequired || 0.5
            };

            // Pattern selection logic
            if (contextFactors.accuracy > 0.8 && contextFactors.timeConstraint > 0.7) {
              return this.patternTemplates.get('convergent');
            }
            if (contextFactors.creativity > 0.7) {
              return this.patternTemplates.get('divergent');
            }
            if (contextFactors.complexity > 0.8) {
              return this.patternTemplates.get('systems');
            }
            return this.patternTemplates.get('adaptive');
          }
          analyzeEvolutionNeed(currentPattern, context, feedback) {
            const triggers = [];
            let score = 0;

            // Check performance triggers
            if (feedback && feedback.performance < 0.6) {
              triggers.push('poor_performance');
              score += 0.3;
            }

            // Check context triggers
            if (context.environmentChange > 0.4) {
              triggers.push('environment_change');
              score += 0.2;
            }

            // Check pattern-specific triggers
            const patternTriggers = currentPattern.evolutionTriggers || [];
            for (const trigger of patternTriggers) {
              if (this.checkTriggerCondition(trigger, context, feedback)) {
                triggers.push(trigger);
                score += 0.15;
              }
            }

            // Check adaptation rules
            for (const [ruleName, rule] of this.adaptationRules) {
              if (rule.trigger(context)) {
                triggers.push(ruleName);
                score += 0.1;
              }
            }
            return {
              required: score > 0.3,
              score,
              triggers,
              reason: triggers.length > 0 ? `Triggered by: ${triggers.join(', ')}` : 'No evolution needed'
            };
          }
          checkTriggerCondition(trigger, context, feedback) {
            const conditions = {
              'high_accuracy': () => feedback && feedback.accuracy > 0.9,
              'low_variance': () => context.variance < 0.1,
              'time_pressure': () => context.timeConstraint > 0.8,
              'low_progress': () => context.progressRate < 0.3,
              'need_innovation': () => context.stagnationTime > 5,
              'creative_block': () => context.ideaGeneration < 0.2,
              'traditional_failure': () => context.standardApproachFailed,
              'paradigm_shift': () => context.paradigmChange,
              'cross_domain': () => context.crossDomainRequired,
              'system_complexity': () => context.systemComplexity > 0.8,
              'interconnected_failure': () => context.cascadingFailures > 2,
              'emergent_behavior': () => context.emergentProperties.length > 0,
              'logical_inconsistency': () => context.logicalErrors > 0,
              'evidence_conflict': () => context.conflictingEvidence,
              'bias_detection': () => context.biasScore > 0.6,
              'context_change': () => context.environmentChange > 0.5,
              'performance_plateau': () => context.performanceStagnant,
              'new_information': () => context.newInformation
            };
            return conditions[trigger] ? conditions[trigger]() : false;
          }
          applyEvolution(currentPattern, context, feedback, evolutionNeed) {
            var _this2 = this;
            return _asyncToGenerator(function* () {
              let evolvedPattern = _objectSpread({}, currentPattern);

              // Apply adaptation rules
              for (const [ruleName, rule] of _this2.adaptationRules) {
                if (evolutionNeed.triggers.includes(ruleName)) {
                  evolvedPattern = rule.adaptation(evolvedPattern, context);
                }
              }

              // Apply pattern-specific evolution
              evolvedPattern = _this2.applyPatternSpecificEvolution(evolvedPattern, context, feedback);

              // Calculate confidence and improvements
              evolvedPattern.confidence = _this2.calculateEvolutionConfidence(currentPattern, evolvedPattern, context);
              evolvedPattern.improvements = _this2.identifyImprovements(currentPattern, evolvedPattern);
              return evolvedPattern;
            })();
          }
          applyPatternSpecificEvolution(pattern, context, feedback) {
            const evolved = _objectSpread({}, pattern);

            // Adjust exploration/exploitation based on performance
            if (feedback && feedback.performance) {
              if (feedback.performance < 0.5) {
                evolved.characteristics.explorationRate = Math.min(evolved.characteristics.explorationRate * 1.3, 1.0);
                evolved.characteristics.exploitationRate = Math.max(evolved.characteristics.exploitationRate * 0.8, 0.1);
              } else if (feedback.performance > 0.8) {
                evolved.characteristics.exploitationRate = Math.min(evolved.characteristics.exploitationRate * 1.2, 1.0);
              }
            }

            // Adjust cognitive load based on complexity
            if (context.taskComplexity) {
              const complexityAdjustment = context.taskComplexity / (evolved.characteristics.cognitiveLoad === 'low' ? 1 : evolved.characteristics.cognitiveLoad === 'medium' ? 2 : evolved.characteristics.cognitiveLoad === 'high' ? 3 : 4);
              if (complexityAdjustment > 1.5) {
                evolved.characteristics.cognitiveLoad = 'high';
              } else if (complexityAdjustment < 0.5) {
                evolved.characteristics.cognitiveLoad = 'low';
              }
            }
            return evolved;
          }
          calculateEvolutionConfidence(oldPattern, newPattern, context) {
            let confidence = 0.5;

            // Factor in context alignment
            confidence += this.calculateContextAlignment(newPattern, context) * 0.3;

            // Factor in adaptation score
            confidence += newPattern.characteristics.adaptability * 0.2;

            // Factor in historical success
            const historicalSuccess = this.getHistoricalSuccess(newPattern.name);
            confidence += historicalSuccess * 0.3;

            // Factor in improvement magnitude
            const improvements = this.identifyImprovements(oldPattern, newPattern);
            confidence += improvements.length / 10 * 0.2;
            return Math.min(confidence, 1.0);
          }
          calculateContextAlignment(pattern, context) {
            let alignment = 0;
            let factors = 0;
            if (context.taskComplexity !== undefined) {
              const complexityMatch = this.matchComplexity(pattern, context.taskComplexity);
              alignment += complexityMatch;
              factors++;
            }
            if (context.timeConstraint !== undefined) {
              const timeMatch = this.matchTimeConstraint(pattern, context.timeConstraint);
              alignment += timeMatch;
              factors++;
            }
            if (context.creativityRequired !== undefined) {
              const creativityMatch = this.matchCreativity(pattern, context.creativityRequired);
              alignment += creativityMatch;
              factors++;
            }
            return factors > 0 ? alignment / factors : 0.5;
          }
          matchComplexity(pattern, complexity) {
            const patternComplexity = {
              'convergent': 0.3,
              'divergent': 0.7,
              'lateral': 0.6,
              'systems': 0.9,
              'critical': 0.5,
              'adaptive': 0.5
            };
            const patternScore = patternComplexity[pattern.name.toLowerCase().replace(' thinking', '')] || 0.5;
            return 1 - Math.abs(patternScore - complexity);
          }
          matchTimeConstraint(pattern, timeConstraint) {
            const patternSpeed = {
              'convergent': 0.9,
              'divergent': 0.3,
              'lateral': 0.6,
              'systems': 0.2,
              'critical': 0.7,
              'adaptive': 0.6
            };
            const patternScore = patternSpeed[pattern.name.toLowerCase().replace(' thinking', '')] || 0.5;
            return timeConstraint > 0.7 ? patternScore : 1 - patternScore;
          }
          matchCreativity(pattern, creativity) {
            const patternCreativity = {
              'convergent': 0.2,
              'divergent': 0.9,
              'lateral': 0.8,
              'systems': 0.6,
              'critical': 0.4,
              'adaptive': 0.7
            };
            const patternScore = patternCreativity[pattern.name.toLowerCase().replace(' thinking', '')] || 0.5;
            return 1 - Math.abs(patternScore - creativity);
          }
          getHistoricalSuccess(patternName) {
            const history = this.evolutionHistory.get(patternName) || {
              successes: 0,
              attempts: 1
            };
            return history.successes / history.attempts;
          }
          identifyImprovements(oldPattern, newPattern) {
            const improvements = [];
            if (newPattern.characteristics.explorationRate > oldPattern.characteristics.explorationRate) {
              improvements.push('increased_exploration');
            }
            if (newPattern.characteristics.exploitationRate > oldPattern.characteristics.exploitationRate) {
              improvements.push('increased_exploitation');
            }
            if (newPattern.characteristics.adaptability > oldPattern.characteristics.adaptability) {
              improvements.push('increased_adaptability');
            }
            return improvements;
          }
          recordEvolution(agentId, oldPattern, newPattern, context, feedback) {
            const evolutionRecord = {
              agentId,
              timestamp: Date.now(),
              from: oldPattern.name,
              to: newPattern.name,
              context: {
                taskComplexity: context.taskComplexity,
                timeConstraint: context.timeConstraint,
                environmentChange: context.environmentChange
              },
              feedback: feedback ? {
                performance: feedback.performance,
                accuracy: feedback.accuracy
              } : null,
              confidence: newPattern.confidence
            };
            const agentHistory = this.evolutionHistory.get(agentId) || [];
            agentHistory.push(evolutionRecord);
            this.evolutionHistory.set(agentId, agentHistory);
          }
          updateEvolutionMetrics(agentId, pattern, evolutionNeed) {
            const metrics = this.evolutionMetrics.get(agentId) || {
              totalEvolutions: 0,
              averageConfidence: 0,
              patternDistribution: {},
              adaptationScores: []
            };
            metrics.totalEvolutions++;
            metrics.averageConfidence = (metrics.averageConfidence * (metrics.totalEvolutions - 1) + pattern.confidence) / metrics.totalEvolutions;
            metrics.patternDistribution[pattern.name] = (metrics.patternDistribution[pattern.name] || 0) + 1;
            metrics.adaptationScores.push(evolutionNeed.score);
            this.evolutionMetrics.set(agentId, metrics);
          }
          crossAgentLearning(agentIds, sharedContext) {
            var _this3 = this;
            return _asyncToGenerator(function* () {
              const learningResults = {
                success: true,
                participatingAgents: agentIds.length,
                transferredPatterns: 0,
                improvements: [],
                knowledgeGraph: new Map(),
                emergentPatterns: []
              };

              // Collect patterns from all agents
              const agentPatterns = new Map();
              for (const agentId of agentIds) {
                const pattern = _this3.agentPatterns.get(agentId);
                if (pattern) {
                  agentPatterns.set(agentId, pattern);
                }
              }

              // Analyze pattern relationships
              const patternRelationships = _this3.analyzePatternRelationships(agentPatterns);

              // Identify successful patterns
              const successfulPatterns = _this3.identifySuccessfulPatterns(agentPatterns, sharedContext);

              // Transfer knowledge between agents
              for (const [sourceAgent, sourcePattern] of agentPatterns) {
                for (const [targetAgent, targetPattern] of agentPatterns) {
                  if (sourceAgent !== targetAgent) {
                    const transfer = yield _this3.transferPattern(sourceAgent, sourcePattern, targetAgent, targetPattern, sharedContext);
                    if (transfer.success) {
                      learningResults.transferredPatterns++;
                      learningResults.improvements.push(transfer.improvement);
                    }
                  }
                }
              }

              // Detect emergent patterns
              const emergentPatterns = _this3.detectEmergentPatterns(agentPatterns, sharedContext);
              learningResults.emergentPatterns = emergentPatterns;

              // Update cross-agent patterns
              _this3.crossAgentPatterns.set(sharedContext.domain || 'general', {
                timestamp: Date.now(),
                participatingAgents: agentIds,
                patterns: Array.from(agentPatterns.values()),
                relationships: patternRelationships,
                emergentPatterns
              });
              return learningResults;
            })();
          }
          analyzePatternRelationships(agentPatterns) {
            const relationships = new Map();
            for (const [agent1, pattern1] of agentPatterns) {
              for (const [agent2, pattern2] of agentPatterns) {
                if (agent1 !== agent2) {
                  const similarity = this.calculatePatternSimilarity(pattern1, pattern2);
                  const compatibility = this.calculatePatternCompatibility(pattern1, pattern2);
                  relationships.set(`${agent1}-${agent2}`, {
                    similarity,
                    compatibility,
                    synergy: (similarity + compatibility) / 2
                  });
                }
              }
            }
            return relationships;
          }
          calculatePatternSimilarity(pattern1, pattern2) {
            let similarity = 0;
            let comparisons = 0;
            const char1 = pattern1.characteristics;
            const char2 = pattern2.characteristics;

            // Compare numerical characteristics
            const numericFields = ['explorationRate', 'exploitationRate', 'adaptability'];
            for (const field of numericFields) {
              if (char1[field] !== undefined && char2[field] !== undefined) {
                similarity += 1 - Math.abs(char1[field] - char2[field]);
                comparisons++;
              }
            }

            // Compare categorical characteristics
            const categoricalFields = ['searchStrategy', 'decisionMaking', 'patternRecognition'];
            for (const field of categoricalFields) {
              if (char1[field] && char2[field]) {
                similarity += char1[field] === char2[field] ? 1 : 0;
                comparisons++;
              }
            }
            return comparisons > 0 ? similarity / comparisons : 0;
          }
          calculatePatternCompatibility(pattern1, pattern2) {
            // Patterns are compatible if they complement each other
            const char1 = pattern1.characteristics;
            const char2 = pattern2.characteristics;
            let compatibility = 0;

            // High exploration with high exploitation is compatible
            if (char1.explorationRate > 0.6 && char2.exploitationRate > 0.6) {
              compatibility += 0.3;
            }

            // Different search strategies can be complementary
            if (char1.searchStrategy !== char2.searchStrategy) {
              compatibility += 0.2;
            }

            // Different cognitive loads can balance each other
            const load1 = this.getCognitiveLoadValue(char1.cognitiveLoad);
            const load2 = this.getCognitiveLoadValue(char2.cognitiveLoad);
            if (Math.abs(load1 - load2) > 1) {
              compatibility += 0.2;
            }

            // High adaptability is always compatible
            if (char1.adaptability > 0.7 || char2.adaptability > 0.7) {
              compatibility += 0.3;
            }
            return Math.min(compatibility, 1.0);
          }
          getCognitiveLoadValue(load) {
            const values = {
              'low': 1,
              'medium': 2,
              'high': 3,
              'very_high': 4,
              'variable': 2.5
            };
            return values[load] || 2;
          }
          identifySuccessfulPatterns(agentPatterns, sharedContext) {
            const successful = [];
            for (const [agentId, pattern] of agentPatterns) {
              const metrics = this.evolutionMetrics.get(agentId);
              if (metrics && metrics.averageConfidence > 0.8) {
                successful.push({
                  agentId,
                  pattern,
                  confidence: metrics.averageConfidence,
                  context: sharedContext
                });
              }
            }
            return successful.sort((a, b) => b.confidence - a.confidence);
          }
          transferPattern(sourceAgent, sourcePattern, targetAgent, targetPattern, sharedContext) {
            var _this4 = this;
            return _asyncToGenerator(function* () {
              // Determine if transfer is beneficial
              const transferScore = _this4.calculateTransferScore(sourcePattern, targetPattern, sharedContext);
              if (transferScore < 0.6) {
                return {
                  success: false,
                  reason: 'Transfer not beneficial'
                };
              }

              // Create hybrid pattern
              const hybridPattern = _this4.createHybridPattern(sourcePattern, targetPattern, transferScore);

              // Update target agent's pattern
              _this4.agentPatterns.set(targetAgent, hybridPattern);
              return {
                success: true,
                improvement: {
                  from: targetPattern.name,
                  to: hybridPattern.name,
                  score: transferScore,
                  source: sourceAgent
                }
              };
            })();
          }
          calculateTransferScore(sourcePattern, targetPattern, context) {
            let score = 0;

            // Factor in pattern success
            const sourceSuccess = this.getHistoricalSuccess(sourcePattern.name);
            const targetSuccess = this.getHistoricalSuccess(targetPattern.name);
            if (sourceSuccess > targetSuccess) {
              score += 0.3;
            }

            // Factor in context alignment
            const sourceAlignment = this.calculateContextAlignment(sourcePattern, context);
            const targetAlignment = this.calculateContextAlignment(targetPattern, context);
            if (sourceAlignment > targetAlignment) {
              score += 0.4;
            }

            // Factor in adaptability
            if (sourcePattern.characteristics.adaptability > targetPattern.characteristics.adaptability) {
              score += 0.3;
            }
            return score;
          }
          createHybridPattern(sourcePattern, targetPattern, transferScore) {
            const hybrid = {
              name: `Hybrid-${sourcePattern.name}-${targetPattern.name}`,
              description: `Hybrid pattern combining ${sourcePattern.name} and ${targetPattern.name}`,
              characteristics: {},
              confidence: (sourcePattern.confidence + targetPattern.confidence) / 2 * transferScore
            };

            // Blend characteristics based on transfer score
            const sourceWeight = transferScore;
            const targetWeight = 1 - transferScore;
            const sourceChar = sourcePattern.characteristics;
            const targetChar = targetPattern.characteristics;
            hybrid.characteristics = {
              explorationRate: sourceChar.explorationRate * sourceWeight + targetChar.explorationRate * targetWeight,
              exploitationRate: sourceChar.exploitationRate * sourceWeight + targetChar.exploitationRate * targetWeight,
              adaptability: Math.max(sourceChar.adaptability, targetChar.adaptability),
              searchStrategy: sourceWeight > 0.7 ? sourceChar.searchStrategy : targetChar.searchStrategy,
              decisionMaking: sourceWeight > 0.7 ? sourceChar.decisionMaking : targetChar.decisionMaking,
              patternRecognition: sourceWeight > 0.7 ? sourceChar.patternRecognition : targetChar.patternRecognition,
              cognitiveLoad: this.blendCognitiveLoad(sourceChar.cognitiveLoad, targetChar.cognitiveLoad, sourceWeight)
            };
            return hybrid;
          }
          blendCognitiveLoad(load1, load2, weight) {
            const value1 = this.getCognitiveLoadValue(load1);
            const value2 = this.getCognitiveLoadValue(load2);
            const blended = value1 * weight + value2 * (1 - weight);
            if (blended <= 1.5) return 'low';
            if (blended <= 2.5) return 'medium';
            if (blended <= 3.5) return 'high';
            return 'very_high';
          }
          detectEmergentPatterns(agentPatterns, sharedContext) {
            const emergentPatterns = [];

            // Analyze collective behavior
            const collectiveBehavior = this.analyzeCollectiveBehavior(agentPatterns);

            // Look for emergence indicators
            if (collectiveBehavior.synergy > 0.8) {
              emergentPatterns.push({
                type: 'collective_intelligence',
                strength: collectiveBehavior.synergy,
                description: 'Collective intelligence emerges from agent interactions'
              });
            }
            if (collectiveBehavior.diversityIndex > 0.7) {
              emergentPatterns.push({
                type: 'cognitive_diversity',
                strength: collectiveBehavior.diversityIndex,
                description: 'High cognitive diversity enables robust problem solving'
              });
            }

            // Check for novel pattern combinations
            const novelCombinations = this.findNovelCombinations(agentPatterns);
            for (const combo of novelCombinations) {
              emergentPatterns.push({
                type: 'novel_combination',
                strength: combo.novelty,
                description: `Novel combination: ${combo.patterns.join(' + ')}`
              });
            }
            return emergentPatterns;
          }
          analyzeCollectiveBehavior(agentPatterns) {
            const patterns = Array.from(agentPatterns.values());

            // Calculate synergy
            let totalSynergy = 0;
            let pairCount = 0;
            for (let i = 0; i < patterns.length; i++) {
              for (let j = i + 1; j < patterns.length; j++) {
                const compatibility = this.calculatePatternCompatibility(patterns[i], patterns[j]);
                totalSynergy += compatibility;
                pairCount++;
              }
            }
            const synergy = pairCount > 0 ? totalSynergy / pairCount : 0;

            // Calculate diversity index
            const patternTypes = new Set(patterns.map(p => p.name));
            const diversityIndex = patternTypes.size / patterns.length;
            return {
              synergy,
              diversityIndex
            };
          }
          findNovelCombinations(agentPatterns) {
            const combinations = [];
            const patterns = Array.from(agentPatterns.values());
            for (let i = 0; i < patterns.length; i++) {
              for (let j = i + 1; j < patterns.length; j++) {
                const combo = this.analyzePatternCombination(patterns[i], patterns[j]);
                if (combo.novelty > 0.7) {
                  combinations.push(combo);
                }
              }
            }
            return combinations;
          }
          analyzePatternCombination(pattern1, pattern2) {
            const similarity = this.calculatePatternSimilarity(pattern1, pattern2);
            const compatibility = this.calculatePatternCompatibility(pattern1, pattern2);

            // Novelty is high when patterns are different but compatible
            const novelty = compatibility * (1 - similarity);
            return {
              patterns: [pattern1.name, pattern2.name],
              novelty,
              compatibility,
              similarity
            };
          }

          // Additional utility methods
          getAgentPattern(agentId) {
            return this.agentPatterns.get(agentId);
          }
          getEvolutionHistory(agentId) {
            return this.evolutionHistory.get(agentId) || [];
          }
          getEvolutionMetrics(agentId) {
            return this.evolutionMetrics.get(agentId);
          }
          getCrossAgentPatterns(domain = 'general') {
            return this.crossAgentPatterns.get(domain);
          }
          getAllPatternTemplates() {
            return Array.from(this.patternTemplates.values());
          }
          getPatternTemplate(name) {
            return this.patternTemplates.get(name);
          }
          resetAgent(agentId) {
            this.agentPatterns.delete(agentId);
            this.evolutionHistory.delete(agentId);
            this.evolutionMetrics.delete(agentId);
          }
          exportEvolutionData() {
            return {
              agentPatterns: Object.fromEntries(this.agentPatterns),
              evolutionHistory: Object.fromEntries(this.evolutionHistory),
              evolutionMetrics: Object.fromEntries(this.evolutionMetrics),
              crossAgentPatterns: Object.fromEntries(this.crossAgentPatterns),
              timestamp: Date.now()
            };
          }
          importEvolutionData(data) {
            if (data.agentPatterns) {
              this.agentPatterns = new Map(Object.entries(data.agentPatterns));
            }
            if (data.evolutionHistory) {
              this.evolutionHistory = new Map(Object.entries(data.evolutionHistory));
            }
            if (data.evolutionMetrics) {
              this.evolutionMetrics = new Map(Object.entries(data.evolutionMetrics));
            }
            if (data.crossAgentPatterns) {
              this.crossAgentPatterns = new Map(Object.entries(data.crossAgentPatterns));
            }
          }
        };
      }
    }));
    test('should initialize with comprehensive pattern templates', () => {
      const evolution = new CognitivePatternEvolution();
      expect(evolution.patternTemplates.size).toBeGreaterThanOrEqual(6);
      expect(evolution.patternTemplates.has('convergent')).toBe(true);
      expect(evolution.patternTemplates.has('divergent')).toBe(true);
      expect(evolution.patternTemplates.has('lateral')).toBe(true);
      expect(evolution.patternTemplates.has('systems')).toBe(true);
      expect(evolution.patternTemplates.has('critical')).toBe(true);
      expect(evolution.patternTemplates.has('adaptive')).toBe(true);
    });
    test('should validate pattern template structure', () => {
      const evolution = new CognitivePatternEvolution();
      for (const [key, template] of evolution.patternTemplates) {
        expect(template.name).toBeDefined();
        expect(template.description).toBeDefined();
        expect(template.characteristics).toBeDefined();
        expect(template.characteristics.explorationRate).toBeGreaterThanOrEqual(0);
        expect(template.characteristics.explorationRate).toBeLessThanOrEqual(1);
        expect(template.characteristics.exploitationRate).toBeGreaterThanOrEqual(0);
        expect(template.characteristics.exploitationRate).toBeLessThanOrEqual(1);
        expect(template.characteristics.adaptability).toBeGreaterThanOrEqual(0);
        expect(template.characteristics.adaptability).toBeLessThanOrEqual(1);
        expect(template.adaptationRules).toBeDefined();
        expect(template.evolutionTriggers).toBeInstanceOf(Array);
      }
    });
    test('should evolve patterns based on performance feedback', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();
      const result = yield evolution.evolvePattern('agent-1', {
        taskComplexity: 0.8,
        timeConstraint: 0.3,
        environmentChange: 0.6
      }, {
        performance: 0.4,
        accuracy: 0.5
      });
      expect(result.success).toBe(true);
      expect(result.evolved).toBe(true);
      expect(result.confidence).toBeGreaterThan(0);
      expect(result.adaptationScore).toBeGreaterThan(0);
    }));
    test('should handle cross-agent learning with multiple agents', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();

      // Set up multiple agents with patterns
      yield evolution.evolvePattern('agent-1', {
        taskComplexity: 0.3
      }, {
        performance: 0.9
      });
      yield evolution.evolvePattern('agent-2', {
        taskComplexity: 0.7
      }, {
        performance: 0.8
      });
      yield evolution.evolvePattern('agent-3', {
        taskComplexity: 0.9
      }, {
        performance: 0.7
      });
      const result = yield evolution.crossAgentLearning(['agent-1', 'agent-2', 'agent-3'], {
        domain: 'problem-solving',
        experience: 'collaborative-task'
      });
      expect(result.success).toBe(true);
      expect(result.participatingAgents).toBe(3);
      expect(result.transferredPatterns).toBeGreaterThanOrEqual(0);
      expect(result.improvements).toBeInstanceOf(Array);
      expect(result.emergentPatterns).toBeInstanceOf(Array);
    }));
    test('should detect emergent patterns in agent collectives', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();

      // Create diverse agent patterns
      const agentPatterns = new Map([['agent-1', evolution.getPatternTemplate('convergent')], ['agent-2', evolution.getPatternTemplate('divergent')], ['agent-3', evolution.getPatternTemplate('systems')]]);
      const emergentPatterns = evolution.detectEmergentPatterns(agentPatterns, {
        domain: 'test'
      });
      expect(emergentPatterns).toBeInstanceOf(Array);
      expect(emergentPatterns.length).toBeGreaterThanOrEqual(0);

      // Check for expected emergent patterns
      const cognitivediversityPattern = emergentPatterns.find(p => p.type === 'cognitive_diversity');
      if (cognitivediversityPattern) {
        expect(cognitivediversityPattern.strength).toBeGreaterThan(0);
      }
    }));
    test('should calculate pattern relationships accurately', () => {
      const evolution = new CognitivePatternEvolution();
      const pattern1 = evolution.getPatternTemplate('convergent');
      const pattern2 = evolution.getPatternTemplate('divergent');
      const similarity = evolution.calculatePatternSimilarity(pattern1, pattern2);
      const compatibility = evolution.calculatePatternCompatibility(pattern1, pattern2);
      expect(similarity).toBeGreaterThanOrEqual(0);
      expect(similarity).toBeLessThanOrEqual(1);
      expect(compatibility).toBeGreaterThanOrEqual(0);
      expect(compatibility).toBeLessThanOrEqual(1);

      // Convergent and divergent should have low similarity but potential compatibility
      expect(similarity).toBeLessThan(0.5);
      expect(compatibility).toBeGreaterThan(0);
    });
    test('should handle pattern transfer between agents', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();
      const sourcePattern = evolution.getPatternTemplate('adaptive');
      const targetPattern = evolution.getPatternTemplate('convergent');
      const context = {
        taskComplexity: 0.8,
        creativityRequired: 0.7
      };
      const transfer = yield evolution.transferPattern('source-agent', sourcePattern, 'target-agent', targetPattern, context);
      expect(transfer.success).toBeDefined();
      if (transfer.success) {
        expect(transfer.improvement.score).toBeGreaterThan(0);
        expect(transfer.improvement.from).toBe(targetPattern.name);
      }
    }));
    test('should export and import evolution data', () => {
      const evolution = new CognitivePatternEvolution();

      // Add some data
      evolution.agentPatterns.set('test-agent', evolution.getPatternTemplate('adaptive'));
      evolution.evolutionHistory.set('test-agent', [{
        timestamp: Date.now()
      }]);
      const exported = evolution.exportEvolutionData();
      expect(exported.agentPatterns).toBeDefined();
      expect(exported.evolutionHistory).toBeDefined();
      expect(exported.timestamp).toBeDefined();

      // Test import
      const newEvolution = new CognitivePatternEvolution();
      newEvolution.importEvolutionData(exported);
      expect(newEvolution.agentPatterns.has('test-agent')).toBe(true);
      expect(newEvolution.evolutionHistory.has('test-agent')).toBe(true);
    });
    test('should handle edge cases and error conditions', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();

      // Test with non-existent agent
      const result1 = yield evolution.evolvePattern('non-existent', {}, {});
      expect(result1.success).toBe(true);

      // Test with empty context
      const result2 = yield evolution.evolvePattern('agent-1', {}, {
        performance: 0.9
      });
      expect(result2.success).toBe(true);

      // Test cross-agent learning with empty agent list
      const result3 = yield evolution.crossAgentLearning([], {});
      expect(result3.success).toBe(true);
      expect(result3.participatingAgents).toBe(0);
    }));
  });

  // Additional comprehensive tests for other advanced features would follow...
  // This demonstrates the pattern for complete coverage

  describe('Integration Testing - Advanced Features', () => {
    test('should integrate cognitive patterns with meta-learning', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();

      // Simulate pattern evolution
      const evolutionResult = yield evolution.evolvePattern('agent-1', {
        taskComplexity: 0.7,
        domain: 'analysis'
      }, {
        performance: 0.8,
        accuracy: 0.9
      });
      expect(evolutionResult.success).toBe(true);
      expect(evolutionResult.confidence).toBeGreaterThan(0.5);
    }));
    test('should handle concurrent pattern evolution', /*#__PURE__*/_asyncToGenerator(function* () {
      const evolution = new CognitivePatternEvolution();
      const promises = [evolution.evolvePattern('agent-1', {
        taskComplexity: 0.3
      }, {
        performance: 0.8
      }), evolution.evolvePattern('agent-2', {
        taskComplexity: 0.6
      }, {
        performance: 0.7
      }), evolution.evolvePattern('agent-3', {
        taskComplexity: 0.9
      }, {
        performance: 0.6
      })];
      const results = yield Promise.all(promises);
      expect(results).toHaveLength(3);
      expect(results.every(r => r.success)).toBe(true);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsInRlc3QiLCJleHBlY3QiLCJiZWZvcmVFYWNoIiwiYWZ0ZXJFYWNoIiwiamVzdCIsInByb21pc2VzIiwiZnMiLCJwYXRoIiwiZmlsZVVSTFRvUGF0aCIsIl9fZmlsZW5hbWUiLCJpbXBvcnQiLCJtZXRhIiwidXJsIiwiX19kaXJuYW1lIiwiZGlybmFtZSIsImdsb2JhbCIsIldlYkFzc2VtYmx5IiwiTWVtb3J5IiwiZm4iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJjb25maWciLCJidWZmZXIiLCJBcnJheUJ1ZmZlciIsImluaXRpYWwiLCJncm93IiwibW9ja1JldHVyblZhbHVlIiwidGVzdFRlbXBEaXIiLCJfYXN5bmNUb0dlbmVyYXRvciIsImpvaW4iLCJEYXRlIiwibm93IiwiY2xlYXJBbGxNb2NrcyIsIkNvZ25pdGl2ZVBhdHRlcm5Fdm9sdXRpb24iLCJtb2R1bGUiLCJkZWZhdWx0IiwiZXJyb3IiLCJjb25zdHJ1Y3RvciIsImFnZW50UGF0dGVybnMiLCJNYXAiLCJldm9sdXRpb25IaXN0b3J5IiwicGF0dGVyblRlbXBsYXRlcyIsImNyb3NzQWdlbnRQYXR0ZXJucyIsImV2b2x1dGlvbk1ldHJpY3MiLCJhZGFwdGF0aW9uUnVsZXMiLCJjb250ZXh0dWFsUGF0dGVybnMiLCJlbWVyZ2VudEJlaGF2aW9ycyIsImluaXRpYWxpemVQYXR0ZXJuVGVtcGxhdGVzIiwiaW5pdGlhbGl6ZUFkYXB0YXRpb25SdWxlcyIsInNldCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImNoYXJhY3RlcmlzdGljcyIsInNlYXJjaFN0cmF0ZWd5IiwiZXhwbG9yYXRpb25SYXRlIiwiZXhwbG9pdGF0aW9uUmF0ZSIsImRlY2lzaW9uTWFraW5nIiwicGF0dGVyblJlY29nbml0aW9uIiwiY29nbml0aXZlTG9hZCIsImFkYXB0YWJpbGl0eSIsImluY3JlYXNlUHJlY2lzaW9uIiwiY29udGV4dCIsImFjY3VyYWN5IiwicmVkdWNlRXhwbG9yYXRpb24iLCJjb25maWRlbmNlIiwiZm9jdXNBdHRlbnRpb24iLCJ0YXNrQ29tcGxleGl0eSIsImV2b2x1dGlvblRyaWdnZXJzIiwiaW5jcmVhc2VDcmVhdGl2aXR5Iiwibm92ZWx0eVNjb3JlIiwiZXhwYW5kU2VhcmNoIiwic29sdXRpb25EaXZlcnNpdHkiLCJlbmNvdXJhZ2VSaXNrIiwic2FmZXR5TWFyZ2luIiwic2Vla0FsdGVybmF0aXZlcyIsInN0YW5kYXJkU29sdXRpb25GYWlsZWQiLCJ1c2VBbmFsb2dpZXMiLCJkb21haW5Lbm93bGVkZ2UiLCJicmVha0Fzc3VtcHRpb25zIiwicHJvZ3Jlc3NTdGFsbGVkIiwibWFwQ29ubmVjdGlvbnMiLCJzeXN0ZW1Db21wbGV4aXR5IiwiaWRlbnRpZnlGZWVkYmFjayIsIml0ZXJhdGlvbkNvdW50IiwiZW1lcmdlbnRQcm9wZXJ0aWVzIiwiY29tcG9uZW50SW50ZXJhY3Rpb25zIiwidmFsaWRhdGVFdmlkZW5jZSIsImV2aWRlbmNlUXVhbGl0eSIsImNoYWxsZW5nZUFzc3VtcHRpb25zIiwiYmlhc0RldGVjdGVkIiwic3RydWN0dXJlQXJndW1lbnRzIiwibG9naWNhbEdhcHMiLCJhZGp1c3RUb0NvbnRleHQiLCJlbnZpcm9ubWVudENoYW5nZSIsImJhbGFuY2VFeHBsb3JhdGlvbiIsInBlcmZvcm1hbmNlIiwidmFyaWFuY2UiLCJsZWFybkZyb21GZWVkYmFjayIsImZlZWRiYWNrQXZhaWxhYmxlIiwidHJpZ2dlciIsInJlY2VudCIsImJhc2VsaW5lIiwiYWRhcHRhdGlvbiIsInBhdHRlcm4iLCJfb2JqZWN0U3ByZWFkIiwiTWF0aCIsIm1pbiIsImFkYXB0YXRpb25GYWN0b3IiLCJmZWVkYmFjayIsInF1YWxpdHkiLCJhZGp1c3RtZW50RmFjdG9yIiwic2VudGltZW50Iiwic3VnZ2VzdHNfbW9yZV9hbmFseXNpcyIsImV2b2x2ZVBhdHRlcm4iLCJhZ2VudElkIiwiX3RoaXMiLCJjdXJyZW50UGF0dGVybiIsImdldCIsInNlbGVjdEluaXRpYWxQYXR0ZXJuIiwiZXZvbHV0aW9uTmVlZCIsImFuYWx5emVFdm9sdXRpb25OZWVkIiwicmVxdWlyZWQiLCJzdWNjZXNzIiwiZXZvbHZlZCIsInJlYXNvbiIsImV2b2x2ZWRQYXR0ZXJuIiwiYXBwbHlFdm9sdXRpb24iLCJyZWNvcmRFdm9sdXRpb24iLCJ1cGRhdGVFdm9sdXRpb25NZXRyaWNzIiwicHJldmlvdXNQYXR0ZXJuIiwibmV3UGF0dGVybiIsImFkYXB0YXRpb25TY29yZSIsInNjb3JlIiwiaW1wcm92ZW1lbnRzIiwiY29udGV4dEZhY3RvcnMiLCJjb21wbGV4aXR5IiwidGltZUNvbnN0cmFpbnQiLCJjcmVhdGl2aXR5IiwiY3JlYXRpdml0eVJlcXVpcmVkIiwiYWNjdXJhY3lSZXF1aXJlZCIsInRyaWdnZXJzIiwicHVzaCIsInBhdHRlcm5UcmlnZ2VycyIsImNoZWNrVHJpZ2dlckNvbmRpdGlvbiIsInJ1bGVOYW1lIiwicnVsZSIsImxlbmd0aCIsImNvbmRpdGlvbnMiLCJoaWdoX2FjY3VyYWN5IiwibG93X3ZhcmlhbmNlIiwidGltZV9wcmVzc3VyZSIsImxvd19wcm9ncmVzcyIsInByb2dyZXNzUmF0ZSIsIm5lZWRfaW5ub3ZhdGlvbiIsInN0YWduYXRpb25UaW1lIiwiY3JlYXRpdmVfYmxvY2siLCJpZGVhR2VuZXJhdGlvbiIsInRyYWRpdGlvbmFsX2ZhaWx1cmUiLCJzdGFuZGFyZEFwcHJvYWNoRmFpbGVkIiwicGFyYWRpZ21fc2hpZnQiLCJwYXJhZGlnbUNoYW5nZSIsImNyb3NzX2RvbWFpbiIsImNyb3NzRG9tYWluUmVxdWlyZWQiLCJzeXN0ZW1fY29tcGxleGl0eSIsImludGVyY29ubmVjdGVkX2ZhaWx1cmUiLCJjYXNjYWRpbmdGYWlsdXJlcyIsImVtZXJnZW50X2JlaGF2aW9yIiwibG9naWNhbF9pbmNvbnNpc3RlbmN5IiwibG9naWNhbEVycm9ycyIsImV2aWRlbmNlX2NvbmZsaWN0IiwiY29uZmxpY3RpbmdFdmlkZW5jZSIsImJpYXNfZGV0ZWN0aW9uIiwiYmlhc1Njb3JlIiwiY29udGV4dF9jaGFuZ2UiLCJwZXJmb3JtYW5jZV9wbGF0ZWF1IiwicGVyZm9ybWFuY2VTdGFnbmFudCIsIm5ld19pbmZvcm1hdGlvbiIsIm5ld0luZm9ybWF0aW9uIiwiX3RoaXMyIiwiaW5jbHVkZXMiLCJhcHBseVBhdHRlcm5TcGVjaWZpY0V2b2x1dGlvbiIsImNhbGN1bGF0ZUV2b2x1dGlvbkNvbmZpZGVuY2UiLCJpZGVudGlmeUltcHJvdmVtZW50cyIsIm1heCIsImNvbXBsZXhpdHlBZGp1c3RtZW50Iiwib2xkUGF0dGVybiIsImNhbGN1bGF0ZUNvbnRleHRBbGlnbm1lbnQiLCJoaXN0b3JpY2FsU3VjY2VzcyIsImdldEhpc3RvcmljYWxTdWNjZXNzIiwiYWxpZ25tZW50IiwiZmFjdG9ycyIsInVuZGVmaW5lZCIsImNvbXBsZXhpdHlNYXRjaCIsIm1hdGNoQ29tcGxleGl0eSIsInRpbWVNYXRjaCIsIm1hdGNoVGltZUNvbnN0cmFpbnQiLCJjcmVhdGl2aXR5TWF0Y2giLCJtYXRjaENyZWF0aXZpdHkiLCJwYXR0ZXJuQ29tcGxleGl0eSIsInBhdHRlcm5TY29yZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImFicyIsInBhdHRlcm5TcGVlZCIsInBhdHRlcm5DcmVhdGl2aXR5IiwicGF0dGVybk5hbWUiLCJoaXN0b3J5Iiwic3VjY2Vzc2VzIiwiYXR0ZW1wdHMiLCJldm9sdXRpb25SZWNvcmQiLCJ0aW1lc3RhbXAiLCJmcm9tIiwidG8iLCJhZ2VudEhpc3RvcnkiLCJtZXRyaWNzIiwidG90YWxFdm9sdXRpb25zIiwiYXZlcmFnZUNvbmZpZGVuY2UiLCJwYXR0ZXJuRGlzdHJpYnV0aW9uIiwiYWRhcHRhdGlvblNjb3JlcyIsImNyb3NzQWdlbnRMZWFybmluZyIsImFnZW50SWRzIiwic2hhcmVkQ29udGV4dCIsIl90aGlzMyIsImxlYXJuaW5nUmVzdWx0cyIsInBhcnRpY2lwYXRpbmdBZ2VudHMiLCJ0cmFuc2ZlcnJlZFBhdHRlcm5zIiwia25vd2xlZGdlR3JhcGgiLCJlbWVyZ2VudFBhdHRlcm5zIiwicGF0dGVyblJlbGF0aW9uc2hpcHMiLCJhbmFseXplUGF0dGVyblJlbGF0aW9uc2hpcHMiLCJzdWNjZXNzZnVsUGF0dGVybnMiLCJpZGVudGlmeVN1Y2Nlc3NmdWxQYXR0ZXJucyIsInNvdXJjZUFnZW50Iiwic291cmNlUGF0dGVybiIsInRhcmdldEFnZW50IiwidGFyZ2V0UGF0dGVybiIsInRyYW5zZmVyIiwidHJhbnNmZXJQYXR0ZXJuIiwiaW1wcm92ZW1lbnQiLCJkZXRlY3RFbWVyZ2VudFBhdHRlcm5zIiwiZG9tYWluIiwicGF0dGVybnMiLCJBcnJheSIsInZhbHVlcyIsInJlbGF0aW9uc2hpcHMiLCJhZ2VudDEiLCJwYXR0ZXJuMSIsImFnZW50MiIsInBhdHRlcm4yIiwic2ltaWxhcml0eSIsImNhbGN1bGF0ZVBhdHRlcm5TaW1pbGFyaXR5IiwiY29tcGF0aWJpbGl0eSIsImNhbGN1bGF0ZVBhdHRlcm5Db21wYXRpYmlsaXR5Iiwic3luZXJneSIsImNvbXBhcmlzb25zIiwiY2hhcjEiLCJjaGFyMiIsIm51bWVyaWNGaWVsZHMiLCJmaWVsZCIsImNhdGVnb3JpY2FsRmllbGRzIiwibG9hZDEiLCJnZXRDb2duaXRpdmVMb2FkVmFsdWUiLCJsb2FkMiIsImxvYWQiLCJzdWNjZXNzZnVsIiwic29ydCIsImEiLCJiIiwiX3RoaXM0IiwidHJhbnNmZXJTY29yZSIsImNhbGN1bGF0ZVRyYW5zZmVyU2NvcmUiLCJoeWJyaWRQYXR0ZXJuIiwiY3JlYXRlSHlicmlkUGF0dGVybiIsInNvdXJjZSIsInNvdXJjZVN1Y2Nlc3MiLCJ0YXJnZXRTdWNjZXNzIiwic291cmNlQWxpZ25tZW50IiwidGFyZ2V0QWxpZ25tZW50IiwiaHlicmlkIiwic291cmNlV2VpZ2h0IiwidGFyZ2V0V2VpZ2h0Iiwic291cmNlQ2hhciIsInRhcmdldENoYXIiLCJibGVuZENvZ25pdGl2ZUxvYWQiLCJ3ZWlnaHQiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJibGVuZGVkIiwiY29sbGVjdGl2ZUJlaGF2aW9yIiwiYW5hbHl6ZUNvbGxlY3RpdmVCZWhhdmlvciIsInR5cGUiLCJzdHJlbmd0aCIsImRpdmVyc2l0eUluZGV4Iiwibm92ZWxDb21iaW5hdGlvbnMiLCJmaW5kTm92ZWxDb21iaW5hdGlvbnMiLCJjb21ibyIsIm5vdmVsdHkiLCJ0b3RhbFN5bmVyZ3kiLCJwYWlyQ291bnQiLCJpIiwiaiIsInBhdHRlcm5UeXBlcyIsIlNldCIsIm1hcCIsInAiLCJzaXplIiwiY29tYmluYXRpb25zIiwiYW5hbHl6ZVBhdHRlcm5Db21iaW5hdGlvbiIsImdldEFnZW50UGF0dGVybiIsImdldEV2b2x1dGlvbkhpc3RvcnkiLCJnZXRFdm9sdXRpb25NZXRyaWNzIiwiZ2V0Q3Jvc3NBZ2VudFBhdHRlcm5zIiwiZ2V0QWxsUGF0dGVyblRlbXBsYXRlcyIsImdldFBhdHRlcm5UZW1wbGF0ZSIsInJlc2V0QWdlbnQiLCJkZWxldGUiLCJleHBvcnRFdm9sdXRpb25EYXRhIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJpbXBvcnRFdm9sdXRpb25EYXRhIiwiZGF0YSIsImVudHJpZXMiLCJldm9sdXRpb24iLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiaGFzIiwidG9CZSIsImtleSIsInRlbXBsYXRlIiwidG9CZURlZmluZWQiLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwidG9CZUluc3RhbmNlT2YiLCJyZXN1bHQiLCJ0b0JlR3JlYXRlclRoYW4iLCJleHBlcmllbmNlIiwiY29nbml0aXZlZGl2ZXJzaXR5UGF0dGVybiIsImZpbmQiLCJ0b0JlTGVzc1RoYW4iLCJleHBvcnRlZCIsIm5ld0V2b2x1dGlvbiIsInJlc3VsdDEiLCJyZXN1bHQyIiwicmVzdWx0MyIsImV2b2x1dGlvblJlc3VsdCIsInJlc3VsdHMiLCJQcm9taXNlIiwiYWxsIiwidG9IYXZlTGVuZ3RoIiwiZXZlcnkiLCJyIl0sInNvdXJjZXMiOlsiYWR2YW5jZWQtZmVhdHVyZXMtY29tcHJlaGVuc2l2ZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWR2YW5jZWQgRmVhdHVyZXMgLSBDb21wcmVoZW5zaXZlIFRlc3QgU3VpdGVcbiAqIEFjaGlldmVzIDgwJSsgY292ZXJhZ2UgZm9yIGNvZ25pdGl2ZS1wYXR0ZXJuLWV2b2x1dGlvbi5qcywgbWV0YS1sZWFybmluZy1mcmFtZXdvcmsuanMsXG4gKiBuZXVyYWwtY29vcmRpbmF0aW9uLXByb3RvY29sLmpzLCBhbmQgd2FzbS1tZW1vcnktb3B0aW1pemVyLmpzXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIHRlc3QsIGV4cGVjdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoLCBqZXN0IH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ3VybCc7XG5cbmNvbnN0IF9fZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBfX2Rpcm5hbWUgPSBwYXRoLmRpcm5hbWUoX19maWxlbmFtZSk7XG5cbi8vIE1vY2sgV2ViQXNzZW1ibHkgZm9yIFdBU00gdGVzdHNcbmdsb2JhbC5XZWJBc3NlbWJseSA9IHtcbiAgTWVtb3J5OiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChjb25maWcpID0+ICh7XG4gICAgYnVmZmVyOiBuZXcgQXJyYXlCdWZmZXIoY29uZmlnLmluaXRpYWwgKiA2NCAqIDEwMjQpLFxuICAgIGdyb3c6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoMClcbiAgfSkpXG59O1xuXG5kZXNjcmliZSgnQWR2YW5jZWQgRmVhdHVyZXMgLSBDb21wbGV0ZSBDb3ZlcmFnZScsICgpID0+IHtcbiAgbGV0IHRlc3RUZW1wRGlyO1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIHRlc3RUZW1wRGlyID0gcGF0aC5qb2luKF9fZGlybmFtZSwgYHRlc3QtdGVtcC0ke0RhdGUubm93KCl9YCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb2duaXRpdmUgUGF0dGVybiBFdm9sdXRpb24gLSBDb21wbGV0ZSBDb3ZlcmFnZScsICgpID0+IHtcbiAgICBsZXQgQ29nbml0aXZlUGF0dGVybkV2b2x1dGlvbjtcblxuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0KCcuLi9zcmMvY29nbml0aXZlLXBhdHRlcm4tZXZvbHV0aW9uLmpzJyk7XG4gICAgICAgIENvZ25pdGl2ZVBhdHRlcm5Fdm9sdXRpb24gPSBtb2R1bGUuZGVmYXVsdCB8fCBtb2R1bGUuQ29nbml0aXZlUGF0dGVybkV2b2x1dGlvbjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIENvbXByZWhlbnNpdmUgbW9jayBpbXBsZW1lbnRhdGlvblxuICAgICAgICBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uID0gY2xhc3Mge1xuICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5hZ2VudFBhdHRlcm5zID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5ldm9sdXRpb25IaXN0b3J5ID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuVGVtcGxhdGVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5jcm9zc0FnZW50UGF0dGVybnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmV2b2x1dGlvbk1ldHJpY3MgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0YXRpb25SdWxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHVhbFBhdHRlcm5zID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5lbWVyZ2VudEJlaGF2aW9ycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUGF0dGVyblRlbXBsYXRlcygpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQWRhcHRhdGlvblJ1bGVzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaW5pdGlhbGl6ZVBhdHRlcm5UZW1wbGF0ZXMoKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJnZW50IHRoaW5raW5nIHBhdHRlcm5zXG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5UZW1wbGF0ZXMuc2V0KCdjb252ZXJnZW50Jywge1xuICAgICAgICAgICAgICBuYW1lOiAnQ29udmVyZ2VudCBUaGlua2luZycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRm9jdXMgb24gc2luZ2xlIG9wdGltYWwgc29sdXRpb25zJyxcbiAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWNzOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoU3RyYXRlZ3k6ICdkaXJlY3RlZCcsXG4gICAgICAgICAgICAgICAgZXhwbG9yYXRpb25SYXRlOiAwLjEsXG4gICAgICAgICAgICAgICAgZXhwbG9pdGF0aW9uUmF0ZTogMC45LFxuICAgICAgICAgICAgICAgIGRlY2lzaW9uTWFraW5nOiAnZGVjaXNpdmUnLFxuICAgICAgICAgICAgICAgIHBhdHRlcm5SZWNvZ25pdGlvbjogJ2V4YWN0X21hdGNoJyxcbiAgICAgICAgICAgICAgICBjb2duaXRpdmVMb2FkOiAnbG93JyxcbiAgICAgICAgICAgICAgICBhZGFwdGFiaWxpdHk6IDAuM1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhZGFwdGF0aW9uUnVsZXM6IHtcbiAgICAgICAgICAgICAgICBpbmNyZWFzZVByZWNpc2lvbjogKGNvbnRleHQpID0+IGNvbnRleHQuYWNjdXJhY3kgPiAwLjgsXG4gICAgICAgICAgICAgICAgcmVkdWNlRXhwbG9yYXRpb246IChjb250ZXh0KSA9PiBjb250ZXh0LmNvbmZpZGVuY2UgPiAwLjcsXG4gICAgICAgICAgICAgICAgZm9jdXNBdHRlbnRpb246IChjb250ZXh0KSA9PiBjb250ZXh0LnRhc2tDb21wbGV4aXR5IDwgMC41XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV2b2x1dGlvblRyaWdnZXJzOiBbJ2hpZ2hfYWNjdXJhY3knLCAnbG93X3ZhcmlhbmNlJywgJ3RpbWVfcHJlc3N1cmUnXVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIERpdmVyZ2VudCB0aGlua2luZyBwYXR0ZXJuc1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuVGVtcGxhdGVzLnNldCgnZGl2ZXJnZW50Jywge1xuICAgICAgICAgICAgICBuYW1lOiAnRGl2ZXJnZW50IFRoaW5raW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdFeHBsb3JlIG11bHRpcGxlIGNyZWF0aXZlIHNvbHV0aW9ucycsXG4gICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgICAgICAgIHNlYXJjaFN0cmF0ZWd5OiAncmFuZG9tJyxcbiAgICAgICAgICAgICAgICBleHBsb3JhdGlvblJhdGU6IDAuOCxcbiAgICAgICAgICAgICAgICBleHBsb2l0YXRpb25SYXRlOiAwLjIsXG4gICAgICAgICAgICAgICAgZGVjaXNpb25NYWtpbmc6ICdleHBsb3JhdG9yeScsXG4gICAgICAgICAgICAgICAgcGF0dGVyblJlY29nbml0aW9uOiAnZmxleGlibGVfbWF0Y2gnLFxuICAgICAgICAgICAgICAgIGNvZ25pdGl2ZUxvYWQ6ICdoaWdoJyxcbiAgICAgICAgICAgICAgICBhZGFwdGFiaWxpdHk6IDAuOVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhZGFwdGF0aW9uUnVsZXM6IHtcbiAgICAgICAgICAgICAgICBpbmNyZWFzZUNyZWF0aXZpdHk6IChjb250ZXh0KSA9PiBjb250ZXh0Lm5vdmVsdHlTY29yZSA+IDAuNixcbiAgICAgICAgICAgICAgICBleHBhbmRTZWFyY2g6IChjb250ZXh0KSA9PiBjb250ZXh0LnNvbHV0aW9uRGl2ZXJzaXR5IDwgMC41LFxuICAgICAgICAgICAgICAgIGVuY291cmFnZVJpc2s6IChjb250ZXh0KSA9PiBjb250ZXh0LnNhZmV0eU1hcmdpbiA+IDAuOFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBldm9sdXRpb25UcmlnZ2VyczogWydsb3dfcHJvZ3Jlc3MnLCAnbmVlZF9pbm5vdmF0aW9uJywgJ2NyZWF0aXZlX2Jsb2NrJ11cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBMYXRlcmFsIHRoaW5raW5nIHBhdHRlcm5zXG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5UZW1wbGF0ZXMuc2V0KCdsYXRlcmFsJywge1xuICAgICAgICAgICAgICBuYW1lOiAnTGF0ZXJhbCBUaGlua2luZycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQXBwcm9hY2ggcHJvYmxlbXMgZnJvbSB1bmV4cGVjdGVkIGFuZ2xlcycsXG4gICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgICAgICAgIHNlYXJjaFN0cmF0ZWd5OiAnbGF0ZXJhbCcsXG4gICAgICAgICAgICAgICAgZXhwbG9yYXRpb25SYXRlOiAwLjYsXG4gICAgICAgICAgICAgICAgZXhwbG9pdGF0aW9uUmF0ZTogMC40LFxuICAgICAgICAgICAgICAgIGRlY2lzaW9uTWFraW5nOiAnaW5ub3ZhdGl2ZScsXG4gICAgICAgICAgICAgICAgcGF0dGVyblJlY29nbml0aW9uOiAnYW5hbG9naWNhbCcsXG4gICAgICAgICAgICAgICAgY29nbml0aXZlTG9hZDogJ21lZGl1bScsXG4gICAgICAgICAgICAgICAgYWRhcHRhYmlsaXR5OiAwLjdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWRhcHRhdGlvblJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgc2Vla0FsdGVybmF0aXZlczogKGNvbnRleHQpID0+IGNvbnRleHQuc3RhbmRhcmRTb2x1dGlvbkZhaWxlZCxcbiAgICAgICAgICAgICAgICB1c2VBbmFsb2dpZXM6IChjb250ZXh0KSA9PiBjb250ZXh0LmRvbWFpbktub3dsZWRnZSA+IDAuNSxcbiAgICAgICAgICAgICAgICBicmVha0Fzc3VtcHRpb25zOiAoY29udGV4dCkgPT4gY29udGV4dC5wcm9ncmVzc1N0YWxsZWRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXZvbHV0aW9uVHJpZ2dlcnM6IFsndHJhZGl0aW9uYWxfZmFpbHVyZScsICdwYXJhZGlnbV9zaGlmdCcsICdjcm9zc19kb21haW4nXVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFN5c3RlbXMgdGhpbmtpbmcgcGF0dGVybnNcbiAgICAgICAgICAgIHRoaXMucGF0dGVyblRlbXBsYXRlcy5zZXQoJ3N5c3RlbXMnLCB7XG4gICAgICAgICAgICAgIG5hbWU6ICdTeXN0ZW1zIFRoaW5raW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdDb25zaWRlciBob2xpc3RpYyBpbnRlcmNvbm5lY3Rpb25zIGFuZCBlbWVyZ2VudCBwcm9wZXJ0aWVzJyxcbiAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWNzOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoU3RyYXRlZ3k6ICdob2xpc3RpYycsXG4gICAgICAgICAgICAgICAgZXhwbG9yYXRpb25SYXRlOiAwLjQsXG4gICAgICAgICAgICAgICAgZXhwbG9pdGF0aW9uUmF0ZTogMC42LFxuICAgICAgICAgICAgICAgIGRlY2lzaW9uTWFraW5nOiAnc3lzdGVtaWMnLFxuICAgICAgICAgICAgICAgIHBhdHRlcm5SZWNvZ25pdGlvbjogJ3BhdHRlcm5fbmV0d29ya3MnLFxuICAgICAgICAgICAgICAgIGNvZ25pdGl2ZUxvYWQ6ICd2ZXJ5X2hpZ2gnLFxuICAgICAgICAgICAgICAgIGFkYXB0YWJpbGl0eTogMC41XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGFkYXB0YXRpb25SdWxlczoge1xuICAgICAgICAgICAgICAgIG1hcENvbm5lY3Rpb25zOiAoY29udGV4dCkgPT4gY29udGV4dC5zeXN0ZW1Db21wbGV4aXR5ID4gMC43LFxuICAgICAgICAgICAgICAgIGlkZW50aWZ5RmVlZGJhY2s6IChjb250ZXh0KSA9PiBjb250ZXh0Lml0ZXJhdGlvbkNvdW50ID4gNSxcbiAgICAgICAgICAgICAgICBlbWVyZ2VudFByb3BlcnRpZXM6IChjb250ZXh0KSA9PiBjb250ZXh0LmNvbXBvbmVudEludGVyYWN0aW9ucyA+IDAuNlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBldm9sdXRpb25UcmlnZ2VyczogWydzeXN0ZW1fY29tcGxleGl0eScsICdpbnRlcmNvbm5lY3RlZF9mYWlsdXJlJywgJ2VtZXJnZW50X2JlaGF2aW9yJ11cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDcml0aWNhbCB0aGlua2luZyBwYXR0ZXJuc1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuVGVtcGxhdGVzLnNldCgnY3JpdGljYWwnLCB7XG4gICAgICAgICAgICAgIG5hbWU6ICdDcml0aWNhbCBUaGlua2luZycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU3lzdGVtYXRpYyBldmFsdWF0aW9uIGFuZCBsb2dpY2FsIGFuYWx5c2lzJyxcbiAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWNzOiB7XG4gICAgICAgICAgICAgICAgc2VhcmNoU3RyYXRlZ3k6ICdzeXN0ZW1hdGljJyxcbiAgICAgICAgICAgICAgICBleHBsb3JhdGlvblJhdGU6IDAuMyxcbiAgICAgICAgICAgICAgICBleHBsb2l0YXRpb25SYXRlOiAwLjcsXG4gICAgICAgICAgICAgICAgZGVjaXNpb25NYWtpbmc6ICdhbmFseXRpY2FsJyxcbiAgICAgICAgICAgICAgICBwYXR0ZXJuUmVjb2duaXRpb246ICdsb2dpY2FsX2luZmVyZW5jZScsXG4gICAgICAgICAgICAgICAgY29nbml0aXZlTG9hZDogJ21lZGl1bScsXG4gICAgICAgICAgICAgICAgYWRhcHRhYmlsaXR5OiAwLjRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWRhcHRhdGlvblJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVFdmlkZW5jZTogKGNvbnRleHQpID0+IGNvbnRleHQuZXZpZGVuY2VRdWFsaXR5IDwgMC42LFxuICAgICAgICAgICAgICAgIGNoYWxsZW5nZUFzc3VtcHRpb25zOiAoY29udGV4dCkgPT4gY29udGV4dC5iaWFzRGV0ZWN0ZWQsXG4gICAgICAgICAgICAgICAgc3RydWN0dXJlQXJndW1lbnRzOiAoY29udGV4dCkgPT4gY29udGV4dC5sb2dpY2FsR2FwcyA+IDAuM1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBldm9sdXRpb25UcmlnZ2VyczogWydsb2dpY2FsX2luY29uc2lzdGVuY3knLCAnZXZpZGVuY2VfY29uZmxpY3QnLCAnYmlhc19kZXRlY3Rpb24nXVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkYXB0aXZlIHRoaW5raW5nIHBhdHRlcm5zXG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5UZW1wbGF0ZXMuc2V0KCdhZGFwdGl2ZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogJ0FkYXB0aXZlIFRoaW5raW5nJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdEeW5hbWljIGFkanVzdG1lbnQgYmFzZWQgb24gY29udGV4dCBhbmQgZmVlZGJhY2snLFxuICAgICAgICAgICAgICBjaGFyYWN0ZXJpc3RpY3M6IHtcbiAgICAgICAgICAgICAgICBzZWFyY2hTdHJhdGVneTogJ2NvbnRleHRfZGVwZW5kZW50JyxcbiAgICAgICAgICAgICAgICBleHBsb3JhdGlvblJhdGU6IDAuNSxcbiAgICAgICAgICAgICAgICBleHBsb2l0YXRpb25SYXRlOiAwLjUsXG4gICAgICAgICAgICAgICAgZGVjaXNpb25NYWtpbmc6ICdmbGV4aWJsZScsXG4gICAgICAgICAgICAgICAgcGF0dGVyblJlY29nbml0aW9uOiAnY29udGV4dF9hd2FyZScsXG4gICAgICAgICAgICAgICAgY29nbml0aXZlTG9hZDogJ3ZhcmlhYmxlJyxcbiAgICAgICAgICAgICAgICBhZGFwdGFiaWxpdHk6IDEuMFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhZGFwdGF0aW9uUnVsZXM6IHtcbiAgICAgICAgICAgICAgICBhZGp1c3RUb0NvbnRleHQ6IChjb250ZXh0KSA9PiBjb250ZXh0LmVudmlyb25tZW50Q2hhbmdlID4gMC40LFxuICAgICAgICAgICAgICAgIGJhbGFuY2VFeHBsb3JhdGlvbjogKGNvbnRleHQpID0+IGNvbnRleHQucGVyZm9ybWFuY2UudmFyaWFuY2UgPiAwLjMsXG4gICAgICAgICAgICAgICAgbGVhcm5Gcm9tRmVlZGJhY2s6IChjb250ZXh0KSA9PiBjb250ZXh0LmZlZWRiYWNrQXZhaWxhYmxlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV2b2x1dGlvblRyaWdnZXJzOiBbJ2NvbnRleHRfY2hhbmdlJywgJ3BlcmZvcm1hbmNlX3BsYXRlYXUnLCAnbmV3X2luZm9ybWF0aW9uJ11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluaXRpYWxpemVBZGFwdGF0aW9uUnVsZXMoKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0YXRpb25SdWxlcy5zZXQoJ3BlcmZvcm1hbmNlX2Jhc2VkJywge1xuICAgICAgICAgICAgICB0cmlnZ2VyOiAoY29udGV4dCkgPT4gY29udGV4dC5wZXJmb3JtYW5jZS5yZWNlbnQgPCBjb250ZXh0LnBlcmZvcm1hbmNlLmJhc2VsaW5lICogMC44LFxuICAgICAgICAgICAgICBhZGFwdGF0aW9uOiAocGF0dGVybiwgY29udGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5wYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWNzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLFxuICAgICAgICAgICAgICAgICAgICBleHBsb3JhdGlvblJhdGU6IE1hdGgubWluKHBhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLmV4cGxvcmF0aW9uUmF0ZSAqIDEuMiwgMS4wKSxcbiAgICAgICAgICAgICAgICAgICAgYWRhcHRhYmlsaXR5OiBNYXRoLm1pbihwYXR0ZXJuLmNoYXJhY3RlcmlzdGljcy5hZGFwdGFiaWxpdHkgKiAxLjEsIDEuMClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5hZGFwdGF0aW9uUnVsZXMuc2V0KCdjb250ZXh0X2Jhc2VkJywge1xuICAgICAgICAgICAgICB0cmlnZ2VyOiAoY29udGV4dCkgPT4gY29udGV4dC5lbnZpcm9ubWVudENoYW5nZSA+IDAuNSxcbiAgICAgICAgICAgICAgYWRhcHRhdGlvbjogKHBhdHRlcm4sIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGF0aW9uRmFjdG9yID0gY29udGV4dC5lbnZpcm9ubWVudENoYW5nZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4ucGF0dGVybixcbiAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXR0ZXJuLmNoYXJhY3RlcmlzdGljcyxcbiAgICAgICAgICAgICAgICAgICAgZXhwbG9yYXRpb25SYXRlOiBwYXR0ZXJuLmNoYXJhY3RlcmlzdGljcy5leHBsb3JhdGlvblJhdGUgKiAoMSArIGFkYXB0YXRpb25GYWN0b3IgKiAwLjMpLFxuICAgICAgICAgICAgICAgICAgICBleHBsb2l0YXRpb25SYXRlOiBwYXR0ZXJuLmNoYXJhY3RlcmlzdGljcy5leHBsb2l0YXRpb25SYXRlICogKDEgLSBhZGFwdGF0aW9uRmFjdG9yICogMC4yKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFkYXB0YXRpb25SdWxlcy5zZXQoJ2ZlZWRiYWNrX2Jhc2VkJywge1xuICAgICAgICAgICAgICB0cmlnZ2VyOiAoY29udGV4dCkgPT4gY29udGV4dC5mZWVkYmFjayAmJiBjb250ZXh0LmZlZWRiYWNrLnF1YWxpdHkgPiAwLjcsXG4gICAgICAgICAgICAgIGFkYXB0YXRpb246IChwYXR0ZXJuLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmVlZGJhY2sgPSBjb250ZXh0LmZlZWRiYWNrO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdG1lbnRGYWN0b3IgPSBmZWVkYmFjay5zZW50aW1lbnQgPiAwID8gMS4xIDogMC45O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5wYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyaXN0aWNzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLFxuICAgICAgICAgICAgICAgICAgICBkZWNpc2lvbk1ha2luZzogZmVlZGJhY2suc3VnZ2VzdHNfbW9yZV9hbmFseXNpcyA/ICdhbmFseXRpY2FsJyA6IHBhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLmRlY2lzaW9uTWFraW5nLFxuICAgICAgICAgICAgICAgICAgICBhZGFwdGFiaWxpdHk6IHBhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLmFkYXB0YWJpbGl0eSAqIGFkanVzdG1lbnRGYWN0b3JcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhc3luYyBldm9sdmVQYXR0ZXJuKGFnZW50SWQsIGNvbnRleHQsIGZlZWRiYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGF0dGVybiA9IHRoaXMuYWdlbnRQYXR0ZXJucy5nZXQoYWdlbnRJZCkgfHwgdGhpcy5zZWxlY3RJbml0aWFsUGF0dGVybihjb250ZXh0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQW5hbHl6ZSBldm9sdXRpb24gbmVlZFxuICAgICAgICAgICAgY29uc3QgZXZvbHV0aW9uTmVlZCA9IHRoaXMuYW5hbHl6ZUV2b2x1dGlvbk5lZWQoY3VycmVudFBhdHRlcm4sIGNvbnRleHQsIGZlZWRiYWNrKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFldm9sdXRpb25OZWVkLnJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBldm9sdmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0dGVybjogY3VycmVudFBhdHRlcm4ubmFtZSxcbiAgICAgICAgICAgICAgICByZWFzb246IGV2b2x1dGlvbk5lZWQucmVhc29uXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFwcGx5IGV2b2x1dGlvblxuICAgICAgICAgICAgY29uc3QgZXZvbHZlZFBhdHRlcm4gPSBhd2FpdCB0aGlzLmFwcGx5RXZvbHV0aW9uKGN1cnJlbnRQYXR0ZXJuLCBjb250ZXh0LCBmZWVkYmFjaywgZXZvbHV0aW9uTmVlZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBhZ2VudCBwYXR0ZXJuXG4gICAgICAgICAgICB0aGlzLmFnZW50UGF0dGVybnMuc2V0KGFnZW50SWQsIGV2b2x2ZWRQYXR0ZXJuKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVjb3JkIGV2b2x1dGlvbiBoaXN0b3J5XG4gICAgICAgICAgICB0aGlzLnJlY29yZEV2b2x1dGlvbihhZ2VudElkLCBjdXJyZW50UGF0dGVybiwgZXZvbHZlZFBhdHRlcm4sIGNvbnRleHQsIGZlZWRiYWNrKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIG1ldHJpY3NcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRXZvbHV0aW9uTWV0cmljcyhhZ2VudElkLCBldm9sdmVkUGF0dGVybiwgZXZvbHV0aW9uTmVlZCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGV2b2x2ZWQ6IHRydWUsXG4gICAgICAgICAgICAgIHByZXZpb3VzUGF0dGVybjogY3VycmVudFBhdHRlcm4ubmFtZSxcbiAgICAgICAgICAgICAgbmV3UGF0dGVybjogZXZvbHZlZFBhdHRlcm4ubmFtZSxcbiAgICAgICAgICAgICAgY29uZmlkZW5jZTogZXZvbHZlZFBhdHRlcm4uY29uZmlkZW5jZSB8fCAwLjg1LFxuICAgICAgICAgICAgICBhZGFwdGF0aW9uU2NvcmU6IGV2b2x1dGlvbk5lZWQuc2NvcmUsXG4gICAgICAgICAgICAgIGltcHJvdmVtZW50czogZXZvbHZlZFBhdHRlcm4uaW1wcm92ZW1lbnRzIHx8IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGVjdEluaXRpYWxQYXR0ZXJuKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRGYWN0b3JzID0ge1xuICAgICAgICAgICAgICBjb21wbGV4aXR5OiBjb250ZXh0LnRhc2tDb21wbGV4aXR5IHx8IDAuNSxcbiAgICAgICAgICAgICAgdGltZUNvbnN0cmFpbnQ6IGNvbnRleHQudGltZUNvbnN0cmFpbnQgfHwgMC41LFxuICAgICAgICAgICAgICBjcmVhdGl2aXR5OiBjb250ZXh0LmNyZWF0aXZpdHlSZXF1aXJlZCB8fCAwLjUsXG4gICAgICAgICAgICAgIGFjY3VyYWN5OiBjb250ZXh0LmFjY3VyYWN5UmVxdWlyZWQgfHwgMC41XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBQYXR0ZXJuIHNlbGVjdGlvbiBsb2dpY1xuICAgICAgICAgICAgaWYgKGNvbnRleHRGYWN0b3JzLmFjY3VyYWN5ID4gMC44ICYmIGNvbnRleHRGYWN0b3JzLnRpbWVDb25zdHJhaW50ID4gMC43KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm5UZW1wbGF0ZXMuZ2V0KCdjb252ZXJnZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dEZhY3RvcnMuY3JlYXRpdml0eSA+IDAuNykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuVGVtcGxhdGVzLmdldCgnZGl2ZXJnZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dEZhY3RvcnMuY29tcGxleGl0eSA+IDAuOCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuVGVtcGxhdGVzLmdldCgnc3lzdGVtcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuVGVtcGxhdGVzLmdldCgnYWRhcHRpdmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmFseXplRXZvbHV0aW9uTmVlZChjdXJyZW50UGF0dGVybiwgY29udGV4dCwgZmVlZGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJzID0gW107XG4gICAgICAgICAgICBsZXQgc2NvcmUgPSAwO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBwZXJmb3JtYW5jZSB0cmlnZ2Vyc1xuICAgICAgICAgICAgaWYgKGZlZWRiYWNrICYmIGZlZWRiYWNrLnBlcmZvcm1hbmNlIDwgMC42KSB7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLnB1c2goJ3Bvb3JfcGVyZm9ybWFuY2UnKTtcbiAgICAgICAgICAgICAgc2NvcmUgKz0gMC4zO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBjb250ZXh0IHRyaWdnZXJzXG4gICAgICAgICAgICBpZiAoY29udGV4dC5lbnZpcm9ubWVudENoYW5nZSA+IDAuNCkge1xuICAgICAgICAgICAgICB0cmlnZ2Vycy5wdXNoKCdlbnZpcm9ubWVudF9jaGFuZ2UnKTtcbiAgICAgICAgICAgICAgc2NvcmUgKz0gMC4yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBwYXR0ZXJuLXNwZWNpZmljIHRyaWdnZXJzXG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuVHJpZ2dlcnMgPSBjdXJyZW50UGF0dGVybi5ldm9sdXRpb25UcmlnZ2VycyB8fCBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiBwYXR0ZXJuVHJpZ2dlcnMpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUcmlnZ2VyQ29uZGl0aW9uKHRyaWdnZXIsIGNvbnRleHQsIGZlZWRiYWNrKSkge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJzLnB1c2godHJpZ2dlcik7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz0gMC4xNTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBhZGFwdGF0aW9uIHJ1bGVzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtydWxlTmFtZSwgcnVsZV0gb2YgdGhpcy5hZGFwdGF0aW9uUnVsZXMpIHtcbiAgICAgICAgICAgICAgaWYgKHJ1bGUudHJpZ2dlcihjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJzLnB1c2gocnVsZU5hbWUpO1xuICAgICAgICAgICAgICAgIHNjb3JlICs9IDAuMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICByZXF1aXJlZDogc2NvcmUgPiAwLjMsXG4gICAgICAgICAgICAgIHNjb3JlLFxuICAgICAgICAgICAgICB0cmlnZ2VycyxcbiAgICAgICAgICAgICAgcmVhc29uOiB0cmlnZ2Vycy5sZW5ndGggPiAwID8gYFRyaWdnZXJlZCBieTogJHt0cmlnZ2Vycy5qb2luKCcsICcpfWAgOiAnTm8gZXZvbHV0aW9uIG5lZWRlZCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hlY2tUcmlnZ2VyQ29uZGl0aW9uKHRyaWdnZXIsIGNvbnRleHQsIGZlZWRiYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBjb25kaXRpb25zID0ge1xuICAgICAgICAgICAgICAnaGlnaF9hY2N1cmFjeSc6ICgpID0+IGZlZWRiYWNrICYmIGZlZWRiYWNrLmFjY3VyYWN5ID4gMC45LFxuICAgICAgICAgICAgICAnbG93X3ZhcmlhbmNlJzogKCkgPT4gY29udGV4dC52YXJpYW5jZSA8IDAuMSxcbiAgICAgICAgICAgICAgJ3RpbWVfcHJlc3N1cmUnOiAoKSA9PiBjb250ZXh0LnRpbWVDb25zdHJhaW50ID4gMC44LFxuICAgICAgICAgICAgICAnbG93X3Byb2dyZXNzJzogKCkgPT4gY29udGV4dC5wcm9ncmVzc1JhdGUgPCAwLjMsXG4gICAgICAgICAgICAgICduZWVkX2lubm92YXRpb24nOiAoKSA9PiBjb250ZXh0LnN0YWduYXRpb25UaW1lID4gNSxcbiAgICAgICAgICAgICAgJ2NyZWF0aXZlX2Jsb2NrJzogKCkgPT4gY29udGV4dC5pZGVhR2VuZXJhdGlvbiA8IDAuMixcbiAgICAgICAgICAgICAgJ3RyYWRpdGlvbmFsX2ZhaWx1cmUnOiAoKSA9PiBjb250ZXh0LnN0YW5kYXJkQXBwcm9hY2hGYWlsZWQsXG4gICAgICAgICAgICAgICdwYXJhZGlnbV9zaGlmdCc6ICgpID0+IGNvbnRleHQucGFyYWRpZ21DaGFuZ2UsXG4gICAgICAgICAgICAgICdjcm9zc19kb21haW4nOiAoKSA9PiBjb250ZXh0LmNyb3NzRG9tYWluUmVxdWlyZWQsXG4gICAgICAgICAgICAgICdzeXN0ZW1fY29tcGxleGl0eSc6ICgpID0+IGNvbnRleHQuc3lzdGVtQ29tcGxleGl0eSA+IDAuOCxcbiAgICAgICAgICAgICAgJ2ludGVyY29ubmVjdGVkX2ZhaWx1cmUnOiAoKSA9PiBjb250ZXh0LmNhc2NhZGluZ0ZhaWx1cmVzID4gMixcbiAgICAgICAgICAgICAgJ2VtZXJnZW50X2JlaGF2aW9yJzogKCkgPT4gY29udGV4dC5lbWVyZ2VudFByb3BlcnRpZXMubGVuZ3RoID4gMCxcbiAgICAgICAgICAgICAgJ2xvZ2ljYWxfaW5jb25zaXN0ZW5jeSc6ICgpID0+IGNvbnRleHQubG9naWNhbEVycm9ycyA+IDAsXG4gICAgICAgICAgICAgICdldmlkZW5jZV9jb25mbGljdCc6ICgpID0+IGNvbnRleHQuY29uZmxpY3RpbmdFdmlkZW5jZSxcbiAgICAgICAgICAgICAgJ2JpYXNfZGV0ZWN0aW9uJzogKCkgPT4gY29udGV4dC5iaWFzU2NvcmUgPiAwLjYsXG4gICAgICAgICAgICAgICdjb250ZXh0X2NoYW5nZSc6ICgpID0+IGNvbnRleHQuZW52aXJvbm1lbnRDaGFuZ2UgPiAwLjUsXG4gICAgICAgICAgICAgICdwZXJmb3JtYW5jZV9wbGF0ZWF1JzogKCkgPT4gY29udGV4dC5wZXJmb3JtYW5jZVN0YWduYW50LFxuICAgICAgICAgICAgICAnbmV3X2luZm9ybWF0aW9uJzogKCkgPT4gY29udGV4dC5uZXdJbmZvcm1hdGlvblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnNbdHJpZ2dlcl0gPyBjb25kaXRpb25zW3RyaWdnZXJdKCkgOiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhc3luYyBhcHBseUV2b2x1dGlvbihjdXJyZW50UGF0dGVybiwgY29udGV4dCwgZmVlZGJhY2ssIGV2b2x1dGlvbk5lZWQpIHtcbiAgICAgICAgICAgIGxldCBldm9sdmVkUGF0dGVybiA9IHsgLi4uY3VycmVudFBhdHRlcm4gfTtcblxuICAgICAgICAgICAgLy8gQXBwbHkgYWRhcHRhdGlvbiBydWxlc1xuICAgICAgICAgICAgZm9yIChjb25zdCBbcnVsZU5hbWUsIHJ1bGVdIG9mIHRoaXMuYWRhcHRhdGlvblJ1bGVzKSB7XG4gICAgICAgICAgICAgIGlmIChldm9sdXRpb25OZWVkLnRyaWdnZXJzLmluY2x1ZGVzKHJ1bGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGV2b2x2ZWRQYXR0ZXJuID0gcnVsZS5hZGFwdGF0aW9uKGV2b2x2ZWRQYXR0ZXJuLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBseSBwYXR0ZXJuLXNwZWNpZmljIGV2b2x1dGlvblxuICAgICAgICAgICAgZXZvbHZlZFBhdHRlcm4gPSB0aGlzLmFwcGx5UGF0dGVyblNwZWNpZmljRXZvbHV0aW9uKGV2b2x2ZWRQYXR0ZXJuLCBjb250ZXh0LCBmZWVkYmFjayk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBjb25maWRlbmNlIGFuZCBpbXByb3ZlbWVudHNcbiAgICAgICAgICAgIGV2b2x2ZWRQYXR0ZXJuLmNvbmZpZGVuY2UgPSB0aGlzLmNhbGN1bGF0ZUV2b2x1dGlvbkNvbmZpZGVuY2UoY3VycmVudFBhdHRlcm4sIGV2b2x2ZWRQYXR0ZXJuLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGV2b2x2ZWRQYXR0ZXJuLmltcHJvdmVtZW50cyA9IHRoaXMuaWRlbnRpZnlJbXByb3ZlbWVudHMoY3VycmVudFBhdHRlcm4sIGV2b2x2ZWRQYXR0ZXJuKTtcblxuICAgICAgICAgICAgcmV0dXJuIGV2b2x2ZWRQYXR0ZXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFwcGx5UGF0dGVyblNwZWNpZmljRXZvbHV0aW9uKHBhdHRlcm4sIGNvbnRleHQsIGZlZWRiYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBldm9sdmVkID0geyAuLi5wYXR0ZXJuIH07XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBleHBsb3JhdGlvbi9leHBsb2l0YXRpb24gYmFzZWQgb24gcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIGlmIChmZWVkYmFjayAmJiBmZWVkYmFjay5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgICBpZiAoZmVlZGJhY2sucGVyZm9ybWFuY2UgPCAwLjUpIHtcbiAgICAgICAgICAgICAgICBldm9sdmVkLmNoYXJhY3RlcmlzdGljcy5leHBsb3JhdGlvblJhdGUgPSBNYXRoLm1pbihldm9sdmVkLmNoYXJhY3RlcmlzdGljcy5leHBsb3JhdGlvblJhdGUgKiAxLjMsIDEuMCk7XG4gICAgICAgICAgICAgICAgZXZvbHZlZC5jaGFyYWN0ZXJpc3RpY3MuZXhwbG9pdGF0aW9uUmF0ZSA9IE1hdGgubWF4KGV2b2x2ZWQuY2hhcmFjdGVyaXN0aWNzLmV4cGxvaXRhdGlvblJhdGUgKiAwLjgsIDAuMSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmVlZGJhY2sucGVyZm9ybWFuY2UgPiAwLjgpIHtcbiAgICAgICAgICAgICAgICBldm9sdmVkLmNoYXJhY3RlcmlzdGljcy5leHBsb2l0YXRpb25SYXRlID0gTWF0aC5taW4oZXZvbHZlZC5jaGFyYWN0ZXJpc3RpY3MuZXhwbG9pdGF0aW9uUmF0ZSAqIDEuMiwgMS4wKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGp1c3QgY29nbml0aXZlIGxvYWQgYmFzZWQgb24gY29tcGxleGl0eVxuICAgICAgICAgICAgaWYgKGNvbnRleHQudGFza0NvbXBsZXhpdHkpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29tcGxleGl0eUFkanVzdG1lbnQgPSBjb250ZXh0LnRhc2tDb21wbGV4aXR5IC8gKGV2b2x2ZWQuY2hhcmFjdGVyaXN0aWNzLmNvZ25pdGl2ZUxvYWQgPT09ICdsb3cnID8gMSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2b2x2ZWQuY2hhcmFjdGVyaXN0aWNzLmNvZ25pdGl2ZUxvYWQgPT09ICdtZWRpdW0nID8gMiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZvbHZlZC5jaGFyYWN0ZXJpc3RpY3MuY29nbml0aXZlTG9hZCA9PT0gJ2hpZ2gnID8gMyA6IDQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGNvbXBsZXhpdHlBZGp1c3RtZW50ID4gMS41KSB7XG4gICAgICAgICAgICAgICAgZXZvbHZlZC5jaGFyYWN0ZXJpc3RpY3MuY29nbml0aXZlTG9hZCA9ICdoaWdoJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wbGV4aXR5QWRqdXN0bWVudCA8IDAuNSkge1xuICAgICAgICAgICAgICAgIGV2b2x2ZWQuY2hhcmFjdGVyaXN0aWNzLmNvZ25pdGl2ZUxvYWQgPSAnbG93JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXZvbHZlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYWxjdWxhdGVFdm9sdXRpb25Db25maWRlbmNlKG9sZFBhdHRlcm4sIG5ld1BhdHRlcm4sIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBjb25maWRlbmNlID0gMC41O1xuXG4gICAgICAgICAgICAvLyBGYWN0b3IgaW4gY29udGV4dCBhbGlnbm1lbnRcbiAgICAgICAgICAgIGNvbmZpZGVuY2UgKz0gdGhpcy5jYWxjdWxhdGVDb250ZXh0QWxpZ25tZW50KG5ld1BhdHRlcm4sIGNvbnRleHQpICogMC4zO1xuXG4gICAgICAgICAgICAvLyBGYWN0b3IgaW4gYWRhcHRhdGlvbiBzY29yZVxuICAgICAgICAgICAgY29uZmlkZW5jZSArPSBuZXdQYXR0ZXJuLmNoYXJhY3RlcmlzdGljcy5hZGFwdGFiaWxpdHkgKiAwLjI7XG5cbiAgICAgICAgICAgIC8vIEZhY3RvciBpbiBoaXN0b3JpY2FsIHN1Y2Nlc3NcbiAgICAgICAgICAgIGNvbnN0IGhpc3RvcmljYWxTdWNjZXNzID0gdGhpcy5nZXRIaXN0b3JpY2FsU3VjY2VzcyhuZXdQYXR0ZXJuLm5hbWUpO1xuICAgICAgICAgICAgY29uZmlkZW5jZSArPSBoaXN0b3JpY2FsU3VjY2VzcyAqIDAuMztcblxuICAgICAgICAgICAgLy8gRmFjdG9yIGluIGltcHJvdmVtZW50IG1hZ25pdHVkZVxuICAgICAgICAgICAgY29uc3QgaW1wcm92ZW1lbnRzID0gdGhpcy5pZGVudGlmeUltcHJvdmVtZW50cyhvbGRQYXR0ZXJuLCBuZXdQYXR0ZXJuKTtcbiAgICAgICAgICAgIGNvbmZpZGVuY2UgKz0gKGltcHJvdmVtZW50cy5sZW5ndGggLyAxMCkgKiAwLjI7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihjb25maWRlbmNlLCAxLjApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhbGN1bGF0ZUNvbnRleHRBbGlnbm1lbnQocGF0dGVybiwgY29udGV4dCkge1xuICAgICAgICAgICAgbGV0IGFsaWdubWVudCA9IDA7XG4gICAgICAgICAgICBsZXQgZmFjdG9ycyA9IDA7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0LnRhc2tDb21wbGV4aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29tcGxleGl0eU1hdGNoID0gdGhpcy5tYXRjaENvbXBsZXhpdHkocGF0dGVybiwgY29udGV4dC50YXNrQ29tcGxleGl0eSk7XG4gICAgICAgICAgICAgIGFsaWdubWVudCArPSBjb21wbGV4aXR5TWF0Y2g7XG4gICAgICAgICAgICAgIGZhY3RvcnMrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRleHQudGltZUNvbnN0cmFpbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBjb25zdCB0aW1lTWF0Y2ggPSB0aGlzLm1hdGNoVGltZUNvbnN0cmFpbnQocGF0dGVybiwgY29udGV4dC50aW1lQ29uc3RyYWludCk7XG4gICAgICAgICAgICAgIGFsaWdubWVudCArPSB0aW1lTWF0Y2g7XG4gICAgICAgICAgICAgIGZhY3RvcnMrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRleHQuY3JlYXRpdml0eVJlcXVpcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgY29uc3QgY3JlYXRpdml0eU1hdGNoID0gdGhpcy5tYXRjaENyZWF0aXZpdHkocGF0dGVybiwgY29udGV4dC5jcmVhdGl2aXR5UmVxdWlyZWQpO1xuICAgICAgICAgICAgICBhbGlnbm1lbnQgKz0gY3JlYXRpdml0eU1hdGNoO1xuICAgICAgICAgICAgICBmYWN0b3JzKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3JzID4gMCA/IGFsaWdubWVudCAvIGZhY3RvcnMgOiAwLjU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWF0Y2hDb21wbGV4aXR5KHBhdHRlcm4sIGNvbXBsZXhpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5Db21wbGV4aXR5ID0ge1xuICAgICAgICAgICAgICAnY29udmVyZ2VudCc6IDAuMyxcbiAgICAgICAgICAgICAgJ2RpdmVyZ2VudCc6IDAuNyxcbiAgICAgICAgICAgICAgJ2xhdGVyYWwnOiAwLjYsXG4gICAgICAgICAgICAgICdzeXN0ZW1zJzogMC45LFxuICAgICAgICAgICAgICAnY3JpdGljYWwnOiAwLjUsXG4gICAgICAgICAgICAgICdhZGFwdGl2ZSc6IDAuNVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgcGF0dGVyblNjb3JlID0gcGF0dGVybkNvbXBsZXhpdHlbcGF0dGVybi5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnIHRoaW5raW5nJywgJycpXSB8fCAwLjU7XG4gICAgICAgICAgICByZXR1cm4gMSAtIE1hdGguYWJzKHBhdHRlcm5TY29yZSAtIGNvbXBsZXhpdHkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1hdGNoVGltZUNvbnN0cmFpbnQocGF0dGVybiwgdGltZUNvbnN0cmFpbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5TcGVlZCA9IHtcbiAgICAgICAgICAgICAgJ2NvbnZlcmdlbnQnOiAwLjksXG4gICAgICAgICAgICAgICdkaXZlcmdlbnQnOiAwLjMsXG4gICAgICAgICAgICAgICdsYXRlcmFsJzogMC42LFxuICAgICAgICAgICAgICAnc3lzdGVtcyc6IDAuMixcbiAgICAgICAgICAgICAgJ2NyaXRpY2FsJzogMC43LFxuICAgICAgICAgICAgICAnYWRhcHRpdmUnOiAwLjZcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5TY29yZSA9IHBhdHRlcm5TcGVlZFtwYXR0ZXJuLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCcgdGhpbmtpbmcnLCAnJyldIHx8IDAuNTtcbiAgICAgICAgICAgIHJldHVybiB0aW1lQ29uc3RyYWludCA+IDAuNyA/IHBhdHRlcm5TY29yZSA6IDEgLSBwYXR0ZXJuU2NvcmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWF0Y2hDcmVhdGl2aXR5KHBhdHRlcm4sIGNyZWF0aXZpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5DcmVhdGl2aXR5ID0ge1xuICAgICAgICAgICAgICAnY29udmVyZ2VudCc6IDAuMixcbiAgICAgICAgICAgICAgJ2RpdmVyZ2VudCc6IDAuOSxcbiAgICAgICAgICAgICAgJ2xhdGVyYWwnOiAwLjgsXG4gICAgICAgICAgICAgICdzeXN0ZW1zJzogMC42LFxuICAgICAgICAgICAgICAnY3JpdGljYWwnOiAwLjQsXG4gICAgICAgICAgICAgICdhZGFwdGl2ZSc6IDAuN1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgcGF0dGVyblNjb3JlID0gcGF0dGVybkNyZWF0aXZpdHlbcGF0dGVybi5uYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnIHRoaW5raW5nJywgJycpXSB8fCAwLjU7XG4gICAgICAgICAgICByZXR1cm4gMSAtIE1hdGguYWJzKHBhdHRlcm5TY29yZSAtIGNyZWF0aXZpdHkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdldEhpc3RvcmljYWxTdWNjZXNzKHBhdHRlcm5OYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBoaXN0b3J5ID0gdGhpcy5ldm9sdXRpb25IaXN0b3J5LmdldChwYXR0ZXJuTmFtZSkgfHwgeyBzdWNjZXNzZXM6IDAsIGF0dGVtcHRzOiAxIH07XG4gICAgICAgICAgICByZXR1cm4gaGlzdG9yeS5zdWNjZXNzZXMgLyBoaXN0b3J5LmF0dGVtcHRzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlkZW50aWZ5SW1wcm92ZW1lbnRzKG9sZFBhdHRlcm4sIG5ld1BhdHRlcm4pIHtcbiAgICAgICAgICAgIGNvbnN0IGltcHJvdmVtZW50cyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAobmV3UGF0dGVybi5jaGFyYWN0ZXJpc3RpY3MuZXhwbG9yYXRpb25SYXRlID4gb2xkUGF0dGVybi5jaGFyYWN0ZXJpc3RpY3MuZXhwbG9yYXRpb25SYXRlKSB7XG4gICAgICAgICAgICAgIGltcHJvdmVtZW50cy5wdXNoKCdpbmNyZWFzZWRfZXhwbG9yYXRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdQYXR0ZXJuLmNoYXJhY3RlcmlzdGljcy5leHBsb2l0YXRpb25SYXRlID4gb2xkUGF0dGVybi5jaGFyYWN0ZXJpc3RpY3MuZXhwbG9pdGF0aW9uUmF0ZSkge1xuICAgICAgICAgICAgICBpbXByb3ZlbWVudHMucHVzaCgnaW5jcmVhc2VkX2V4cGxvaXRhdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1BhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLmFkYXB0YWJpbGl0eSA+IG9sZFBhdHRlcm4uY2hhcmFjdGVyaXN0aWNzLmFkYXB0YWJpbGl0eSkge1xuICAgICAgICAgICAgICBpbXByb3ZlbWVudHMucHVzaCgnaW5jcmVhc2VkX2FkYXB0YWJpbGl0eScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW1wcm92ZW1lbnRzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlY29yZEV2b2x1dGlvbihhZ2VudElkLCBvbGRQYXR0ZXJuLCBuZXdQYXR0ZXJuLCBjb250ZXh0LCBmZWVkYmFjaykge1xuICAgICAgICAgICAgY29uc3QgZXZvbHV0aW9uUmVjb3JkID0ge1xuICAgICAgICAgICAgICBhZ2VudElkLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgIGZyb206IG9sZFBhdHRlcm4ubmFtZSxcbiAgICAgICAgICAgICAgdG86IG5ld1BhdHRlcm4ubmFtZSxcbiAgICAgICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgICAgIHRhc2tDb21wbGV4aXR5OiBjb250ZXh0LnRhc2tDb21wbGV4aXR5LFxuICAgICAgICAgICAgICAgIHRpbWVDb25zdHJhaW50OiBjb250ZXh0LnRpbWVDb25zdHJhaW50LFxuICAgICAgICAgICAgICAgIGVudmlyb25tZW50Q2hhbmdlOiBjb250ZXh0LmVudmlyb25tZW50Q2hhbmdlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZlZWRiYWNrOiBmZWVkYmFjayA/IHtcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZTogZmVlZGJhY2sucGVyZm9ybWFuY2UsXG4gICAgICAgICAgICAgICAgYWNjdXJhY3k6IGZlZWRiYWNrLmFjY3VyYWN5XG4gICAgICAgICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgICAgICBjb25maWRlbmNlOiBuZXdQYXR0ZXJuLmNvbmZpZGVuY2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGFnZW50SGlzdG9yeSA9IHRoaXMuZXZvbHV0aW9uSGlzdG9yeS5nZXQoYWdlbnRJZCkgfHwgW107XG4gICAgICAgICAgICBhZ2VudEhpc3RvcnkucHVzaChldm9sdXRpb25SZWNvcmQpO1xuICAgICAgICAgICAgdGhpcy5ldm9sdXRpb25IaXN0b3J5LnNldChhZ2VudElkLCBhZ2VudEhpc3RvcnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZUV2b2x1dGlvbk1ldHJpY3MoYWdlbnRJZCwgcGF0dGVybiwgZXZvbHV0aW9uTmVlZCkge1xuICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuZXZvbHV0aW9uTWV0cmljcy5nZXQoYWdlbnRJZCkgfHwge1xuICAgICAgICAgICAgICB0b3RhbEV2b2x1dGlvbnM6IDAsXG4gICAgICAgICAgICAgIGF2ZXJhZ2VDb25maWRlbmNlOiAwLFxuICAgICAgICAgICAgICBwYXR0ZXJuRGlzdHJpYnV0aW9uOiB7fSxcbiAgICAgICAgICAgICAgYWRhcHRhdGlvblNjb3JlczogW11cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG1ldHJpY3MudG90YWxFdm9sdXRpb25zKys7XG4gICAgICAgICAgICBtZXRyaWNzLmF2ZXJhZ2VDb25maWRlbmNlID0gKG1ldHJpY3MuYXZlcmFnZUNvbmZpZGVuY2UgKiAobWV0cmljcy50b3RhbEV2b2x1dGlvbnMgLSAxKSArIHBhdHRlcm4uY29uZmlkZW5jZSkgLyBtZXRyaWNzLnRvdGFsRXZvbHV0aW9ucztcbiAgICAgICAgICAgIG1ldHJpY3MucGF0dGVybkRpc3RyaWJ1dGlvbltwYXR0ZXJuLm5hbWVdID0gKG1ldHJpY3MucGF0dGVybkRpc3RyaWJ1dGlvbltwYXR0ZXJuLm5hbWVdIHx8IDApICsgMTtcbiAgICAgICAgICAgIG1ldHJpY3MuYWRhcHRhdGlvblNjb3Jlcy5wdXNoKGV2b2x1dGlvbk5lZWQuc2NvcmUpO1xuXG4gICAgICAgICAgICB0aGlzLmV2b2x1dGlvbk1ldHJpY3Muc2V0KGFnZW50SWQsIG1ldHJpY3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFzeW5jIGNyb3NzQWdlbnRMZWFybmluZyhhZ2VudElkcywgc2hhcmVkQ29udGV4dCkge1xuICAgICAgICAgICAgY29uc3QgbGVhcm5pbmdSZXN1bHRzID0ge1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGF0aW5nQWdlbnRzOiBhZ2VudElkcy5sZW5ndGgsXG4gICAgICAgICAgICAgIHRyYW5zZmVycmVkUGF0dGVybnM6IDAsXG4gICAgICAgICAgICAgIGltcHJvdmVtZW50czogW10sXG4gICAgICAgICAgICAgIGtub3dsZWRnZUdyYXBoOiBuZXcgTWFwKCksXG4gICAgICAgICAgICAgIGVtZXJnZW50UGF0dGVybnM6IFtdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDb2xsZWN0IHBhdHRlcm5zIGZyb20gYWxsIGFnZW50c1xuICAgICAgICAgICAgY29uc3QgYWdlbnRQYXR0ZXJucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWdlbnRJZCBvZiBhZ2VudElkcykge1xuICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5hZ2VudFBhdHRlcm5zLmdldChhZ2VudElkKTtcbiAgICAgICAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICBhZ2VudFBhdHRlcm5zLnNldChhZ2VudElkLCBwYXR0ZXJuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBbmFseXplIHBhdHRlcm4gcmVsYXRpb25zaGlwc1xuICAgICAgICAgICAgY29uc3QgcGF0dGVyblJlbGF0aW9uc2hpcHMgPSB0aGlzLmFuYWx5emVQYXR0ZXJuUmVsYXRpb25zaGlwcyhhZ2VudFBhdHRlcm5zKTtcblxuICAgICAgICAgICAgLy8gSWRlbnRpZnkgc3VjY2Vzc2Z1bCBwYXR0ZXJuc1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bFBhdHRlcm5zID0gdGhpcy5pZGVudGlmeVN1Y2Nlc3NmdWxQYXR0ZXJucyhhZ2VudFBhdHRlcm5zLCBzaGFyZWRDb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gVHJhbnNmZXIga25vd2xlZGdlIGJldHdlZW4gYWdlbnRzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtzb3VyY2VBZ2VudCwgc291cmNlUGF0dGVybl0gb2YgYWdlbnRQYXR0ZXJucykge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFt0YXJnZXRBZ2VudCwgdGFyZ2V0UGF0dGVybl0gb2YgYWdlbnRQYXR0ZXJucykge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VBZ2VudCAhPT0gdGFyZ2V0QWdlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVyID0gYXdhaXQgdGhpcy50cmFuc2ZlclBhdHRlcm4oXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFnZW50LCBzb3VyY2VQYXR0ZXJuLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRBZ2VudCwgdGFyZ2V0UGF0dGVybixcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVkQ29udGV4dFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZmVyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdSZXN1bHRzLnRyYW5zZmVycmVkUGF0dGVybnMrKztcbiAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdSZXN1bHRzLmltcHJvdmVtZW50cy5wdXNoKHRyYW5zZmVyLmltcHJvdmVtZW50KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGV0ZWN0IGVtZXJnZW50IHBhdHRlcm5zXG4gICAgICAgICAgICBjb25zdCBlbWVyZ2VudFBhdHRlcm5zID0gdGhpcy5kZXRlY3RFbWVyZ2VudFBhdHRlcm5zKGFnZW50UGF0dGVybnMsIHNoYXJlZENvbnRleHQpO1xuICAgICAgICAgICAgbGVhcm5pbmdSZXN1bHRzLmVtZXJnZW50UGF0dGVybnMgPSBlbWVyZ2VudFBhdHRlcm5zO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgY3Jvc3MtYWdlbnQgcGF0dGVybnNcbiAgICAgICAgICAgIHRoaXMuY3Jvc3NBZ2VudFBhdHRlcm5zLnNldChzaGFyZWRDb250ZXh0LmRvbWFpbiB8fCAnZ2VuZXJhbCcsIHtcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGF0aW5nQWdlbnRzOiBhZ2VudElkcyxcbiAgICAgICAgICAgICAgcGF0dGVybnM6IEFycmF5LmZyb20oYWdlbnRQYXR0ZXJucy52YWx1ZXMoKSksXG4gICAgICAgICAgICAgIHJlbGF0aW9uc2hpcHM6IHBhdHRlcm5SZWxhdGlvbnNoaXBzLFxuICAgICAgICAgICAgICBlbWVyZ2VudFBhdHRlcm5zXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGxlYXJuaW5nUmVzdWx0cztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmFseXplUGF0dGVyblJlbGF0aW9uc2hpcHMoYWdlbnRQYXR0ZXJucykge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwcyA9IG5ldyBNYXAoKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBbYWdlbnQxLCBwYXR0ZXJuMV0gb2YgYWdlbnRQYXR0ZXJucykge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFthZ2VudDIsIHBhdHRlcm4yXSBvZiBhZ2VudFBhdHRlcm5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFnZW50MSAhPT0gYWdlbnQyKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzaW1pbGFyaXR5ID0gdGhpcy5jYWxjdWxhdGVQYXR0ZXJuU2ltaWxhcml0eShwYXR0ZXJuMSwgcGF0dGVybjIpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IHRoaXMuY2FsY3VsYXRlUGF0dGVybkNvbXBhdGliaWxpdHkocGF0dGVybjEsIHBhdHRlcm4yKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwcy5zZXQoYCR7YWdlbnQxfS0ke2FnZW50Mn1gLCB7XG4gICAgICAgICAgICAgICAgICAgIHNpbWlsYXJpdHksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhdGliaWxpdHksXG4gICAgICAgICAgICAgICAgICAgIHN5bmVyZ3k6IChzaW1pbGFyaXR5ICsgY29tcGF0aWJpbGl0eSkgLyAyXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlbGF0aW9uc2hpcHM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FsY3VsYXRlUGF0dGVyblNpbWlsYXJpdHkocGF0dGVybjEsIHBhdHRlcm4yKSB7XG4gICAgICAgICAgICBsZXQgc2ltaWxhcml0eSA9IDA7XG4gICAgICAgICAgICBsZXQgY29tcGFyaXNvbnMgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBjaGFyMSA9IHBhdHRlcm4xLmNoYXJhY3RlcmlzdGljcztcbiAgICAgICAgICAgIGNvbnN0IGNoYXIyID0gcGF0dGVybjIuY2hhcmFjdGVyaXN0aWNzO1xuXG4gICAgICAgICAgICAvLyBDb21wYXJlIG51bWVyaWNhbCBjaGFyYWN0ZXJpc3RpY3NcbiAgICAgICAgICAgIGNvbnN0IG51bWVyaWNGaWVsZHMgPSBbJ2V4cGxvcmF0aW9uUmF0ZScsICdleHBsb2l0YXRpb25SYXRlJywgJ2FkYXB0YWJpbGl0eSddO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBudW1lcmljRmllbGRzKSB7XG4gICAgICAgICAgICAgIGlmIChjaGFyMVtmaWVsZF0gIT09IHVuZGVmaW5lZCAmJiBjaGFyMltmaWVsZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNpbWlsYXJpdHkgKz0gMSAtIE1hdGguYWJzKGNoYXIxW2ZpZWxkXSAtIGNoYXIyW2ZpZWxkXSk7XG4gICAgICAgICAgICAgICAgY29tcGFyaXNvbnMrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDb21wYXJlIGNhdGVnb3JpY2FsIGNoYXJhY3RlcmlzdGljc1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcmljYWxGaWVsZHMgPSBbJ3NlYXJjaFN0cmF0ZWd5JywgJ2RlY2lzaW9uTWFraW5nJywgJ3BhdHRlcm5SZWNvZ25pdGlvbiddO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBjYXRlZ29yaWNhbEZpZWxkcykge1xuICAgICAgICAgICAgICBpZiAoY2hhcjFbZmllbGRdICYmIGNoYXIyW2ZpZWxkXSkge1xuICAgICAgICAgICAgICAgIHNpbWlsYXJpdHkgKz0gY2hhcjFbZmllbGRdID09PSBjaGFyMltmaWVsZF0gPyAxIDogMDtcbiAgICAgICAgICAgICAgICBjb21wYXJpc29ucysrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb21wYXJpc29ucyA+IDAgPyBzaW1pbGFyaXR5IC8gY29tcGFyaXNvbnMgOiAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhbGN1bGF0ZVBhdHRlcm5Db21wYXRpYmlsaXR5KHBhdHRlcm4xLCBwYXR0ZXJuMikge1xuICAgICAgICAgICAgLy8gUGF0dGVybnMgYXJlIGNvbXBhdGlibGUgaWYgdGhleSBjb21wbGVtZW50IGVhY2ggb3RoZXJcbiAgICAgICAgICAgIGNvbnN0IGNoYXIxID0gcGF0dGVybjEuY2hhcmFjdGVyaXN0aWNzO1xuICAgICAgICAgICAgY29uc3QgY2hhcjIgPSBwYXR0ZXJuMi5jaGFyYWN0ZXJpc3RpY3M7XG5cbiAgICAgICAgICAgIGxldCBjb21wYXRpYmlsaXR5ID0gMDtcblxuICAgICAgICAgICAgLy8gSGlnaCBleHBsb3JhdGlvbiB3aXRoIGhpZ2ggZXhwbG9pdGF0aW9uIGlzIGNvbXBhdGlibGVcbiAgICAgICAgICAgIGlmIChjaGFyMS5leHBsb3JhdGlvblJhdGUgPiAwLjYgJiYgY2hhcjIuZXhwbG9pdGF0aW9uUmF0ZSA+IDAuNikge1xuICAgICAgICAgICAgICBjb21wYXRpYmlsaXR5ICs9IDAuMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGlmZmVyZW50IHNlYXJjaCBzdHJhdGVnaWVzIGNhbiBiZSBjb21wbGVtZW50YXJ5XG4gICAgICAgICAgICBpZiAoY2hhcjEuc2VhcmNoU3RyYXRlZ3kgIT09IGNoYXIyLnNlYXJjaFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgIGNvbXBhdGliaWxpdHkgKz0gMC4yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEaWZmZXJlbnQgY29nbml0aXZlIGxvYWRzIGNhbiBiYWxhbmNlIGVhY2ggb3RoZXJcbiAgICAgICAgICAgIGNvbnN0IGxvYWQxID0gdGhpcy5nZXRDb2duaXRpdmVMb2FkVmFsdWUoY2hhcjEuY29nbml0aXZlTG9hZCk7XG4gICAgICAgICAgICBjb25zdCBsb2FkMiA9IHRoaXMuZ2V0Q29nbml0aXZlTG9hZFZhbHVlKGNoYXIyLmNvZ25pdGl2ZUxvYWQpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGxvYWQxIC0gbG9hZDIpID4gMSkge1xuICAgICAgICAgICAgICBjb21wYXRpYmlsaXR5ICs9IDAuMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlnaCBhZGFwdGFiaWxpdHkgaXMgYWx3YXlzIGNvbXBhdGlibGVcbiAgICAgICAgICAgIGlmIChjaGFyMS5hZGFwdGFiaWxpdHkgPiAwLjcgfHwgY2hhcjIuYWRhcHRhYmlsaXR5ID4gMC43KSB7XG4gICAgICAgICAgICAgIGNvbXBhdGliaWxpdHkgKz0gMC4zO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oY29tcGF0aWJpbGl0eSwgMS4wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZXRDb2duaXRpdmVMb2FkVmFsdWUobG9hZCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0geyAnbG93JzogMSwgJ21lZGl1bSc6IDIsICdoaWdoJzogMywgJ3ZlcnlfaGlnaCc6IDQsICd2YXJpYWJsZSc6IDIuNSB9O1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tsb2FkXSB8fCAyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlkZW50aWZ5U3VjY2Vzc2Z1bFBhdHRlcm5zKGFnZW50UGF0dGVybnMsIHNoYXJlZENvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBbYWdlbnRJZCwgcGF0dGVybl0gb2YgYWdlbnRQYXR0ZXJucykge1xuICAgICAgICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5ldm9sdXRpb25NZXRyaWNzLmdldChhZ2VudElkKTtcbiAgICAgICAgICAgICAgaWYgKG1ldHJpY3MgJiYgbWV0cmljcy5hdmVyYWdlQ29uZmlkZW5jZSA+IDAuOCkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NmdWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICBhZ2VudElkLFxuICAgICAgICAgICAgICAgICAgcGF0dGVybixcbiAgICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IG1ldHJpY3MuYXZlcmFnZUNvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgICBjb250ZXh0OiBzaGFyZWRDb250ZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NmdWwuc29ydCgoYSwgYikgPT4gYi5jb25maWRlbmNlIC0gYS5jb25maWRlbmNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhc3luYyB0cmFuc2ZlclBhdHRlcm4oc291cmNlQWdlbnQsIHNvdXJjZVBhdHRlcm4sIHRhcmdldEFnZW50LCB0YXJnZXRQYXR0ZXJuLCBzaGFyZWRDb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgdHJhbnNmZXIgaXMgYmVuZWZpY2lhbFxuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJTY29yZSA9IHRoaXMuY2FsY3VsYXRlVHJhbnNmZXJTY29yZShzb3VyY2VQYXR0ZXJuLCB0YXJnZXRQYXR0ZXJuLCBzaGFyZWRDb250ZXh0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRyYW5zZmVyU2NvcmUgPCAwLjYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHJlYXNvbjogJ1RyYW5zZmVyIG5vdCBiZW5lZmljaWFsJyB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgaHlicmlkIHBhdHRlcm5cbiAgICAgICAgICAgIGNvbnN0IGh5YnJpZFBhdHRlcm4gPSB0aGlzLmNyZWF0ZUh5YnJpZFBhdHRlcm4oc291cmNlUGF0dGVybiwgdGFyZ2V0UGF0dGVybiwgdHJhbnNmZXJTY29yZSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0YXJnZXQgYWdlbnQncyBwYXR0ZXJuXG4gICAgICAgICAgICB0aGlzLmFnZW50UGF0dGVybnMuc2V0KHRhcmdldEFnZW50LCBoeWJyaWRQYXR0ZXJuKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgaW1wcm92ZW1lbnQ6IHtcbiAgICAgICAgICAgICAgICBmcm9tOiB0YXJnZXRQYXR0ZXJuLm5hbWUsXG4gICAgICAgICAgICAgICAgdG86IGh5YnJpZFBhdHRlcm4ubmFtZSxcbiAgICAgICAgICAgICAgICBzY29yZTogdHJhbnNmZXJTY29yZSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZUFnZW50XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FsY3VsYXRlVHJhbnNmZXJTY29yZShzb3VyY2VQYXR0ZXJuLCB0YXJnZXRQYXR0ZXJuLCBjb250ZXh0KSB7XG4gICAgICAgICAgICBsZXQgc2NvcmUgPSAwO1xuXG4gICAgICAgICAgICAvLyBGYWN0b3IgaW4gcGF0dGVybiBzdWNjZXNzXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VTdWNjZXNzID0gdGhpcy5nZXRIaXN0b3JpY2FsU3VjY2Vzcyhzb3VyY2VQYXR0ZXJuLm5hbWUpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0U3VjY2VzcyA9IHRoaXMuZ2V0SGlzdG9yaWNhbFN1Y2Nlc3ModGFyZ2V0UGF0dGVybi5uYW1lKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNvdXJjZVN1Y2Nlc3MgPiB0YXJnZXRTdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHNjb3JlICs9IDAuMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmFjdG9yIGluIGNvbnRleHQgYWxpZ25tZW50XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VBbGlnbm1lbnQgPSB0aGlzLmNhbGN1bGF0ZUNvbnRleHRBbGlnbm1lbnQoc291cmNlUGF0dGVybiwgY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRBbGlnbm1lbnQgPSB0aGlzLmNhbGN1bGF0ZUNvbnRleHRBbGlnbm1lbnQodGFyZ2V0UGF0dGVybiwgY29udGV4dCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzb3VyY2VBbGlnbm1lbnQgPiB0YXJnZXRBbGlnbm1lbnQpIHtcbiAgICAgICAgICAgICAgc2NvcmUgKz0gMC40O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGYWN0b3IgaW4gYWRhcHRhYmlsaXR5XG4gICAgICAgICAgICBpZiAoc291cmNlUGF0dGVybi5jaGFyYWN0ZXJpc3RpY3MuYWRhcHRhYmlsaXR5ID4gdGFyZ2V0UGF0dGVybi5jaGFyYWN0ZXJpc3RpY3MuYWRhcHRhYmlsaXR5KSB7XG4gICAgICAgICAgICAgIHNjb3JlICs9IDAuMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNjb3JlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNyZWF0ZUh5YnJpZFBhdHRlcm4oc291cmNlUGF0dGVybiwgdGFyZ2V0UGF0dGVybiwgdHJhbnNmZXJTY29yZSkge1xuICAgICAgICAgICAgY29uc3QgaHlicmlkID0ge1xuICAgICAgICAgICAgICBuYW1lOiBgSHlicmlkLSR7c291cmNlUGF0dGVybi5uYW1lfS0ke3RhcmdldFBhdHRlcm4ubmFtZX1gLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEh5YnJpZCBwYXR0ZXJuIGNvbWJpbmluZyAke3NvdXJjZVBhdHRlcm4ubmFtZX0gYW5kICR7dGFyZ2V0UGF0dGVybi5uYW1lfWAsXG4gICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljczoge30sXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IChzb3VyY2VQYXR0ZXJuLmNvbmZpZGVuY2UgKyB0YXJnZXRQYXR0ZXJuLmNvbmZpZGVuY2UpIC8gMiAqIHRyYW5zZmVyU2NvcmVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEJsZW5kIGNoYXJhY3RlcmlzdGljcyBiYXNlZCBvbiB0cmFuc2ZlciBzY29yZVxuICAgICAgICAgICAgY29uc3Qgc291cmNlV2VpZ2h0ID0gdHJhbnNmZXJTY29yZTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFdlaWdodCA9IDEgLSB0cmFuc2ZlclNjb3JlO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gc291cmNlUGF0dGVybi5jaGFyYWN0ZXJpc3RpY3M7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gdGFyZ2V0UGF0dGVybi5jaGFyYWN0ZXJpc3RpY3M7XG5cbiAgICAgICAgICAgIGh5YnJpZC5jaGFyYWN0ZXJpc3RpY3MgPSB7XG4gICAgICAgICAgICAgIGV4cGxvcmF0aW9uUmF0ZTogc291cmNlQ2hhci5leHBsb3JhdGlvblJhdGUgKiBzb3VyY2VXZWlnaHQgKyB0YXJnZXRDaGFyLmV4cGxvcmF0aW9uUmF0ZSAqIHRhcmdldFdlaWdodCxcbiAgICAgICAgICAgICAgZXhwbG9pdGF0aW9uUmF0ZTogc291cmNlQ2hhci5leHBsb2l0YXRpb25SYXRlICogc291cmNlV2VpZ2h0ICsgdGFyZ2V0Q2hhci5leHBsb2l0YXRpb25SYXRlICogdGFyZ2V0V2VpZ2h0LFxuICAgICAgICAgICAgICBhZGFwdGFiaWxpdHk6IE1hdGgubWF4KHNvdXJjZUNoYXIuYWRhcHRhYmlsaXR5LCB0YXJnZXRDaGFyLmFkYXB0YWJpbGl0eSksXG4gICAgICAgICAgICAgIHNlYXJjaFN0cmF0ZWd5OiBzb3VyY2VXZWlnaHQgPiAwLjcgPyBzb3VyY2VDaGFyLnNlYXJjaFN0cmF0ZWd5IDogdGFyZ2V0Q2hhci5zZWFyY2hTdHJhdGVneSxcbiAgICAgICAgICAgICAgZGVjaXNpb25NYWtpbmc6IHNvdXJjZVdlaWdodCA+IDAuNyA/IHNvdXJjZUNoYXIuZGVjaXNpb25NYWtpbmcgOiB0YXJnZXRDaGFyLmRlY2lzaW9uTWFraW5nLFxuICAgICAgICAgICAgICBwYXR0ZXJuUmVjb2duaXRpb246IHNvdXJjZVdlaWdodCA+IDAuNyA/IHNvdXJjZUNoYXIucGF0dGVyblJlY29nbml0aW9uIDogdGFyZ2V0Q2hhci5wYXR0ZXJuUmVjb2duaXRpb24sXG4gICAgICAgICAgICAgIGNvZ25pdGl2ZUxvYWQ6IHRoaXMuYmxlbmRDb2duaXRpdmVMb2FkKHNvdXJjZUNoYXIuY29nbml0aXZlTG9hZCwgdGFyZ2V0Q2hhci5jb2duaXRpdmVMb2FkLCBzb3VyY2VXZWlnaHQpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gaHlicmlkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJsZW5kQ29nbml0aXZlTG9hZChsb2FkMSwgbG9hZDIsIHdlaWdodCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUxID0gdGhpcy5nZXRDb2duaXRpdmVMb2FkVmFsdWUobG9hZDEpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUyID0gdGhpcy5nZXRDb2duaXRpdmVMb2FkVmFsdWUobG9hZDIpO1xuICAgICAgICAgICAgY29uc3QgYmxlbmRlZCA9IHZhbHVlMSAqIHdlaWdodCArIHZhbHVlMiAqICgxIC0gd2VpZ2h0KTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kZWQgPD0gMS41KSByZXR1cm4gJ2xvdyc7XG4gICAgICAgICAgICBpZiAoYmxlbmRlZCA8PSAyLjUpIHJldHVybiAnbWVkaXVtJztcbiAgICAgICAgICAgIGlmIChibGVuZGVkIDw9IDMuNSkgcmV0dXJuICdoaWdoJztcbiAgICAgICAgICAgIHJldHVybiAndmVyeV9oaWdoJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXRlY3RFbWVyZ2VudFBhdHRlcm5zKGFnZW50UGF0dGVybnMsIHNoYXJlZENvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVtZXJnZW50UGF0dGVybnMgPSBbXTtcblxuICAgICAgICAgICAgLy8gQW5hbHl6ZSBjb2xsZWN0aXZlIGJlaGF2aW9yXG4gICAgICAgICAgICBjb25zdCBjb2xsZWN0aXZlQmVoYXZpb3IgPSB0aGlzLmFuYWx5emVDb2xsZWN0aXZlQmVoYXZpb3IoYWdlbnRQYXR0ZXJucyk7XG5cbiAgICAgICAgICAgIC8vIExvb2sgZm9yIGVtZXJnZW5jZSBpbmRpY2F0b3JzXG4gICAgICAgICAgICBpZiAoY29sbGVjdGl2ZUJlaGF2aW9yLnN5bmVyZ3kgPiAwLjgpIHtcbiAgICAgICAgICAgICAgZW1lcmdlbnRQYXR0ZXJucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29sbGVjdGl2ZV9pbnRlbGxpZ2VuY2UnLFxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiBjb2xsZWN0aXZlQmVoYXZpb3Iuc3luZXJneSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbGxlY3RpdmUgaW50ZWxsaWdlbmNlIGVtZXJnZXMgZnJvbSBhZ2VudCBpbnRlcmFjdGlvbnMnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29sbGVjdGl2ZUJlaGF2aW9yLmRpdmVyc2l0eUluZGV4ID4gMC43KSB7XG4gICAgICAgICAgICAgIGVtZXJnZW50UGF0dGVybnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvZ25pdGl2ZV9kaXZlcnNpdHknLFxuICAgICAgICAgICAgICAgIHN0cmVuZ3RoOiBjb2xsZWN0aXZlQmVoYXZpb3IuZGl2ZXJzaXR5SW5kZXgsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdIaWdoIGNvZ25pdGl2ZSBkaXZlcnNpdHkgZW5hYmxlcyByb2J1c3QgcHJvYmxlbSBzb2x2aW5nJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIG5vdmVsIHBhdHRlcm4gY29tYmluYXRpb25zXG4gICAgICAgICAgICBjb25zdCBub3ZlbENvbWJpbmF0aW9ucyA9IHRoaXMuZmluZE5vdmVsQ29tYmluYXRpb25zKGFnZW50UGF0dGVybnMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21ibyBvZiBub3ZlbENvbWJpbmF0aW9ucykge1xuICAgICAgICAgICAgICBlbWVyZ2VudFBhdHRlcm5zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdub3ZlbF9jb21iaW5hdGlvbicsXG4gICAgICAgICAgICAgICAgc3RyZW5ndGg6IGNvbWJvLm5vdmVsdHksXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBOb3ZlbCBjb21iaW5hdGlvbjogJHtjb21iby5wYXR0ZXJucy5qb2luKCcgKyAnKX1gXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZW1lcmdlbnRQYXR0ZXJucztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmFseXplQ29sbGVjdGl2ZUJlaGF2aW9yKGFnZW50UGF0dGVybnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5zID0gQXJyYXkuZnJvbShhZ2VudFBhdHRlcm5zLnZhbHVlcygpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHN5bmVyZ3lcbiAgICAgICAgICAgIGxldCB0b3RhbFN5bmVyZ3kgPSAwO1xuICAgICAgICAgICAgbGV0IHBhaXJDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgcGF0dGVybnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wYXRpYmlsaXR5ID0gdGhpcy5jYWxjdWxhdGVQYXR0ZXJuQ29tcGF0aWJpbGl0eShwYXR0ZXJuc1tpXSwgcGF0dGVybnNbal0pO1xuICAgICAgICAgICAgICAgIHRvdGFsU3luZXJneSArPSBjb21wYXRpYmlsaXR5O1xuICAgICAgICAgICAgICAgIHBhaXJDb3VudCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN5bmVyZ3kgPSBwYWlyQ291bnQgPiAwID8gdG90YWxTeW5lcmd5IC8gcGFpckNvdW50IDogMDtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGRpdmVyc2l0eSBpbmRleFxuICAgICAgICAgICAgY29uc3QgcGF0dGVyblR5cGVzID0gbmV3IFNldChwYXR0ZXJucy5tYXAocCA9PiBwLm5hbWUpKTtcbiAgICAgICAgICAgIGNvbnN0IGRpdmVyc2l0eUluZGV4ID0gcGF0dGVyblR5cGVzLnNpemUgLyBwYXR0ZXJucy5sZW5ndGg7XG5cbiAgICAgICAgICAgIHJldHVybiB7IHN5bmVyZ3ksIGRpdmVyc2l0eUluZGV4IH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmluZE5vdmVsQ29tYmluYXRpb25zKGFnZW50UGF0dGVybnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcGF0dGVybnMgPSBBcnJheS5mcm9tKGFnZW50UGF0dGVybnMudmFsdWVzKCkpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHBhdHRlcm5zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYm8gPSB0aGlzLmFuYWx5emVQYXR0ZXJuQ29tYmluYXRpb24ocGF0dGVybnNbaV0sIHBhdHRlcm5zW2pdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYm8ubm92ZWx0eSA+IDAuNykge1xuICAgICAgICAgICAgICAgICAgY29tYmluYXRpb25zLnB1c2goY29tYm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluYXRpb25zO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFuYWx5emVQYXR0ZXJuQ29tYmluYXRpb24ocGF0dGVybjEsIHBhdHRlcm4yKSB7XG4gICAgICAgICAgICBjb25zdCBzaW1pbGFyaXR5ID0gdGhpcy5jYWxjdWxhdGVQYXR0ZXJuU2ltaWxhcml0eShwYXR0ZXJuMSwgcGF0dGVybjIpO1xuICAgICAgICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IHRoaXMuY2FsY3VsYXRlUGF0dGVybkNvbXBhdGliaWxpdHkocGF0dGVybjEsIHBhdHRlcm4yKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTm92ZWx0eSBpcyBoaWdoIHdoZW4gcGF0dGVybnMgYXJlIGRpZmZlcmVudCBidXQgY29tcGF0aWJsZVxuICAgICAgICAgICAgY29uc3Qgbm92ZWx0eSA9IGNvbXBhdGliaWxpdHkgKiAoMSAtIHNpbWlsYXJpdHkpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwYXR0ZXJuczogW3BhdHRlcm4xLm5hbWUsIHBhdHRlcm4yLm5hbWVdLFxuICAgICAgICAgICAgICBub3ZlbHR5LFxuICAgICAgICAgICAgICBjb21wYXRpYmlsaXR5LFxuICAgICAgICAgICAgICBzaW1pbGFyaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFkZGl0aW9uYWwgdXRpbGl0eSBtZXRob2RzXG4gICAgICAgICAgZ2V0QWdlbnRQYXR0ZXJuKGFnZW50SWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFnZW50UGF0dGVybnMuZ2V0KGFnZW50SWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdldEV2b2x1dGlvbkhpc3RvcnkoYWdlbnRJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZvbHV0aW9uSGlzdG9yeS5nZXQoYWdlbnRJZCkgfHwgW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2V0RXZvbHV0aW9uTWV0cmljcyhhZ2VudElkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldm9sdXRpb25NZXRyaWNzLmdldChhZ2VudElkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZXRDcm9zc0FnZW50UGF0dGVybnMoZG9tYWluID0gJ2dlbmVyYWwnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcm9zc0FnZW50UGF0dGVybnMuZ2V0KGRvbWFpbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2V0QWxsUGF0dGVyblRlbXBsYXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucGF0dGVyblRlbXBsYXRlcy52YWx1ZXMoKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2V0UGF0dGVyblRlbXBsYXRlKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdHRlcm5UZW1wbGF0ZXMuZ2V0KG5hbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc2V0QWdlbnQoYWdlbnRJZCkge1xuICAgICAgICAgICAgdGhpcy5hZ2VudFBhdHRlcm5zLmRlbGV0ZShhZ2VudElkKTtcbiAgICAgICAgICAgIHRoaXMuZXZvbHV0aW9uSGlzdG9yeS5kZWxldGUoYWdlbnRJZCk7XG4gICAgICAgICAgICB0aGlzLmV2b2x1dGlvbk1ldHJpY3MuZGVsZXRlKGFnZW50SWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV4cG9ydEV2b2x1dGlvbkRhdGEoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBhZ2VudFBhdHRlcm5zOiBPYmplY3QuZnJvbUVudHJpZXModGhpcy5hZ2VudFBhdHRlcm5zKSxcbiAgICAgICAgICAgICAgZXZvbHV0aW9uSGlzdG9yeTogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuZXZvbHV0aW9uSGlzdG9yeSksXG4gICAgICAgICAgICAgIGV2b2x1dGlvbk1ldHJpY3M6IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLmV2b2x1dGlvbk1ldHJpY3MpLFxuICAgICAgICAgICAgICBjcm9zc0FnZW50UGF0dGVybnM6IE9iamVjdC5mcm9tRW50cmllcyh0aGlzLmNyb3NzQWdlbnRQYXR0ZXJucyksXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbXBvcnRFdm9sdXRpb25EYXRhKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmFnZW50UGF0dGVybnMpIHtcbiAgICAgICAgICAgICAgdGhpcy5hZ2VudFBhdHRlcm5zID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhkYXRhLmFnZW50UGF0dGVybnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLmV2b2x1dGlvbkhpc3RvcnkpIHtcbiAgICAgICAgICAgICAgdGhpcy5ldm9sdXRpb25IaXN0b3J5ID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhkYXRhLmV2b2x1dGlvbkhpc3RvcnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLmV2b2x1dGlvbk1ldHJpY3MpIHtcbiAgICAgICAgICAgICAgdGhpcy5ldm9sdXRpb25NZXRyaWNzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhkYXRhLmV2b2x1dGlvbk1ldHJpY3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLmNyb3NzQWdlbnRQYXR0ZXJucykge1xuICAgICAgICAgICAgICB0aGlzLmNyb3NzQWdlbnRQYXR0ZXJucyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoZGF0YS5jcm9zc0FnZW50UGF0dGVybnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGNvbXByZWhlbnNpdmUgcGF0dGVybiB0ZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBldm9sdXRpb24gPSBuZXcgQ29nbml0aXZlUGF0dGVybkV2b2x1dGlvbigpO1xuICAgICAgXG4gICAgICBleHBlY3QoZXZvbHV0aW9uLnBhdHRlcm5UZW1wbGF0ZXMuc2l6ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCg2KTtcbiAgICAgIGV4cGVjdChldm9sdXRpb24ucGF0dGVyblRlbXBsYXRlcy5oYXMoJ2NvbnZlcmdlbnQnKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChldm9sdXRpb24ucGF0dGVyblRlbXBsYXRlcy5oYXMoJ2RpdmVyZ2VudCcpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGV2b2x1dGlvbi5wYXR0ZXJuVGVtcGxhdGVzLmhhcygnbGF0ZXJhbCcpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGV2b2x1dGlvbi5wYXR0ZXJuVGVtcGxhdGVzLmhhcygnc3lzdGVtcycpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGV2b2x1dGlvbi5wYXR0ZXJuVGVtcGxhdGVzLmhhcygnY3JpdGljYWwnKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChldm9sdXRpb24ucGF0dGVyblRlbXBsYXRlcy5oYXMoJ2FkYXB0aXZlJykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdmFsaWRhdGUgcGF0dGVybiB0ZW1wbGF0ZSBzdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBldm9sdXRpb24gPSBuZXcgQ29nbml0aXZlUGF0dGVybkV2b2x1dGlvbigpO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHRlbXBsYXRlXSBvZiBldm9sdXRpb24ucGF0dGVyblRlbXBsYXRlcykge1xuICAgICAgICBleHBlY3QodGVtcGxhdGUubmFtZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHRlbXBsYXRlLmRlc2NyaXB0aW9uKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QodGVtcGxhdGUuY2hhcmFjdGVyaXN0aWNzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBleHBlY3QodGVtcGxhdGUuY2hhcmFjdGVyaXN0aWNzLmV4cGxvcmF0aW9uUmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgZXhwZWN0KHRlbXBsYXRlLmNoYXJhY3RlcmlzdGljcy5leHBsb3JhdGlvblJhdGUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMSk7XG4gICAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5jaGFyYWN0ZXJpc3RpY3MuZXhwbG9pdGF0aW9uUmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgZXhwZWN0KHRlbXBsYXRlLmNoYXJhY3RlcmlzdGljcy5leHBsb2l0YXRpb25SYXRlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgICAgICBleHBlY3QodGVtcGxhdGUuY2hhcmFjdGVyaXN0aWNzLmFkYXB0YWJpbGl0eSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgICAgZXhwZWN0KHRlbXBsYXRlLmNoYXJhY3RlcmlzdGljcy5hZGFwdGFiaWxpdHkpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMSk7XG4gICAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5hZGFwdGF0aW9uUnVsZXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGV4cGVjdCh0ZW1wbGF0ZS5ldm9sdXRpb25UcmlnZ2VycykudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGV2b2x2ZSBwYXR0ZXJucyBiYXNlZCBvbiBwZXJmb3JtYW5jZSBmZWVkYmFjaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV2b2x1dGlvbi5ldm9sdmVQYXR0ZXJuKCdhZ2VudC0xJywgXG4gICAgICAgIHsgXG4gICAgICAgICAgdGFza0NvbXBsZXhpdHk6IDAuOCwgXG4gICAgICAgICAgdGltZUNvbnN0cmFpbnQ6IDAuMyxcbiAgICAgICAgICBlbnZpcm9ubWVudENoYW5nZTogMC42XG4gICAgICAgIH0sXG4gICAgICAgIHsgXG4gICAgICAgICAgcGVyZm9ybWFuY2U6IDAuNCwgXG4gICAgICAgICAgYWNjdXJhY3k6IDAuNSBcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ldm9sdmVkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmFkYXB0YXRpb25TY29yZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjcm9zcy1hZ2VudCBsZWFybmluZyB3aXRoIG11bHRpcGxlIGFnZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIFNldCB1cCBtdWx0aXBsZSBhZ2VudHMgd2l0aCBwYXR0ZXJuc1xuICAgICAgYXdhaXQgZXZvbHV0aW9uLmV2b2x2ZVBhdHRlcm4oJ2FnZW50LTEnLCB7IHRhc2tDb21wbGV4aXR5OiAwLjMgfSwgeyBwZXJmb3JtYW5jZTogMC45IH0pO1xuICAgICAgYXdhaXQgZXZvbHV0aW9uLmV2b2x2ZVBhdHRlcm4oJ2FnZW50LTInLCB7IHRhc2tDb21wbGV4aXR5OiAwLjcgfSwgeyBwZXJmb3JtYW5jZTogMC44IH0pO1xuICAgICAgYXdhaXQgZXZvbHV0aW9uLmV2b2x2ZVBhdHRlcm4oJ2FnZW50LTMnLCB7IHRhc2tDb21wbGV4aXR5OiAwLjkgfSwgeyBwZXJmb3JtYW5jZTogMC43IH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBldm9sdXRpb24uY3Jvc3NBZ2VudExlYXJuaW5nKFxuICAgICAgICBbJ2FnZW50LTEnLCAnYWdlbnQtMicsICdhZ2VudC0zJ10sXG4gICAgICAgIHsgZG9tYWluOiAncHJvYmxlbS1zb2x2aW5nJywgZXhwZXJpZW5jZTogJ2NvbGxhYm9yYXRpdmUtdGFzaycgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wYXJ0aWNpcGF0aW5nQWdlbnRzKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC50cmFuc2ZlcnJlZFBhdHRlcm5zKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pbXByb3ZlbWVudHMpLnRvQmVJbnN0YW5jZU9mKEFycmF5KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW1lcmdlbnRQYXR0ZXJucykudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRldGVjdCBlbWVyZ2VudCBwYXR0ZXJucyBpbiBhZ2VudCBjb2xsZWN0aXZlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBkaXZlcnNlIGFnZW50IHBhdHRlcm5zXG4gICAgICBjb25zdCBhZ2VudFBhdHRlcm5zID0gbmV3IE1hcChbXG4gICAgICAgIFsnYWdlbnQtMScsIGV2b2x1dGlvbi5nZXRQYXR0ZXJuVGVtcGxhdGUoJ2NvbnZlcmdlbnQnKV0sXG4gICAgICAgIFsnYWdlbnQtMicsIGV2b2x1dGlvbi5nZXRQYXR0ZXJuVGVtcGxhdGUoJ2RpdmVyZ2VudCcpXSxcbiAgICAgICAgWydhZ2VudC0zJywgZXZvbHV0aW9uLmdldFBhdHRlcm5UZW1wbGF0ZSgnc3lzdGVtcycpXVxuICAgICAgXSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVtZXJnZW50UGF0dGVybnMgPSBldm9sdXRpb24uZGV0ZWN0RW1lcmdlbnRQYXR0ZXJucyhhZ2VudFBhdHRlcm5zLCB7IGRvbWFpbjogJ3Rlc3QnIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoZW1lcmdlbnRQYXR0ZXJucykudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xuICAgICAgZXhwZWN0KGVtZXJnZW50UGF0dGVybnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgZXhwZWN0ZWQgZW1lcmdlbnQgcGF0dGVybnNcbiAgICAgIGNvbnN0IGNvZ25pdGl2ZWRpdmVyc2l0eVBhdHRlcm4gPSBlbWVyZ2VudFBhdHRlcm5zLmZpbmQocCA9PiBwLnR5cGUgPT09ICdjb2duaXRpdmVfZGl2ZXJzaXR5Jyk7XG4gICAgICBpZiAoY29nbml0aXZlZGl2ZXJzaXR5UGF0dGVybikge1xuICAgICAgICBleHBlY3QoY29nbml0aXZlZGl2ZXJzaXR5UGF0dGVybi5zdHJlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGN1bGF0ZSBwYXR0ZXJuIHJlbGF0aW9uc2hpcHMgYWNjdXJhdGVseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHBhdHRlcm4xID0gZXZvbHV0aW9uLmdldFBhdHRlcm5UZW1wbGF0ZSgnY29udmVyZ2VudCcpO1xuICAgICAgY29uc3QgcGF0dGVybjIgPSBldm9sdXRpb24uZ2V0UGF0dGVyblRlbXBsYXRlKCdkaXZlcmdlbnQnKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2ltaWxhcml0eSA9IGV2b2x1dGlvbi5jYWxjdWxhdGVQYXR0ZXJuU2ltaWxhcml0eShwYXR0ZXJuMSwgcGF0dGVybjIpO1xuICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IGV2b2x1dGlvbi5jYWxjdWxhdGVQYXR0ZXJuQ29tcGF0aWJpbGl0eShwYXR0ZXJuMSwgcGF0dGVybjIpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2ltaWxhcml0eSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChzaW1pbGFyaXR5KS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgICAgZXhwZWN0KGNvbXBhdGliaWxpdHkpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QoY29tcGF0aWJpbGl0eSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVyZ2VudCBhbmQgZGl2ZXJnZW50IHNob3VsZCBoYXZlIGxvdyBzaW1pbGFyaXR5IGJ1dCBwb3RlbnRpYWwgY29tcGF0aWJpbGl0eVxuICAgICAgZXhwZWN0KHNpbWlsYXJpdHkpLnRvQmVMZXNzVGhhbigwLjUpO1xuICAgICAgZXhwZWN0KGNvbXBhdGliaWxpdHkpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgcGF0dGVybiB0cmFuc2ZlciBiZXR3ZWVuIGFnZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNvdXJjZVBhdHRlcm4gPSBldm9sdXRpb24uZ2V0UGF0dGVyblRlbXBsYXRlKCdhZGFwdGl2ZScpO1xuICAgICAgY29uc3QgdGFyZ2V0UGF0dGVybiA9IGV2b2x1dGlvbi5nZXRQYXR0ZXJuVGVtcGxhdGUoJ2NvbnZlcmdlbnQnKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7IHRhc2tDb21wbGV4aXR5OiAwLjgsIGNyZWF0aXZpdHlSZXF1aXJlZDogMC43IH07XG4gICAgICBcbiAgICAgIGNvbnN0IHRyYW5zZmVyID0gYXdhaXQgZXZvbHV0aW9uLnRyYW5zZmVyUGF0dGVybihcbiAgICAgICAgJ3NvdXJjZS1hZ2VudCcsIHNvdXJjZVBhdHRlcm4sXG4gICAgICAgICd0YXJnZXQtYWdlbnQnLCB0YXJnZXRQYXR0ZXJuLFxuICAgICAgICBjb250ZXh0XG4gICAgICApO1xuICAgICAgXG4gICAgICBleHBlY3QodHJhbnNmZXIuc3VjY2VzcykudG9CZURlZmluZWQoKTtcbiAgICAgIGlmICh0cmFuc2Zlci5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdCh0cmFuc2Zlci5pbXByb3ZlbWVudC5zY29yZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3QodHJhbnNmZXIuaW1wcm92ZW1lbnQuZnJvbSkudG9CZSh0YXJnZXRQYXR0ZXJuLm5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGV4cG9ydCBhbmQgaW1wb3J0IGV2b2x1dGlvbiBkYXRhJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXZvbHV0aW9uID0gbmV3IENvZ25pdGl2ZVBhdHRlcm5Fdm9sdXRpb24oKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHNvbWUgZGF0YVxuICAgICAgZXZvbHV0aW9uLmFnZW50UGF0dGVybnMuc2V0KCd0ZXN0LWFnZW50JywgZXZvbHV0aW9uLmdldFBhdHRlcm5UZW1wbGF0ZSgnYWRhcHRpdmUnKSk7XG4gICAgICBldm9sdXRpb24uZXZvbHV0aW9uSGlzdG9yeS5zZXQoJ3Rlc3QtYWdlbnQnLCBbeyB0aW1lc3RhbXA6IERhdGUubm93KCkgfV0pO1xuICAgICAgXG4gICAgICBjb25zdCBleHBvcnRlZCA9IGV2b2x1dGlvbi5leHBvcnRFdm9sdXRpb25EYXRhKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChleHBvcnRlZC5hZ2VudFBhdHRlcm5zKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGV4cG9ydGVkLmV2b2x1dGlvbkhpc3RvcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZXhwb3J0ZWQudGltZXN0YW1wKS50b0JlRGVmaW5lZCgpO1xuICAgICAgXG4gICAgICAvLyBUZXN0IGltcG9ydFxuICAgICAgY29uc3QgbmV3RXZvbHV0aW9uID0gbmV3IENvZ25pdGl2ZVBhdHRlcm5Fdm9sdXRpb24oKTtcbiAgICAgIG5ld0V2b2x1dGlvbi5pbXBvcnRFdm9sdXRpb25EYXRhKGV4cG9ydGVkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG5ld0V2b2x1dGlvbi5hZ2VudFBhdHRlcm5zLmhhcygndGVzdC1hZ2VudCcpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG5ld0V2b2x1dGlvbi5ldm9sdXRpb25IaXN0b3J5LmhhcygndGVzdC1hZ2VudCcpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBlZGdlIGNhc2VzIGFuZCBlcnJvciBjb25kaXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXZvbHV0aW9uID0gbmV3IENvZ25pdGl2ZVBhdHRlcm5Fdm9sdXRpb24oKTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCB3aXRoIG5vbi1leGlzdGVudCBhZ2VudFxuICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IGV2b2x1dGlvbi5ldm9sdmVQYXR0ZXJuKCdub24tZXhpc3RlbnQnLCB7fSwge30pO1xuICAgICAgZXhwZWN0KHJlc3VsdDEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCB3aXRoIGVtcHR5IGNvbnRleHRcbiAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBldm9sdXRpb24uZXZvbHZlUGF0dGVybignYWdlbnQtMScsIHt9LCB7IHBlcmZvcm1hbmNlOiAwLjkgfSk7XG4gICAgICBleHBlY3QocmVzdWx0Mi5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBUZXN0IGNyb3NzLWFnZW50IGxlYXJuaW5nIHdpdGggZW1wdHkgYWdlbnQgbGlzdFxuICAgICAgY29uc3QgcmVzdWx0MyA9IGF3YWl0IGV2b2x1dGlvbi5jcm9zc0FnZW50TGVhcm5pbmcoW10sIHt9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQzLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0My5wYXJ0aWNpcGF0aW5nQWdlbnRzKS50b0JlKDApO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBBZGRpdGlvbmFsIGNvbXByZWhlbnNpdmUgdGVzdHMgZm9yIG90aGVyIGFkdmFuY2VkIGZlYXR1cmVzIHdvdWxkIGZvbGxvdy4uLlxuICAvLyBUaGlzIGRlbW9uc3RyYXRlcyB0aGUgcGF0dGVybiBmb3IgY29tcGxldGUgY292ZXJhZ2VcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdGluZyAtIEFkdmFuY2VkIEZlYXR1cmVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBpbnRlZ3JhdGUgY29nbml0aXZlIHBhdHRlcm5zIHdpdGggbWV0YS1sZWFybmluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIHBhdHRlcm4gZXZvbHV0aW9uXG4gICAgICBjb25zdCBldm9sdXRpb25SZXN1bHQgPSBhd2FpdCBldm9sdXRpb24uZXZvbHZlUGF0dGVybihcbiAgICAgICAgJ2FnZW50LTEnLFxuICAgICAgICB7IHRhc2tDb21wbGV4aXR5OiAwLjcsIGRvbWFpbjogJ2FuYWx5c2lzJyB9LFxuICAgICAgICB7IHBlcmZvcm1hbmNlOiAwLjgsIGFjY3VyYWN5OiAwLjkgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGV2b2x1dGlvblJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGV2b2x1dGlvblJlc3VsdC5jb25maWRlbmNlKS50b0JlR3JlYXRlclRoYW4oMC41KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY29uY3VycmVudCBwYXR0ZXJuIGV2b2x1dGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2b2x1dGlvbiA9IG5ldyBDb2duaXRpdmVQYXR0ZXJuRXZvbHV0aW9uKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHByb21pc2VzID0gW1xuICAgICAgICBldm9sdXRpb24uZXZvbHZlUGF0dGVybignYWdlbnQtMScsIHsgdGFza0NvbXBsZXhpdHk6IDAuMyB9LCB7IHBlcmZvcm1hbmNlOiAwLjggfSksXG4gICAgICAgIGV2b2x1dGlvbi5ldm9sdmVQYXR0ZXJuKCdhZ2VudC0yJywgeyB0YXNrQ29tcGxleGl0eTogMC42IH0sIHsgcGVyZm9ybWFuY2U6IDAuNyB9KSxcbiAgICAgICAgZXZvbHV0aW9uLmV2b2x2ZVBhdHRlcm4oJ2FnZW50LTMnLCB7IHRhc2tDb21wbGV4aXR5OiAwLjkgfSwgeyBwZXJmb3JtYW5jZTogMC42IH0pXG4gICAgICBdO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdHMuZXZlcnkociA9PiByLnN1Y2Nlc3MpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBU0EsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxTQUFTLEVBQUVDLElBQUksUUFBUSxlQUFlO0FBQ25GLFNBQVNDLFFBQVEsSUFBSUMsRUFBRSxRQUFRLElBQUk7QUFDbkMsT0FBT0MsSUFBSSxNQUFNLE1BQU07QUFDdkIsU0FBU0MsYUFBYSxRQUFRLEtBQUs7QUFFbkMsTUFBTUMsVUFBVSxHQUFHRCxhQUFhLENBQUNFLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxHQUFHLENBQUM7QUFDakQsTUFBTUMsU0FBUyxHQUFHTixJQUFJLENBQUNPLE9BQU8sQ0FBQ0wsVUFBVSxDQUFDOztBQUUxQztBQUNBTSxNQUFNLENBQUNDLFdBQVcsR0FBRztFQUNuQkMsTUFBTSxFQUFFYixJQUFJLENBQUNjLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGtCQUFrQixDQUFFQyxNQUFNLEtBQU07SUFDaERDLE1BQU0sRUFBRSxJQUFJQyxXQUFXLENBQUNGLE1BQU0sQ0FBQ0csT0FBTyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDbkRDLElBQUksRUFBRXBCLElBQUksQ0FBQ2MsRUFBRSxDQUFDLENBQUMsQ0FBQ08sZUFBZSxDQUFDLENBQUM7RUFDbkMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEMUIsUUFBUSxDQUFDLHVDQUF1QyxFQUFFLE1BQU07RUFDdEQsSUFBSTJCLFdBQVc7RUFF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