7b7bf227ea477d6332b05446e0a0eb2c
/**
 * Integration Tests for Coverage - Actually imports and tests real modules
 */

import { RuvSwarm } from '../src/index.js';
import { RuvSwarmEnhanced } from '../src/index-enhanced.js';
import { NeuralAgent } from '../src/neural-agent.js';
import { NeuralNetworkManager } from '../src/neural-network-manager.js';
import { SwarmPersistence } from '../src/persistence.js';
import { WasmLoader } from '../src/wasm-loader.js';
import { BenchmarkCLI } from '../src/benchmark.js';
import { getMemoryConfig } from '../src/memory-config.js';
import { NeuralCLI } from '../src/neural.js';
import { createRequire } from 'module';
const require = createRequire(import.meta.url);
const {
  PerformanceCLI
} = require('../src/performance.js');

// Test memory config
console.log('Testing memory-config.js...');
const memConfig = getMemoryConfig();
console.log('✓ Memory config loaded:', memConfig.neural ? 'with neural' : 'basic');

// Test basic initialization
console.log('\nTesting index.js...');
try {
  const ruv = await RuvSwarm.initialize();
  console.log('✓ RuvSwarm initialized');
  const version = RuvSwarm.getVersion();
  console.log('✓ Version:', version);
  const simdSupport = RuvSwarm.detectSIMDSupport();
  console.log('✓ SIMD support:', simdSupport);
  const swarm = await ruv.createSwarm({
    name: 'test-swarm',
    topology: 'mesh',
    maxAgents: 3
  });
  console.log('✓ Swarm created:', swarm.name);
  const agent = await swarm.spawn({
    type: 'researcher'
  });
  console.log('✓ Agent spawned:', agent.id);
  const result = await agent.execute({
    task: 'test-task'
  });
  console.log('✓ Task executed:', result.status);
  const status = await swarm.getStatus();
  console.log('✓ Status retrieved:', status);
  const orchestrated = await swarm.orchestrate({
    task: 'complex-task'
  });
  console.log('✓ Task orchestrated:', orchestrated.id);
} catch (error) {
  console.error('✗ RuvSwarm test failed:', error.message);
}

// Test enhanced version
console.log('\nTesting index-enhanced.js...');
try {
  const enhanced = new RuvSwarmEnhanced();
  await enhanced.initialize();
  console.log('✓ RuvSwarmEnhanced initialized');
  const swarmEnhanced = await enhanced.createSwarm({
    topology: 'hierarchical',
    enableNeuralAgents: true
  });
  console.log('✓ Enhanced swarm created');
  const neuralAgent = await swarmEnhanced.createNeuralAgent({
    type: 'adaptive',
    modelType: 'gru'
  });
  console.log('✓ Neural agent created');
} catch (error) {
  console.error('✗ RuvSwarmEnhanced test failed:', error.message);
}

// Test neural agent
console.log('\nTesting neural-agent.js...');
try {
  const neuralAgent = new NeuralAgent({
    type: 'researcher',
    model: 'transformer'
  });
  await neuralAgent.initialize();
  console.log('✓ NeuralAgent initialized');
  await neuralAgent.train([{
    input: [1, 2, 3],
    output: [0, 1]
  }]);
  console.log('✓ NeuralAgent trained');
  const prediction = await neuralAgent.predict([1, 2, 3]);
  console.log('✓ Prediction made:', prediction);
} catch (error) {
  console.error('✗ NeuralAgent test failed:', error.message);
}

// Test neural network manager
console.log('\nTesting neural-network-manager.js...');
try {
  const manager = new NeuralNetworkManager();
  await manager.initialize();
  console.log('✓ NeuralNetworkManager initialized');
  const network = await manager.createNetwork({
    layers: [10, 20, 10],
    activation: 'relu'
  });
  console.log('✓ Network created');
  const models = manager.listModels();
  console.log('✓ Models listed:', models.length);
} catch (error) {
  console.error('✗ NeuralNetworkManager test failed:', error.message);
}

// Test persistence
console.log('\nTesting persistence.js...');
try {
  const persistence = new SwarmPersistence();
  await persistence.initialize();
  console.log('✓ SwarmPersistence initialized');
  await persistence.saveSwarm({
    id: 'test-swarm',
    state: {
      agents: 3
    }
  });
  console.log('✓ Swarm saved');
  const loaded = await persistence.loadSwarm('test-swarm');
  console.log('✓ Swarm loaded:', loaded);
  await persistence.close();
  console.log('✓ Persistence closed');
} catch (error) {
  console.error('✗ SwarmPersistence test failed:', error.message);
}

// Test WASM loader
console.log('\nTesting wasm-loader.js...');
try {
  const loader = new WasmLoader();
  console.log('✓ WasmLoader created');
  const supported = loader.isSupported();
  console.log('✓ WASM support checked:', supported);
  const simd = loader.hasSIMDSupport();
  console.log('✓ SIMD support checked:', simd);
} catch (error) {
  console.error('✗ WasmLoader test failed:', error.message);
}

// Test benchmark
console.log('\nTesting benchmark.js...');
try {
  const benchmark = new BenchmarkCLI();
  console.log('✓ BenchmarkCLI created');

  // Test getArg method
  const arg = benchmark.getArg(['--type', 'wasm'], '--type');
  console.log('✓ Arg parsing works:', arg);
} catch (error) {
  console.error('✗ Benchmark test failed:', error.message);
}

// Test performance analyzer
console.log('\nTesting performance.js...');
try {
  const perfCLI = new PerformanceCLI();
  console.log('✓ PerformanceCLI created');

  // Test command parsing
  const command = perfCLI.parseCommand(['analyze', '--metric', 'cpu']);
  console.log('✓ Command parsed:', command);
} catch (error) {
  console.error('✗ Performance test failed:', error.message);
}

// Test neural module
console.log('\nTesting neural.js...');
try {
  const neuralCLI = new NeuralCLI();
  console.log('✓ NeuralCLI created');

  // Test pattern memory config
  const {
    PATTERN_MEMORY_CONFIG
  } = await import('../src/neural.js');
  console.log('✓ Pattern memory config loaded:', Object.keys(PATTERN_MEMORY_CONFIG));
} catch (error) {
  console.error('✗ Neural test failed:', error.message);
}
console.log('\n✅ Integration tests completed');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSdXZTd2FybSIsIlJ1dlN3YXJtRW5oYW5jZWQiLCJOZXVyYWxBZ2VudCIsIk5ldXJhbE5ldHdvcmtNYW5hZ2VyIiwiU3dhcm1QZXJzaXN0ZW5jZSIsIldhc21Mb2FkZXIiLCJCZW5jaG1hcmtDTEkiLCJnZXRNZW1vcnlDb25maWciLCJOZXVyYWxDTEkiLCJjcmVhdGVSZXF1aXJlIiwicmVxdWlyZSIsImltcG9ydCIsIm1ldGEiLCJ1cmwiLCJQZXJmb3JtYW5jZUNMSSIsImNvbnNvbGUiLCJsb2ciLCJtZW1Db25maWciLCJuZXVyYWwiLCJydXYiLCJpbml0aWFsaXplIiwidmVyc2lvbiIsImdldFZlcnNpb24iLCJzaW1kU3VwcG9ydCIsImRldGVjdFNJTURTdXBwb3J0Iiwic3dhcm0iLCJjcmVhdGVTd2FybSIsIm5hbWUiLCJ0b3BvbG9neSIsIm1heEFnZW50cyIsImFnZW50Iiwic3Bhd24iLCJ0eXBlIiwiaWQiLCJyZXN1bHQiLCJleGVjdXRlIiwidGFzayIsInN0YXR1cyIsImdldFN0YXR1cyIsIm9yY2hlc3RyYXRlZCIsIm9yY2hlc3RyYXRlIiwiZXJyb3IiLCJtZXNzYWdlIiwiZW5oYW5jZWQiLCJzd2FybUVuaGFuY2VkIiwiZW5hYmxlTmV1cmFsQWdlbnRzIiwibmV1cmFsQWdlbnQiLCJjcmVhdGVOZXVyYWxBZ2VudCIsIm1vZGVsVHlwZSIsIm1vZGVsIiwidHJhaW4iLCJpbnB1dCIsIm91dHB1dCIsInByZWRpY3Rpb24iLCJwcmVkaWN0IiwibWFuYWdlciIsIm5ldHdvcmsiLCJjcmVhdGVOZXR3b3JrIiwibGF5ZXJzIiwiYWN0aXZhdGlvbiIsIm1vZGVscyIsImxpc3RNb2RlbHMiLCJsZW5ndGgiLCJwZXJzaXN0ZW5jZSIsInNhdmVTd2FybSIsInN0YXRlIiwiYWdlbnRzIiwibG9hZGVkIiwibG9hZFN3YXJtIiwiY2xvc2UiLCJsb2FkZXIiLCJzdXBwb3J0ZWQiLCJpc1N1cHBvcnRlZCIsInNpbWQiLCJoYXNTSU1EU3VwcG9ydCIsImJlbmNobWFyayIsImFyZyIsImdldEFyZyIsInBlcmZDTEkiLCJjb21tYW5kIiwicGFyc2VDb21tYW5kIiwibmV1cmFsQ0xJIiwiUEFUVEVSTl9NRU1PUllfQ09ORklHIiwiT2JqZWN0Iiwia2V5cyJdLCJzb3VyY2VzIjpbImNvdmVyYWdlLWludGVncmF0aW9uLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnRlZ3JhdGlvbiBUZXN0cyBmb3IgQ292ZXJhZ2UgLSBBY3R1YWxseSBpbXBvcnRzIGFuZCB0ZXN0cyByZWFsIG1vZHVsZXNcbiAqL1xuXG5pbXBvcnQgeyBSdXZTd2FybSB9IGZyb20gJy4uL3NyYy9pbmRleC5qcyc7XG5pbXBvcnQgeyBSdXZTd2FybUVuaGFuY2VkIH0gZnJvbSAnLi4vc3JjL2luZGV4LWVuaGFuY2VkLmpzJztcbmltcG9ydCB7IE5ldXJhbEFnZW50IH0gZnJvbSAnLi4vc3JjL25ldXJhbC1hZ2VudC5qcyc7XG5pbXBvcnQgeyBOZXVyYWxOZXR3b3JrTWFuYWdlciB9IGZyb20gJy4uL3NyYy9uZXVyYWwtbmV0d29yay1tYW5hZ2VyLmpzJztcbmltcG9ydCB7IFN3YXJtUGVyc2lzdGVuY2UgfSBmcm9tICcuLi9zcmMvcGVyc2lzdGVuY2UuanMnO1xuaW1wb3J0IHsgV2FzbUxvYWRlciB9IGZyb20gJy4uL3NyYy93YXNtLWxvYWRlci5qcyc7XG5pbXBvcnQgeyBCZW5jaG1hcmtDTEkgfSBmcm9tICcuLi9zcmMvYmVuY2htYXJrLmpzJztcbmltcG9ydCB7IGdldE1lbW9yeUNvbmZpZyB9IGZyb20gJy4uL3NyYy9tZW1vcnktY29uZmlnLmpzJztcbmltcG9ydCB7IE5ldXJhbENMSSB9IGZyb20gJy4uL3NyYy9uZXVyYWwuanMnO1xuaW1wb3J0IHsgY3JlYXRlUmVxdWlyZSB9IGZyb20gJ21vZHVsZSc7XG5cbmNvbnN0IHJlcXVpcmUgPSBjcmVhdGVSZXF1aXJlKGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCB7IFBlcmZvcm1hbmNlQ0xJIH0gPSByZXF1aXJlKCcuLi9zcmMvcGVyZm9ybWFuY2UuanMnKTtcblxuLy8gVGVzdCBtZW1vcnkgY29uZmlnXG5jb25zb2xlLmxvZygnVGVzdGluZyBtZW1vcnktY29uZmlnLmpzLi4uJyk7XG5jb25zdCBtZW1Db25maWcgPSBnZXRNZW1vcnlDb25maWcoKTtcbmNvbnNvbGUubG9nKCfinJMgTWVtb3J5IGNvbmZpZyBsb2FkZWQ6JywgbWVtQ29uZmlnLm5ldXJhbCA/ICd3aXRoIG5ldXJhbCcgOiAnYmFzaWMnKTtcblxuLy8gVGVzdCBiYXNpYyBpbml0aWFsaXphdGlvblxuY29uc29sZS5sb2coJ1xcblRlc3RpbmcgaW5kZXguanMuLi4nKTtcbnRyeSB7XG4gIGNvbnN0IHJ1diA9IGF3YWl0IFJ1dlN3YXJtLmluaXRpYWxpemUoKTtcbiAgY29uc29sZS5sb2coJ+KckyBSdXZTd2FybSBpbml0aWFsaXplZCcpO1xuICBcbiAgY29uc3QgdmVyc2lvbiA9IFJ1dlN3YXJtLmdldFZlcnNpb24oKTtcbiAgY29uc29sZS5sb2coJ+KckyBWZXJzaW9uOicsIHZlcnNpb24pO1xuICBcbiAgY29uc3Qgc2ltZFN1cHBvcnQgPSBSdXZTd2FybS5kZXRlY3RTSU1EU3VwcG9ydCgpO1xuICBjb25zb2xlLmxvZygn4pyTIFNJTUQgc3VwcG9ydDonLCBzaW1kU3VwcG9ydCk7XG4gIFxuICBjb25zdCBzd2FybSA9IGF3YWl0IHJ1di5jcmVhdGVTd2FybSh7XG4gICAgbmFtZTogJ3Rlc3Qtc3dhcm0nLFxuICAgIHRvcG9sb2d5OiAnbWVzaCcsXG4gICAgbWF4QWdlbnRzOiAzXG4gIH0pO1xuICBjb25zb2xlLmxvZygn4pyTIFN3YXJtIGNyZWF0ZWQ6Jywgc3dhcm0ubmFtZSk7XG4gIFxuICBjb25zdCBhZ2VudCA9IGF3YWl0IHN3YXJtLnNwYXduKHsgdHlwZTogJ3Jlc2VhcmNoZXInIH0pO1xuICBjb25zb2xlLmxvZygn4pyTIEFnZW50IHNwYXduZWQ6JywgYWdlbnQuaWQpO1xuICBcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWdlbnQuZXhlY3V0ZSh7IHRhc2s6ICd0ZXN0LXRhc2snIH0pO1xuICBjb25zb2xlLmxvZygn4pyTIFRhc2sgZXhlY3V0ZWQ6JywgcmVzdWx0LnN0YXR1cyk7XG4gIFxuICBjb25zdCBzdGF0dXMgPSBhd2FpdCBzd2FybS5nZXRTdGF0dXMoKTtcbiAgY29uc29sZS5sb2coJ+KckyBTdGF0dXMgcmV0cmlldmVkOicsIHN0YXR1cyk7XG4gIFxuICBjb25zdCBvcmNoZXN0cmF0ZWQgPSBhd2FpdCBzd2FybS5vcmNoZXN0cmF0ZSh7IHRhc2s6ICdjb21wbGV4LXRhc2snIH0pO1xuICBjb25zb2xlLmxvZygn4pyTIFRhc2sgb3JjaGVzdHJhdGVkOicsIG9yY2hlc3RyYXRlZC5pZCk7XG4gIFxufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcign4pyXIFJ1dlN3YXJtIHRlc3QgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xufVxuXG4vLyBUZXN0IGVuaGFuY2VkIHZlcnNpb25cbmNvbnNvbGUubG9nKCdcXG5UZXN0aW5nIGluZGV4LWVuaGFuY2VkLmpzLi4uJyk7XG50cnkge1xuICBjb25zdCBlbmhhbmNlZCA9IG5ldyBSdXZTd2FybUVuaGFuY2VkKCk7XG4gIGF3YWl0IGVuaGFuY2VkLmluaXRpYWxpemUoKTtcbiAgY29uc29sZS5sb2coJ+KckyBSdXZTd2FybUVuaGFuY2VkIGluaXRpYWxpemVkJyk7XG4gIFxuICBjb25zdCBzd2FybUVuaGFuY2VkID0gYXdhaXQgZW5oYW5jZWQuY3JlYXRlU3dhcm0oe1xuICAgIHRvcG9sb2d5OiAnaGllcmFyY2hpY2FsJyxcbiAgICBlbmFibGVOZXVyYWxBZ2VudHM6IHRydWVcbiAgfSk7XG4gIGNvbnNvbGUubG9nKCfinJMgRW5oYW5jZWQgc3dhcm0gY3JlYXRlZCcpO1xuICBcbiAgY29uc3QgbmV1cmFsQWdlbnQgPSBhd2FpdCBzd2FybUVuaGFuY2VkLmNyZWF0ZU5ldXJhbEFnZW50KHtcbiAgICB0eXBlOiAnYWRhcHRpdmUnLFxuICAgIG1vZGVsVHlwZTogJ2dydSdcbiAgfSk7XG4gIGNvbnNvbGUubG9nKCfinJMgTmV1cmFsIGFnZW50IGNyZWF0ZWQnKTtcbiAgXG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCfinJcgUnV2U3dhcm1FbmhhbmNlZCB0ZXN0IGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbn1cblxuLy8gVGVzdCBuZXVyYWwgYWdlbnRcbmNvbnNvbGUubG9nKCdcXG5UZXN0aW5nIG5ldXJhbC1hZ2VudC5qcy4uLicpO1xudHJ5IHtcbiAgY29uc3QgbmV1cmFsQWdlbnQgPSBuZXcgTmV1cmFsQWdlbnQoe1xuICAgIHR5cGU6ICdyZXNlYXJjaGVyJyxcbiAgICBtb2RlbDogJ3RyYW5zZm9ybWVyJ1xuICB9KTtcbiAgYXdhaXQgbmV1cmFsQWdlbnQuaW5pdGlhbGl6ZSgpO1xuICBjb25zb2xlLmxvZygn4pyTIE5ldXJhbEFnZW50IGluaXRpYWxpemVkJyk7XG4gIFxuICBhd2FpdCBuZXVyYWxBZ2VudC50cmFpbihbXG4gICAgeyBpbnB1dDogWzEsIDIsIDNdLCBvdXRwdXQ6IFswLCAxXSB9XG4gIF0pO1xuICBjb25zb2xlLmxvZygn4pyTIE5ldXJhbEFnZW50IHRyYWluZWQnKTtcbiAgXG4gIGNvbnN0IHByZWRpY3Rpb24gPSBhd2FpdCBuZXVyYWxBZ2VudC5wcmVkaWN0KFsxLCAyLCAzXSk7XG4gIGNvbnNvbGUubG9nKCfinJMgUHJlZGljdGlvbiBtYWRlOicsIHByZWRpY3Rpb24pO1xuICBcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ+KclyBOZXVyYWxBZ2VudCB0ZXN0IGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbn1cblxuLy8gVGVzdCBuZXVyYWwgbmV0d29yayBtYW5hZ2VyXG5jb25zb2xlLmxvZygnXFxuVGVzdGluZyBuZXVyYWwtbmV0d29yay1tYW5hZ2VyLmpzLi4uJyk7XG50cnkge1xuICBjb25zdCBtYW5hZ2VyID0gbmV3IE5ldXJhbE5ldHdvcmtNYW5hZ2VyKCk7XG4gIGF3YWl0IG1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICBjb25zb2xlLmxvZygn4pyTIE5ldXJhbE5ldHdvcmtNYW5hZ2VyIGluaXRpYWxpemVkJyk7XG4gIFxuICBjb25zdCBuZXR3b3JrID0gYXdhaXQgbWFuYWdlci5jcmVhdGVOZXR3b3JrKHtcbiAgICBsYXllcnM6IFsxMCwgMjAsIDEwXSxcbiAgICBhY3RpdmF0aW9uOiAncmVsdSdcbiAgfSk7XG4gIGNvbnNvbGUubG9nKCfinJMgTmV0d29yayBjcmVhdGVkJyk7XG4gIFxuICBjb25zdCBtb2RlbHMgPSBtYW5hZ2VyLmxpc3RNb2RlbHMoKTtcbiAgY29uc29sZS5sb2coJ+KckyBNb2RlbHMgbGlzdGVkOicsIG1vZGVscy5sZW5ndGgpO1xuICBcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ+KclyBOZXVyYWxOZXR3b3JrTWFuYWdlciB0ZXN0IGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbn1cblxuLy8gVGVzdCBwZXJzaXN0ZW5jZVxuY29uc29sZS5sb2coJ1xcblRlc3RpbmcgcGVyc2lzdGVuY2UuanMuLi4nKTtcbnRyeSB7XG4gIGNvbnN0IHBlcnNpc3RlbmNlID0gbmV3IFN3YXJtUGVyc2lzdGVuY2UoKTtcbiAgYXdhaXQgcGVyc2lzdGVuY2UuaW5pdGlhbGl6ZSgpO1xuICBjb25zb2xlLmxvZygn4pyTIFN3YXJtUGVyc2lzdGVuY2UgaW5pdGlhbGl6ZWQnKTtcbiAgXG4gIGF3YWl0IHBlcnNpc3RlbmNlLnNhdmVTd2FybSh7XG4gICAgaWQ6ICd0ZXN0LXN3YXJtJyxcbiAgICBzdGF0ZTogeyBhZ2VudHM6IDMgfVxuICB9KTtcbiAgY29uc29sZS5sb2coJ+KckyBTd2FybSBzYXZlZCcpO1xuICBcbiAgY29uc3QgbG9hZGVkID0gYXdhaXQgcGVyc2lzdGVuY2UubG9hZFN3YXJtKCd0ZXN0LXN3YXJtJyk7XG4gIGNvbnNvbGUubG9nKCfinJMgU3dhcm0gbG9hZGVkOicsIGxvYWRlZCk7XG4gIFxuICBhd2FpdCBwZXJzaXN0ZW5jZS5jbG9zZSgpO1xuICBjb25zb2xlLmxvZygn4pyTIFBlcnNpc3RlbmNlIGNsb3NlZCcpO1xuICBcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ+KclyBTd2FybVBlcnNpc3RlbmNlIHRlc3QgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xufVxuXG4vLyBUZXN0IFdBU00gbG9hZGVyXG5jb25zb2xlLmxvZygnXFxuVGVzdGluZyB3YXNtLWxvYWRlci5qcy4uLicpO1xudHJ5IHtcbiAgY29uc3QgbG9hZGVyID0gbmV3IFdhc21Mb2FkZXIoKTtcbiAgY29uc29sZS5sb2coJ+KckyBXYXNtTG9hZGVyIGNyZWF0ZWQnKTtcbiAgXG4gIGNvbnN0IHN1cHBvcnRlZCA9IGxvYWRlci5pc1N1cHBvcnRlZCgpO1xuICBjb25zb2xlLmxvZygn4pyTIFdBU00gc3VwcG9ydCBjaGVja2VkOicsIHN1cHBvcnRlZCk7XG4gIFxuICBjb25zdCBzaW1kID0gbG9hZGVyLmhhc1NJTURTdXBwb3J0KCk7XG4gIGNvbnNvbGUubG9nKCfinJMgU0lNRCBzdXBwb3J0IGNoZWNrZWQ6Jywgc2ltZCk7XG4gIFxufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcign4pyXIFdhc21Mb2FkZXIgdGVzdCBmYWlsZWQ6JywgZXJyb3IubWVzc2FnZSk7XG59XG5cbi8vIFRlc3QgYmVuY2htYXJrXG5jb25zb2xlLmxvZygnXFxuVGVzdGluZyBiZW5jaG1hcmsuanMuLi4nKTtcbnRyeSB7XG4gIGNvbnN0IGJlbmNobWFyayA9IG5ldyBCZW5jaG1hcmtDTEkoKTtcbiAgY29uc29sZS5sb2coJ+KckyBCZW5jaG1hcmtDTEkgY3JlYXRlZCcpO1xuICBcbiAgLy8gVGVzdCBnZXRBcmcgbWV0aG9kXG4gIGNvbnN0IGFyZyA9IGJlbmNobWFyay5nZXRBcmcoWyctLXR5cGUnLCAnd2FzbSddLCAnLS10eXBlJyk7XG4gIGNvbnNvbGUubG9nKCfinJMgQXJnIHBhcnNpbmcgd29ya3M6JywgYXJnKTtcbiAgXG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCfinJcgQmVuY2htYXJrIHRlc3QgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xufVxuXG4vLyBUZXN0IHBlcmZvcm1hbmNlIGFuYWx5emVyXG5jb25zb2xlLmxvZygnXFxuVGVzdGluZyBwZXJmb3JtYW5jZS5qcy4uLicpO1xudHJ5IHtcbiAgY29uc3QgcGVyZkNMSSA9IG5ldyBQZXJmb3JtYW5jZUNMSSgpO1xuICBjb25zb2xlLmxvZygn4pyTIFBlcmZvcm1hbmNlQ0xJIGNyZWF0ZWQnKTtcbiAgXG4gIC8vIFRlc3QgY29tbWFuZCBwYXJzaW5nXG4gIGNvbnN0IGNvbW1hbmQgPSBwZXJmQ0xJLnBhcnNlQ29tbWFuZChbJ2FuYWx5emUnLCAnLS1tZXRyaWMnLCAnY3B1J10pO1xuICBjb25zb2xlLmxvZygn4pyTIENvbW1hbmQgcGFyc2VkOicsIGNvbW1hbmQpO1xuICBcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ+KclyBQZXJmb3JtYW5jZSB0ZXN0IGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbn1cblxuLy8gVGVzdCBuZXVyYWwgbW9kdWxlXG5jb25zb2xlLmxvZygnXFxuVGVzdGluZyBuZXVyYWwuanMuLi4nKTtcbnRyeSB7XG4gIGNvbnN0IG5ldXJhbENMSSA9IG5ldyBOZXVyYWxDTEkoKTtcbiAgY29uc29sZS5sb2coJ+KckyBOZXVyYWxDTEkgY3JlYXRlZCcpO1xuICBcbiAgLy8gVGVzdCBwYXR0ZXJuIG1lbW9yeSBjb25maWdcbiAgY29uc3QgeyBQQVRURVJOX01FTU9SWV9DT05GSUcgfSA9IGF3YWl0IGltcG9ydCgnLi4vc3JjL25ldXJhbC5qcycpO1xuICBjb25zb2xlLmxvZygn4pyTIFBhdHRlcm4gbWVtb3J5IGNvbmZpZyBsb2FkZWQ6JywgT2JqZWN0LmtleXMoUEFUVEVSTl9NRU1PUllfQ09ORklHKSk7XG4gIFxufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcign4pyXIE5ldXJhbCB0ZXN0IGZhaWxlZDonLCBlcnJvci5tZXNzYWdlKTtcbn1cblxuY29uc29sZS5sb2coJ1xcbuKchSBJbnRlZ3JhdGlvbiB0ZXN0cyBjb21wbGV0ZWQnKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxRQUFRLFFBQVEsaUJBQWlCO0FBQzFDLFNBQVNDLGdCQUFnQixRQUFRLDBCQUEwQjtBQUMzRCxTQUFTQyxXQUFXLFFBQVEsd0JBQXdCO0FBQ3BELFNBQVNDLG9CQUFvQixRQUFRLGtDQUFrQztBQUN2RSxTQUFTQyxnQkFBZ0IsUUFBUSx1QkFBdUI7QUFDeEQsU0FBU0MsVUFBVSxRQUFRLHVCQUF1QjtBQUNsRCxTQUFTQyxZQUFZLFFBQVEscUJBQXFCO0FBQ2xELFNBQVNDLGVBQWUsUUFBUSx5QkFBeUI7QUFDekQsU0FBU0MsU0FBUyxRQUFRLGtCQUFrQjtBQUM1QyxTQUFTQyxhQUFhLFFBQVEsUUFBUTtBQUV0QyxNQUFNQyxPQUFPLEdBQUdELGFBQWEsQ0FBQ0UsTUFBTSxDQUFDQyxJQUFJLENBQUNDLEdBQUcsQ0FBQztBQUM5QyxNQUFNO0VBQUVDO0FBQWUsQ0FBQyxHQUFHSixPQUFPLENBQUMsdUJBQXVCLENBQUM7O0FBRTNEO0FBQ0FLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixDQUFDO0FBQzFDLE1BQU1DLFNBQVMsR0FBR1YsZUFBZSxDQUFDLENBQUM7QUFDbkNRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHlCQUF5QixFQUFFQyxTQUFTLENBQUNDLE1BQU0sR0FBRyxhQUFhLEdBQUcsT0FBTyxDQUFDOztBQUVsRjtBQUNBSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQztBQUNwQyxJQUFJO0VBQ0YsTUFBTUcsR0FBRyxHQUFHLE1BQU1uQixRQUFRLENBQUNvQixVQUFVLENBQUMsQ0FBQztFQUN2Q0wsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0JBQXdCLENBQUM7RUFFckMsTUFBTUssT0FBTyxHQUFHckIsUUFBUSxDQUFDc0IsVUFBVSxDQUFDLENBQUM7RUFDckNQLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFlB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